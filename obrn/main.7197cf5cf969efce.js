var T7=Object.defineProperty,E7=Object.defineProperties,I7=Object.getOwnPropertyDescriptors,S3=Object.getOwnPropertySymbols,A7=Object.prototype.hasOwnProperty,x7=Object.prototype.propertyIsEnumerable,k3=(vt,$e,Q)=>$e in vt?T7(vt,$e,{enumerable:!0,configurable:!0,writable:!0,value:Q}):vt[$e]=Q,Lt=(vt,$e)=>{for(var Q in $e||($e={}))A7.call($e,Q)&&k3(vt,Q,$e[Q]);if(S3)for(var Q of S3($e))x7.call($e,Q)&&k3(vt,Q,$e[Q]);return vt},es=(vt,$e)=>E7(vt,I7($e));(self.webpackChunkobsidianrune=self.webpackChunkobsidianrune||[]).push([[179],{7905:(vt,$e,Q)=>{"use strict";Q.d($e,{hO:()=>Ge,xv:()=>Ze,Dh:()=>Le,GT:()=>Re,cc:()=>Ye,on:()=>de,pX:()=>ke});var r=Q(3668),ne=Q(7892),H=Q(7233);vt=Q.hmd(vt);const xe=["ngOnDestroy"],ke=(j,P,S,b={})=>new Proxy(j,{get:(_,T)=>S.runOutsideAngular(()=>{var U;if(j[T])return(null===(U=null==b?void 0:b.spy)||void 0===U?void 0:U.get)&&b.spy.get(T,j[T]),j[T];if(xe.indexOf(T)>-1)return()=>{};const X=P.toPromise().then(ae=>{const G=ae&&ae[T];return"function"==typeof G?G.bind(ae):G&&G.then?G.then(ee=>S.run(()=>ee)):S.run(()=>G)});return new Proxy(()=>{},{get:(ae,G)=>X[G],apply:(ae,G,ee)=>X.then(le=>{var ge;const we=le&&le(...ee);return(null===(ge=null==b?void 0:b.spy)||void 0===ge?void 0:ge.apply)&&b.spy.apply(T,ee,we),we})})})}),Re=(j,P)=>{P.forEach(S=>{Object.getOwnPropertyNames(S.prototype||S).forEach(b=>{Object.defineProperty(j.prototype,b,Object.getOwnPropertyDescriptor(S.prototype||S,b))})})};class De{constructor(P){return P}}const Le=new r.OlP("angularfire2.app.options"),Ze=new r.OlP("angularfire2.app.name");function de(j,P,S){const _="object"==typeof S&&S||{};_.name=_.name||"string"==typeof S&&S||"[DEFAULT]";const U=ne.Z.apps.filter(X=>X&&X.name===_.name)[0]||P.runOutsideAngular(()=>ne.Z.initializeApp(j,_));try{JSON.stringify(j)!==JSON.stringify(U.options)&&ue("error",`${U.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(X){}return new De(U)}const ue=(j,...P)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[j](...P)},Ae={provide:De,useFactory:de,deps:[Le,r.R0b,[new r.FiY,Ze]]};let Ge=(()=>{class j{constructor(S){ne.Z.registerVersion("angularfire",H.q4.full,"core"),ne.Z.registerVersion("angularfire",H.q4.full,"app-compat"),ne.Z.registerVersion("angular",r.q4F.full,S.toString())}static initializeApp(S,b){return{ngModule:j,providers:[{provide:Le,useValue:S},{provide:Ze,useValue:b}]}}}return j.\u0275fac=function(S){return new(S||j)(r.LFG(r.Lbi))},j.\u0275mod=r.oAB({type:j}),j.\u0275inj=r.cJS({providers:[Ae]}),j})();function Ye(j,P,S,b,_){const[,T,U]=globalThis.\u0275AngularfireInstanceCache.find(X=>X[0]===j)||[];if(T)return function(j,P){try{return j.toString()===P.toString()}catch(S){return j===P}}(_,U)||(K("error",`${P} was already initialized on the ${S} Firebase App with different settings.${W?" You may need to reload as Firebase is not HMR aware.":""}`),K("warn",{is:_,was:U})),T;{const X=b();return globalThis.\u0275AngularfireInstanceCache.push([j,X,_]),X}}const W=!!vt.hot,K=(j,...P)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[j](...P)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(vt,$e,Q)=>{"use strict";Q.d($e,{q4:()=>xr,iC:()=>To,fc:()=>nn,HU:()=>pu,vb:()=>hg,JM:()=>Da});var r=Q(3668),ne=Q(7713),H=Q(8239),xe=Q(1572),ke=Q(4213),Re=Q(1177),De=Q(3855),Le=Q(4995);const Ze="@firebase/installations",Ae="w:0.5.4",Ge="FIS_v2",P=new ke.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function S(D){return D instanceof ke.ZR&&D.code.includes("request-failed")}function b({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function _(D){return{token:D.token,requestStatus:2,expiresIn:le(D.expiresIn),creationTime:Date.now()}}function T(D,k){return U.apply(this,arguments)}function U(){return(U=(0,H.Z)(function*(D,k){const ie=(yield k.json()).error;return P.create("request-failed",{requestName:D,serverCode:ie.code,serverMessage:ie.message,serverStatus:ie.status})})).apply(this,arguments)}function X({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ae(D,{refreshToken:k}){const V=X(D);return V.append("Authorization",function(D){return`${Ge} ${D}`}(k)),V}function G(D){return ee.apply(this,arguments)}function ee(){return(ee=(0,H.Z)(function*(D){const k=yield D();return k.status>=500&&k.status<600?D():k})).apply(this,arguments)}function le(D){return Number(D.replace("s","000"))}function we(D,k){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,H.Z)(function*(D,{fid:k}){const V=b(D),Ue={method:"POST",headers:X(D),body:JSON.stringify({fid:k,authVersion:Ge,appId:D.appId,sdkVersion:Ae})},Xe=yield G(()=>fetch(V,Ue));if(Xe.ok){const dt=yield Xe.json();return{fid:dt.fid||k,registrationStatus:2,refreshToken:dt.refreshToken,authToken:_(dt.authToken)}}throw yield T("Create Installation",Xe)})).apply(this,arguments)}function He(D){return new Promise(k=>{setTimeout(k,D)})}const St=/^[cdef][\w-]{21}$/;function Ct(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const V=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return St.test(V)?V:""}catch(D){return""}}function Xt(D){return`${D.appName}!${D.appId}`}const ln=new Map;function Rn(D,k){const V=Xt(D);yn(V,k),function(D,k){const V=(!en&&"BroadcastChannel"in self&&(en=new BroadcastChannel("[Firebase] FID Change"),en.onmessage=D=>{yn(D.data.key,D.data.fid)}),en);V&&V.postMessage({key:D,fid:k}),0===ln.size&&en&&(en.close(),en=null)}(V,k)}function yn(D,k){const V=ln.get(D);if(V)for(const ie of V)ie(k)}let en=null;const hn="firebase-installations-store";let Et=null;function ti(){return Et||(Et=(0,Le.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(hn)})),Et}function st(D,k){return fn.apply(this,arguments)}function fn(){return(fn=(0,H.Z)(function*(D,k){const V=Xt(D),Ee=(yield ti()).transaction(hn,"readwrite"),Ue=Ee.objectStore(hn),Xe=yield Ue.get(V);return yield Ue.put(k,V),yield Ee.complete,(!Xe||Xe.fid!==k.fid)&&Rn(D,k.fid),k})).apply(this,arguments)}function kn(D){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,H.Z)(function*(D){const k=Xt(D),ie=(yield ti()).transaction(hn,"readwrite");yield ie.objectStore(hn).delete(k),yield ie.complete})).apply(this,arguments)}function kt(D,k){return J.apply(this,arguments)}function J(){return(J=(0,H.Z)(function*(D,k){const V=Xt(D),Ee=(yield ti()).transaction(hn,"readwrite"),Ue=Ee.objectStore(hn),Xe=yield Ue.get(V),dt=k(Xe);return void 0===dt?yield Ue.delete(V):yield Ue.put(dt,V),yield Ee.complete,dt&&(!Xe||Xe.fid!==dt.fid)&&Rn(D,dt.fid),dt})).apply(this,arguments)}function ye(D){return N.apply(this,arguments)}function N(){return(N=(0,H.Z)(function*(D){let k;const V=yield kt(D,ie=>{const Ee=q(ie),Ue=te(D,Ee);return k=Ue.registrationPromise,Ue.installationEntry});return""===V.fid?{installationEntry:yield k}:{installationEntry:V,registrationPromise:k}})).apply(this,arguments)}function q(D){return Ht(D||{fid:Ct(),registrationStatus:0})}function te(D,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(P.create("app-offline"))};const V={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},ie=function(D,k){return Pe.apply(this,arguments)}(D,V);return{installationEntry:V,registrationPromise:ie}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:wt(D)}:{installationEntry:k}}function Pe(){return(Pe=(0,H.Z)(function*(D,k){try{return st(D,yield we(D,k))}catch(V){throw S(V)&&409===V.customData.serverCode?yield kn(D):yield st(D,{fid:k.fid,registrationStatus:0}),V}})).apply(this,arguments)}function wt(D){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,H.Z)(function*(D){let k=yield lt(D);for(;1===k.registrationStatus;)yield He(100),k=yield lt(D);if(0===k.registrationStatus){const{installationEntry:V,registrationPromise:ie}=yield ye(D);return ie||V}return k})).apply(this,arguments)}function lt(D){return kt(D,k=>{if(!k)throw P.create("installation-not-found");return Ht(k)})}function Ht(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function ht(D,k){return se.apply(this,arguments)}function se(){return(se=(0,H.Z)(function*({appConfig:D,platformLoggerProvider:k},V){const ie=oe(D,V),Ee=ae(D,V),Ue=k.getImmediate({optional:!0});Ue&&Ee.append("x-firebase-client",Ue.getPlatformInfoString());const dt={method:"POST",headers:Ee,body:JSON.stringify({installation:{sdkVersion:Ae}})},it=yield G(()=>fetch(ie,dt));if(it.ok)return _(yield it.json());throw yield T("Generate Auth Token",it)})).apply(this,arguments)}function oe(D,{fid:k}){return`${b(D)}/${k}/authTokens:generate`}function pe(D){return qe.apply(this,arguments)}function qe(){return(qe=(0,H.Z)(function*(D,k=!1){let V;const ie=yield kt(D.appConfig,Ue=>{if(!Kt(Ue))throw P.create("not-registered");const Xe=Ue.authToken;if(!k&&qn(Xe))return Ue;if(1===Xe.requestStatus)return V=Oe(D,k),Ue;{if(!navigator.onLine)throw P.create("app-offline");const dt=_e(Ue);return V=Qt(D,dt),dt}});return V?yield V:ie.authToken})).apply(this,arguments)}function Oe(D,k){return pt.apply(this,arguments)}function pt(){return(pt=(0,H.Z)(function*(D,k){let V=yield mt(D.appConfig);for(;1===V.authToken.requestStatus;)yield He(100),V=yield mt(D.appConfig);const ie=V.authToken;return 0===ie.requestStatus?pe(D,k):ie})).apply(this,arguments)}function mt(D){return kt(D,k=>{if(!Kt(k))throw P.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function Qt(D,k){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,H.Z)(function*(D,k){try{const V=yield ht(D,k),ie=Object.assign(Object.assign({},k),{authToken:V});return yield st(D.appConfig,ie),V}catch(V){if(!S(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const ie=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield st(D.appConfig,ie)}else yield kn(D.appConfig);throw V}})).apply(this,arguments)}function Kt(D){return void 0!==D&&2===D.registrationStatus}function qn(D){return 2===D.requestStatus&&!function(D){const k=Date.now();return k<D.creationTime||D.creationTime+D.expiresIn<k+36e5}(D)}function _e(D){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:k})}function ct(){return(ct=(0,H.Z)(function*(D){const k=D,{installationEntry:V,registrationPromise:ie}=yield ye(k.appConfig);return ie?ie.catch(console.error):pe(k).catch(console.error),V.fid})).apply(this,arguments)}function mn(){return(mn=(0,H.Z)(function*(D,k=!1){const V=D;return yield sn(V.appConfig),(yield pe(V,k)).token})).apply(this,arguments)}function sn(D){return _n.apply(this,arguments)}function _n(){return(_n=(0,H.Z)(function*(D){const{registrationPromise:k}=yield ye(D);k&&(yield k)})).apply(this,arguments)}function ts(D){return P.create("missing-app-config-values",{valueName:D})}const vi="installations";(0,xe._registerComponent)(new Re.wA(vi,D=>{const k=D.getProvider("app").getImmediate(),V=function(D){if(!D||!D.options)throw ts("App Configuration");if(!D.name)throw ts("App Name");const k=["projectId","apiKey","appId"];for(const V of k)if(!D.options[V])throw ts(V);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(k);return{app:k,appConfig:V,platformLoggerProvider:(0,xe._getProvider)(k,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,xe._registerComponent)(new Re.wA("installations-internal",D=>{const k=D.getProvider("app").getImmediate(),V=(0,xe._getProvider)(k,vi).getImmediate();return{getId:()=>function(D){return ct.apply(this,arguments)}(V),getToken:Ee=>function(D){return mn.apply(this,arguments)}(V,Ee)}},"PRIVATE")),(0,xe.registerVersion)(Ze,"0.5.4"),(0,xe.registerVersion)(Ze,"0.5.4","esm2017");const tn="@firebase/remote-config",Ln=new ke.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ld{constructor(k,V,ie,Ee){this.client=k,this.storage=V,this.storageCache=ie,this.logger=Ee}isCachedDataFresh(k,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ie=Date.now()-V,Ee=ie<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Ee}.`),Ee}fetch(k){var V=this;return(0,H.Z)(function*(){const[ie,Ee]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(Ee&&V.isCachedDataFresh(k.cacheMaxAgeMillis,ie))return Ee;k.eTag=Ee&&Ee.eTag;const Ue=yield V.client.fetch(k),Xe=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&Xe.push(V.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(Xe),Ue})()}}function ey(D=navigator){return D.languages&&D.languages[0]||D.language}class Zi{constructor(k,V,ie,Ee,Ue,Xe){this.firebaseInstallations=k,this.sdkVersion=V,this.namespace=ie,this.projectId=Ee,this.apiKey=Ue,this.appId=Xe}fetch(k){var V=this;return(0,H.Z)(function*(){const[ie,Ee]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),Xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},it={sdk_version:V.sdkVersion,app_instance_id:ie,app_instance_id_token:Ee,app_id:V.appId,language_code:ey()},Cn={method:"POST",headers:dt,body:JSON.stringify(it)},zn=fetch(Xe,Cn),ni=new Promise((Vi,$r)=>{k.signal.addEventListener(()=>{const Ni=new Error("The operation was aborted.");Ni.name="AbortError",$r(Ni)})});let Li;try{yield Promise.race([zn,ni]),Li=yield zn}catch(Vi){let $r="fetch-client-network";throw"AbortError"===Vi.name&&($r="fetch-timeout"),Ln.create($r,{originalErrorMessage:Vi.message})}let Ci=Li.status;const Eo=Li.headers.get("ETag")||void 0;let ec,hr;if(200===Li.status){let Vi;try{Vi=yield Li.json()}catch($r){throw Ln.create("fetch-client-parse",{originalErrorMessage:$r.message})}ec=Vi.entries,hr=Vi.state}if("INSTANCE_STATE_UNSPECIFIED"===hr?Ci=500:"NO_CHANGE"===hr?Ci=304:("NO_TEMPLATE"===hr||"EMPTY_CONFIG"===hr)&&(ec={}),304!==Ci&&200!==Ci)throw Ln.create("fetch-status",{httpStatus:Ci});return{status:Ci,eTag:Eo,config:ec}})()}}class zh{constructor(k,V){this.client=k,this.storage=V}fetch(k){var V=this;return(0,H.Z)(function*(){const ie=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(k,ie)})()}attemptFetch(k,{throttleEndTimeMillis:V,backoffCount:ie}){var Ee=this;return(0,H.Z)(function*(){yield function(D,k){return new Promise((V,ie)=>{const Ee=Math.max(k-Date.now(),0),Ue=setTimeout(V,Ee);D.addEventListener(()=>{clearTimeout(Ue),ie(Ln.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,V);try{const Ue=yield Ee.client.fetch(k);return yield Ee.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function(D){if(!(D instanceof ke.ZR&&D.customData))return!1;const k=Number(D.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Ue))throw Ue;const Xe={throttleEndTimeMillis:Date.now()+(0,ke.$s)(ie),backoffCount:ie+1};return yield Ee.storage.setThrottleMetadata(Xe),Ee.attemptFetch(k,Xe)}})()}}class hd{constructor(k,V,ie,Ee,Ue){this.app=k,this._client=V,this._storageCache=ie,this._storage=Ee,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zc(D,k){const V=D.target.error||void 0;return Ln.create(k,{originalErrorMessage:V&&V.message})}const fo="app_namespace_store";class pd{constructor(k,V,ie,Ee=function(){return new Promise((D,k)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=ie=>{k(zc(ie,"storage-open"))},V.onsuccess=ie=>{D(ie.target.result)},V.onupgradeneeded=ie=>{0===ie.oldVersion&&ie.target.result.createObjectStore(fo,{keyPath:"compositeKey"})}}catch(V){k(Ln.create("storage-open",{originalErrorMessage:V}))}})}()){this.appId=k,this.appName=V,this.namespace=ie,this.openDbPromise=Ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var V=this;return(0,H.Z)(function*(){const ie=yield V.openDbPromise;return new Promise((Ee,Ue)=>{const dt=ie.transaction([fo],"readonly").objectStore(fo),it=V.createCompositeKey(k);try{const Cn=dt.get(it);Cn.onerror=zn=>{Ue(zc(zn,"storage-get"))},Cn.onsuccess=zn=>{const ni=zn.target.result;Ee(ni?ni.value:void 0)}}catch(Cn){Ue(Ln.create("storage-get",{originalErrorMessage:Cn&&Cn.message}))}})})()}set(k,V){var ie=this;return(0,H.Z)(function*(){const Ee=yield ie.openDbPromise;return new Promise((Ue,Xe)=>{const it=Ee.transaction([fo],"readwrite").objectStore(fo),Cn=ie.createCompositeKey(k);try{const zn=it.put({compositeKey:Cn,value:V});zn.onerror=ni=>{Xe(zc(ni,"storage-set"))},zn.onsuccess=()=>{Ue()}}catch(zn){Xe(Ln.create("storage-set",{originalErrorMessage:zn&&zn.message}))}})})()}delete(k){var V=this;return(0,H.Z)(function*(){const ie=yield V.openDbPromise;return new Promise((Ee,Ue)=>{const dt=ie.transaction([fo],"readwrite").objectStore(fo),it=V.createCompositeKey(k);try{const Cn=dt.delete(it);Cn.onerror=zn=>{Ue(zc(zn,"storage-delete"))},Cn.onsuccess=()=>{Ee()}}catch(Cn){Ue(Ln.create("storage-delete",{originalErrorMessage:Cn&&Cn.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class tg{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,H.Z)(function*(){const V=k.storage.getLastFetchStatus(),ie=k.storage.getLastSuccessfulFetchTimestampMillis(),Ee=k.storage.getActiveConfig(),Ue=yield V;Ue&&(k.lastFetchStatus=Ue);const Xe=yield ie;Xe&&(k.lastSuccessfulFetchTimestampMillis=Xe);const dt=yield Ee;dt&&(k.activeConfig=dt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function Gc(){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,H.Z)(function*(){if(!(0,ke.hl)())return!1;try{return yield(0,ke.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,xe._registerComponent)(new Re.wA("remote-config",function(k,{instanceIdentifier:V}){const ie=k.getProvider("app").getImmediate(),Ee=k.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,ke.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:Ue,apiKey:Xe,appId:dt}=ie.options;if(!Ue)throw Ln.create("registration-project-id");if(!Xe)throw Ln.create("registration-api-key");if(!dt)throw Ln.create("registration-app-id");const it=new pd(dt,ie.name,V=V||"firebase"),Cn=new tg(it),zn=new De.Yd(tn);zn.logLevel=De.in.ERROR;const ni=new Zi(Ee,xe.SDK_VERSION,V,Ue,Xe,dt),Li=new zh(ni,it),Ci=new ld(Li,it,Cn,zn),Eo=new hd(ie,Ci,Cn,it,zn);return function(D){const k=(0,ke.m9)(D);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(Eo),Eo},"PUBLIC").setMultipleInstances(!0)),(0,xe.registerVersion)(tn,"0.3.3"),(0,xe.registerVersion)(tn,"0.3.3","esm2017");const ng="/firebase-messaging-sw.js",md="/firebase-cloud-messaging-push-scope",po="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ys="google.c.a.c_id",vs="google.c.a.c_l",_d="google.c.a.ts",pa="google.c.a.e";var Lo=(()=>{return(D=Lo||(Lo={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Lo;var D})();function ss(D){const k=new Uint8Array(D);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kc(D){const V=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ie=atob(V),Ee=new Uint8Array(ie.length);for(let Ue=0;Ue<ie.length;++Ue)Ee[Ue]=ie.charCodeAt(Ue);return Ee}const Pl="fcm_token_details_db",Rl="fcm_token_object_Store";function Wh(D){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,H.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(Pl))return null;let k=null;return(yield(0,Le.openDb)(Pl,5,function(){var ie=(0,H.Z)(function*(Ee){var Ue;if(Ee.oldVersion<2||!Ee.objectStoreNames.contains(Rl))return;const Xe=Ee.transaction.objectStore(Rl),dt=yield Xe.index("fcmSenderId").get(D);if(yield Xe.clear(),dt)if(2===Ee.oldVersion){const it=dt;if(!it.auth||!it.p256dh||!it.endpoint)return;k={token:it.fcmToken,createTime:null!==(Ue=it.createTime)&&void 0!==Ue?Ue:Date.now(),subscriptionOptions:{auth:it.auth,p256dh:it.p256dh,endpoint:it.endpoint,swScope:it.swScope,vapidKey:"string"==typeof it.vapidKey?it.vapidKey:ss(it.vapidKey)}}}else if(3===Ee.oldVersion){const it=dt;k={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:ss(it.auth),p256dh:ss(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:ss(it.vapidKey)}}}else if(4===Ee.oldVersion){const it=dt;k={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:ss(it.auth),p256dh:ss(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:ss(it.vapidKey)}}}});return function(Ee){return ie.apply(this,arguments)}}())).close(),yield(0,Le.deleteDb)(Pl),yield(0,Le.deleteDb)("fcm_vapid_details_db"),yield(0,Le.deleteDb)("undefined"),Yc(k)?k:null}),Ll.apply(this,arguments)}function Yc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:k}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const Nn="firebase-messaging-store";let No=null;function yd(){return No||(No=(0,Le.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Nn)})),No}function Xn(D){return Er.apply(this,arguments)}function Er(){return(Er=(0,H.Z)(function*(D){const k=ga(D),ie=yield(yield yd()).transaction(Nn).objectStore(Nn).get(k);if(ie)return ie;{const Ee=yield Wh(D.appConfig.senderId);if(Ee)return yield os(D,Ee),Ee}})).apply(this,arguments)}function os(D,k){return bs.apply(this,arguments)}function bs(){return(bs=(0,H.Z)(function*(D,k){const V=ga(D),Ee=(yield yd()).transaction(Nn,"readwrite");return yield Ee.objectStore(Nn).put(k,V),yield Ee.complete,k})).apply(this,arguments)}function Xi(D){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,H.Z)(function*(D){const k=ga(D),ie=(yield yd()).transaction(Nn,"readwrite");yield ie.objectStore(Nn).delete(k),yield ie.complete})).apply(this,arguments)}function ga({appConfig:D}){return D.appId}const En=new ke.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nl(D,k){return go.apply(this,arguments)}function go(){return(go=(0,H.Z)(function*(D,k){const V=yield vd(D),ie=tl(k),Ee={method:"POST",headers:V,body:JSON.stringify(ie)};let Ue;try{Ue=yield(yield fetch(Zt(D.appConfig),Ee)).json()}catch(Xe){throw En.create("token-subscribe-failed",{errorInfo:Xe})}if(Ue.error)throw En.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw En.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function Kh(D,k){return as.apply(this,arguments)}function as(){return(as=(0,H.Z)(function*(D,k){const V=yield vd(D),ie=tl(k.subscriptionOptions),Ee={method:"PATCH",headers:V,body:JSON.stringify(ie)};let Ue;try{Ue=yield(yield fetch(`${Zt(D.appConfig)}/${k.token}`,Ee)).json()}catch(Xe){throw En.create("token-update-failed",{errorInfo:Xe})}if(Ue.error)throw En.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw En.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Fl(D,k){return er.apply(this,arguments)}function er(){return(er=(0,H.Z)(function*(D,k){const ie={method:"DELETE",headers:yield vd(D)};try{const Ue=yield(yield fetch(`${Zt(D.appConfig)}/${k}`,ie)).json();if(Ue.error)throw En.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(Ee){throw En.create("token-unsubscribe-failed",{errorInfo:Ee})}})).apply(this,arguments)}function Zt({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function vd(D){return el.apply(this,arguments)}function el(){return(el=(0,H.Z)(function*({appConfig:D,installations:k}){const V=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function tl({p256dh:D,auth:k,endpoint:V,vapidKey:ie}){const Ee={web:{endpoint:V,auth:k,p256dh:D}};return ie!==po&&(Ee.web.applicationPubKey=ie),Ee}const Jc=6048e5;function Xc(D){return eu.apply(this,arguments)}function eu(){return(eu=(0,H.Z)(function*(D){const k=yield mo(D.swRegistration,D.vapidKey),V={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:k.endpoint,auth:ss(k.getKey("auth")),p256dh:ss(k.getKey("p256dh"))},ie=yield Xn(D.firebaseDependencies);if(ie){if(_a(ie.subscriptionOptions,V))return Date.now()>=ie.createTime+Jc?vn(D,{token:ie.token,createTime:Date.now(),subscriptionOptions:V}):ie.token;try{yield Fl(D.firebaseDependencies,ie.token)}catch(Ee){console.warn(Ee)}return $n(D.firebaseDependencies,V)}return $n(D.firebaseDependencies,V)})).apply(this,arguments)}function Ul(D){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,H.Z)(function*(D){const k=yield Xn(D.firebaseDependencies);k&&(yield Fl(D.firebaseDependencies,k.token),yield Xi(D.firebaseDependencies));const V=yield D.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function vn(D,k){return ls.apply(this,arguments)}function ls(){return(ls=(0,H.Z)(function*(D,k){try{const V=yield Kh(D.firebaseDependencies,k),ie=Object.assign(Object.assign({},k),{token:V,createTime:Date.now()});return yield os(D.firebaseDependencies,ie),V}catch(V){throw yield Ul(D),V}})).apply(this,arguments)}function $n(D,k){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,H.Z)(function*(D,k){const ie={token:yield Nl(D,k),createTime:Date.now(),subscriptionOptions:k};return yield os(D,ie),ie.token})).apply(this,arguments)}function mo(D,k){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,H.Z)(function*(D,k){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kc(k)})})).apply(this,arguments)}function _a(D,k){return k.vapidKey===D.vapidKey&&k.endpoint===D.endpoint&&k.auth===D.auth&&k.p256dh===D.p256dh}function Zs(D){const k={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,k){if(!k.notification)return;D.notification={};const V=k.notification.title;V&&(D.notification.title=V);const ie=k.notification.body;ie&&(D.notification.body=ie);const Ee=k.notification.image;Ee&&(D.notification.image=Ee)}(k,D),function(D,k){!k.data||(D.data=k.data)}(k,D),function(D,k){if(!k.fcmOptions)return;D.fcmOptions={};const V=k.fcmOptions.link;V&&(D.fcmOptions.link=V);const ie=k.fcmOptions.analytics_label;ie&&(D.fcmOptions.analyticsLabel=ie)}(k,D),k}function nl(D){return"object"==typeof D&&!!D&&ys in D}function Ii(D,k){const V=[];for(let ie=0;ie<D.length;ie++)V.push(D.charAt(ie)),ie<k.length&&V.push(k.charAt(ie));return V.join("")}function ya(D){return En.create("missing-app-config-values",{valueName:D})}Ii("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ii("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vs{constructor(k,V,ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ee=function(D){if(!D||!D.options)throw ya("App Configuration Object");if(!D.name)throw ya("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:V}=D;for(const ie of k)if(!V[ie])throw ya(ie);return{appName:D.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Ee,installations:V,analyticsProvider:ie}}_delete(){return Promise.resolve()}}function Ir(D){return il.apply(this,arguments)}function il(){return(il=(0,H.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(ng,{scope:md}),D.swRegistration.update().catch(()=>{})}catch(k){throw En.create("failed-service-worker-registration",{browserErrorMessage:k.message})}})).apply(this,arguments)}function Zo(D,k){return _o.apply(this,arguments)}function _o(){return(_o=(0,H.Z)(function*(D,k){if(!k&&!D.swRegistration&&(yield Ir(D)),k||!D.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");D.swRegistration=k}})).apply(this,arguments)}function Yh(D,k){return yo.apply(this,arguments)}function yo(){return(yo=(0,H.Z)(function*(D,k){k?D.vapidKey=k:D.vapidKey||(D.vapidKey=po)})).apply(this,arguments)}function va(){return(va=(0,H.Z)(function*(D,k){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield Yh(D,null==k?void 0:k.vapidKey),yield Zo(D,null==k?void 0:k.serviceWorkerRegistration),Xc(D)})).apply(this,arguments)}function nu(D,k,V){return rl.apply(this,arguments)}function rl(){return(rl=(0,H.Z)(function*(D,k,V){const ie=sl(k);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(ie,{message_id:V[ys],message_name:V[vs],message_time:V[_d],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sl(D){switch(D){case Lo.NOTIFICATION_CLICKED:return"notification_open";case Lo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Vl(){return(Vl=(0,H.Z)(function*(D,k){const V=k.data;if(!V.isFirebaseMessaging)return;D.onMessageHandler&&V.messageType===Lo.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Zs(V)):D.onMessageHandler.next(Zs(V)));const ie=V.data;nl(ie)&&"1"===ie[pa]&&(yield nu(D,V.messageType,ie))})).apply(this,arguments)}const ol="@firebase/messaging";function al(){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,H.Z)(function*(){return"undefined"!=typeof window&&(0,ke.hl)()&&(yield(0,ke.eu)())&&(0,ke.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,xe._registerComponent)(new Re.wA("messaging",D=>{const k=new Vs(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function(D,k){return Vl.apply(this,arguments)}(k,V)),k},"PUBLIC")),(0,xe._registerComponent)(new Re.wA("messaging-internal",D=>{const k=D.getProvider("messaging").getImmediate();return{getToken:ie=>function(D,k){return va.apply(this,arguments)}(k,ie)}},"PRIVATE")),(0,xe.registerVersion)(ol,"0.9.4"),(0,xe.registerVersion)(ol,"0.9.4","esm2017");const qo="analytics",ba="firebase_id",Jh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",su="https://www.googletagmanager.com/gtag/js",Yn=new De.Yd("@firebase/analytics");function Ca(D){return Promise.all(D.map(k=>k.catch(V=>V)))}function Cd(D,k){const V=document.createElement("script");V.src=`${su}?l=${D}&id=${k}`,V.async=!0,document.head.appendChild(V)}function zl(D,k,V,ie,Ee,Ue){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,H.Z)(function*(D,k,V,ie,Ee,Ue){const Xe=ie[Ee];try{if(Xe)yield k[Xe];else{const it=(yield Ca(V)).find(Cn=>Cn.measurementId===Ee);it&&(yield k[it.appId])}}catch(dt){Yn.error(dt)}D("config",Ee,Ue)})).apply(this,arguments)}function Xh(D,k,V,ie,Ee){return wd.apply(this,arguments)}function wd(){return(wd=(0,H.Z)(function*(D,k,V,ie,Ee){try{let Ue=[];if(Ee&&Ee.send_to){let Xe=Ee.send_to;Array.isArray(Xe)||(Xe=[Xe]);const dt=yield Ca(V);for(const it of Xe){const Cn=dt.find(ni=>ni.measurementId===it),zn=Cn&&k[Cn.appId];if(!zn){Ue=[];break}Ue.push(zn)}}0===Ue.length&&(Ue=Object.values(k)),yield Promise.all(Ue),D("event",ie,Ee||{})}catch(Ue){Yn.error(Ue)}})).apply(this,arguments)}function Wl(){const D=window.document.getElementsByTagName("script");for(const k of Object.values(D))if(k.src&&k.src.includes(su))return k;return null}const Bi=new ke.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cl=new class{constructor(k={},V=1e3){this.throttleMetadata=k,this.intervalMillis=V}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,V){this.throttleMetadata[k]=V}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function cg(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Kl(D){return jo.apply(this,arguments)}function jo(){return(jo=(0,H.Z)(function*(D){var k;const{appId:V,apiKey:ie}=D,Ee={method:"GET",headers:cg(ie)},Ue=Jh.replace("{app-id}",V),Xe=yield fetch(Ue,Ee);if(200!==Xe.status&&304!==Xe.status){let dt="";try{const it=yield Xe.json();(null===(k=it.error)||void 0===k?void 0:k.message)&&(dt=it.error.message)}catch(it){}throw Bi.create("config-fetch-failed",{httpStatus:Xe.status,responseMessage:dt})}return Xe.json()})).apply(this,arguments)}function qs(D){return ou.apply(this,arguments)}function ou(){return(ou=(0,H.Z)(function*(D,k=cl,V){const{appId:ie,apiKey:Ee,measurementId:Ue}=D.options;if(!ie)throw Bi.create("no-app-id");if(!Ee){if(Ue)return{measurementId:Ue,appId:ie};throw Bi.create("no-api-key")}const Xe=k.getThrottleMetadata(ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dt=new Br;return setTimeout((0,H.Z)(function*(){dt.abort()}),void 0!==V?V:6e4),Ed({appId:ie,apiKey:Ee,measurementId:Ue},Xe,dt,k)})).apply(this,arguments)}function Ed(D,k,V){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,H.Z)(function*(D,{throttleEndTimeMillis:k,backoffCount:V},ie,Ee=cl){const{appId:Ue,measurementId:Xe}=D;try{yield ug(ie,k)}catch(dt){if(Xe)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${dt.message}]`),{appId:Ue,measurementId:Xe};throw dt}try{const dt=yield Kl(D);return Ee.deleteThrottleMetadata(Ue),dt}catch(dt){if(!Vn(dt)){if(Ee.deleteThrottleMetadata(Ue),Xe)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${dt.message}]`),{appId:Ue,measurementId:Xe};throw dt}const it=503===Number(dt.customData.httpStatus)?(0,ke.$s)(V,Ee.intervalMillis,30):(0,ke.$s)(V,Ee.intervalMillis),Cn={throttleEndTimeMillis:Date.now()+it,backoffCount:V+1};return Ee.setThrottleMetadata(Ue,Cn),Yn.debug(`Calling attemptFetch again in ${it} millis`),Ed(D,Cn,ie,Ee)}})).apply(this,arguments)}function ug(D,k){return new Promise((V,ie)=>{const Ee=Math.max(k-Date.now(),0),Ue=setTimeout(V,Ee);D.addEventListener(()=>{clearTimeout(Ue),ie(Bi.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function Vn(D){if(!(D instanceof ke.ZR&&D.customData))return!1;const k=Number(D.customData.httpStatus);return 429===k||500===k||503===k||504===k}class Br{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}function Ft(){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,H.Z)(function*(){if(!(0,ke.hl)())return Yn.warn(Bi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ke.eu)()}catch(D){return Yn.warn(Bi.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function bi(){return(bi=(0,H.Z)(function*(D,k,V,ie,Ee,Ue,Xe){var dt;const it=qs(D);it.then(Ci=>{V[Ci.measurementId]=Ci.appId,D.options.measurementId&&Ci.measurementId!==D.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Ci.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ci=>Yn.error(Ci)),k.push(it);const Cn=Ft().then(Ci=>{if(Ci)return ie.getId()}),[zn,ni]=yield Promise.all([it,Cn]);Wl()||Cd(Ue,zn.measurementId),Ee("js",new Date);const Li=null!==(dt=null==Xe?void 0:Xe.config)&&void 0!==dt?dt:{};return Li.origin="firebase",Li.update=!0,null!=ni&&(Li[ba]=ni),Ee("config",zn.measurementId,Li),zn.measurementId})).apply(this,arguments)}class ef{constructor(k){this.app=k}_delete(){return delete ws[this.app.options.appId],Promise.resolve()}}let ws={},au=[];const Id={};let bo,$t,$o="dataLayer",zo=!1;function li(D,k,V){!function(){const D=[];if((0,ke.ru)()&&D.push("This is a browser extension environment."),(0,ke.zI)()||D.push("Cookies are not available."),D.length>0){const k=D.map((ie,Ee)=>`(${Ee+1}) ${ie}`).join(" "),V=Bi.create("invalid-analytics-context",{errorInfo:k});Yn.warn(V.message)}}();const ie=D.options.appId;if(!ie)throw Bi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Bi.create("no-api-key");Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ws[ie])throw Bi.create("already-exists",{id:ie});if(!zo){!function(D){let k=[];Array.isArray(window[D])?k=window[D]:window[D]=k}($o);const{wrappedGtag:Ue,gtagCore:Xe}=function(D,k,V,ie,Ee){let Ue=function(...Xe){window[ie].push(arguments)};return window[Ee]&&"function"==typeof window[Ee]&&(Ue=window[Ee]),window[Ee]=function(D,k,V,ie){function Ue(){return(Ue=(0,H.Z)(function*(Xe,dt,it){try{"event"===Xe?yield Xh(D,k,V,dt,it):"config"===Xe?yield zl(D,k,V,ie,dt,it):D("set",dt)}catch(Cn){Yn.error(Cn)}})).apply(this,arguments)}return function(Xe,dt,it){return Ue.apply(this,arguments)}}(Ue,D,k,V),{gtagCore:Ue,wrappedGtag:window[Ee]}}(ws,au,Id,$o,"gtag");$t=Ue,bo=Xe,zo=!0}return ws[ie]=function(D,k,V,ie,Ee,Ue,Xe){return bi.apply(this,arguments)}(D,au,Id,k,bo,$o,V),new ef(D)}function wa(){return(wa=(0,H.Z)(function*(D,k,V,ie,Ee){if(Ee&&Ee.global)D("event",V,ie);else{const Ue=yield k;D("event",V,Object.assign(Object.assign({},ie),{send_to:Ue}))}})).apply(this,arguments)}function Ia(){return ul.apply(this,arguments)}function ul(){return(ul=(0,H.Z)(function*(){if((0,ke.ru)()||!(0,ke.zI)()||!(0,ke.hl)())return!1;try{return yield(0,ke.eu)()}catch(D){return!1}})).apply(this,arguments)}const Xl="@firebase/analytics";(0,xe._registerComponent)(new Re.wA(qo,(k,{options:V})=>li(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,xe._registerComponent)(new Re.wA("analytics-internal",function(k){try{const V=k.getProvider(qo).getImmediate();return{logEvent:(ie,Ee,Ue)=>function(D,k,V,ie){D=(0,ke.m9)(D),function(D,k,V,ie,Ee){return wa.apply(this,arguments)}($t,ws[D.app.options.appId],k,V,ie).catch(Ee=>Yn.error(Ee))}(V,ie,Ee,Ue)}}catch(V){throw Bi.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,xe.registerVersion)(Xl,"0.7.4"),(0,xe.registerVersion)(Xl,"0.7.4","esm2017");var Hs=Q(2869),tr=Q(8843);const js=new class extends tr.v{}(class extends Hs.o{constructor(k,V){super(k,V),this.scheduler=k,this.work=V}schedule(k,V=0){return V>0?super.schedule(k,V):(this.delay=V,this.state=k,this.scheduler.flush(this),this)}execute(k,V){return V>0||this.closed?super.execute(k,V):this._execute(k,V)}requestAsyncId(k,V,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(k,V,ie):k.flush(this)}});var Ad=Q(2210),xd=Q(7384),ur=Q(4763),Is=Q(5222);const xr=new r.GfV("7.2.0"),dr="__angularfire_symbol__analyticsIsSupported",Ko="__angularfire_symbol__remoteConfigIsSupported",hu="__angularfire_symbol__messagingIsSupported";function Da(D,k,V){if(k){if(1===k.length)return k[0];const Ue=k.filter(Xe=>Xe.app===V);if(1===Ue.length)return Ue[0]}return V.container.getProvider(D).getImmediate({optional:!0})}globalThis[dr]||(globalThis[dr]=Ia().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[hu]||(globalThis[hu]=al().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[Ko]||(globalThis[Ko]=Gc().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const hg=(D,k)=>{const V=k?[k]:(0,ne.C6)(),ie=[];return V.forEach(Ee=>{Ee.container.getProvider(D).instances.forEach(Xe=>{ie.includes(Xe)||ie.push(Xe)})}),ie};function wo(){}class dl{constructor(k,V=js){this.zone=k,this.delegate=V}now(){return this.delegate.now()}schedule(k,V,ie){const Ee=this.zone;return this.delegate.schedule(function(Xe){Ee.runGuarded(()=>{k.apply(this,[Xe])})},V,ie)}}class sf{constructor(k){this.zone=k,this.task=null}call(k,V){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wo,{},wo,wo)),V.pipe((0,xd.b)({next:ie,complete:ie,error:ie})).subscribe(k).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pu=(()=>{class D{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new dl(Zone.current)),this.insideAngular=V.run(()=>new dl(Zone.current,Ad.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(V){return new(V||D)(r.LFG(r.R0b))},D.\u0275prov=r.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Yo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function nn(D){return D.pipe((0,ur.Q)(Yo().outsideAngular))}function To(D){return Yo(),function(D){return function(V){return(V=V.lift(new sf(D.ngZone))).pipe((0,Is.R)(D.outsideAngular),(0,ur.Q)(D.insideAngular))}}(Yo())(D)}},1347:(vt,$e,Q)=>{"use strict";Q.d($e,{$:()=>Yh,A:()=>bt,E:()=>ho,G:()=>Zi,I:()=>rs,K:()=>Po,L:()=>Xn,M:()=>Xi,N:()=>Qc,P:()=>hl,Q:()=>ga,R:()=>hg,T:()=>bs,U:()=>go,V:()=>Kh,W:()=>vd,X:()=>Zs,Y:()=>tu,Z:()=>nl,_:()=>Vs,a:()=>bo,a0:()=>Bl,a1:()=>nu,a2:()=>sl,a3:()=>Vl,a4:()=>iu,a5:()=>ql,a6:()=>ig,a7:()=>Oi,a8:()=>vo,a9:()=>rg,aA:()=>Od,aB:()=>af,aC:()=>jn,aG:()=>Ql,aJ:()=>En,aa:()=>sg,ab:()=>qo,ae:()=>Jh,af:()=>Yn,ag:()=>Ca,aj:()=>eu,ak:()=>Td,am:()=>Ed,an:()=>Ar,ao:()=>jc,ap:()=>Et,aq:()=>uo,ar:()=>On,as:()=>Wt,at:()=>Bd,au:()=>df,av:()=>en,aw:()=>Je,ax:()=>st,ay:()=>Fr,az:()=>gg,b:()=>$o,c:()=>it,d:()=>Li,e:()=>zn,f:()=>fg,g:()=>_u,h:()=>Pa,i:()=>Hs,j:()=>kd,k:()=>pl,l:()=>Yo,m:()=>cC,o:()=>He,r:()=>jr,s:()=>sf,u:()=>ka,z:()=>Xt});var r=Q(8239),ne=Q(4213),H=Q(1572);function De(w,p){var y={};for(var I in w)Object.prototype.hasOwnProperty.call(w,I)&&p.indexOf(I)<0&&(y[I]=w[I]);if(null!=w&&"function"==typeof Object.getOwnPropertySymbols){var F=0;for(I=Object.getOwnPropertySymbols(w);F<I.length;F++)p.indexOf(I[F])<0&&Object.prototype.propertyIsEnumerable.call(w,I[F])&&(y[I[F]]=w[I[F]])}return y}var ge=Q(3855),we=Q(1177);const He={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},bt={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Xt=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ln=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Rn=new ne.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ki=new ge.Yd("@firebase/auth");function yn(w,...p){ki.logLevel<=ge.in.ERROR&&ki.error(`Auth (${H.SDK_VERSION}): ${w}`,...p)}function Wt(w,...p){throw oi(w,...p)}function en(w,...p){return oi(w,...p)}function Tn(w,p,y){const I=Object.assign(Object.assign({},ln()),{[p]:y});return new ne.LL("auth","Firebase",I).create(p,{appName:w.name})}function si(w,p,y){if(!(p instanceof y))throw y.name!==p.constructor.name&&Wt(w,"argument-error"),Tn(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oi(w,...p){if("string"!=typeof w){const y=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(y,...I)}return Rn.create(w,...p)}function Je(w,p,...y){if(!w)throw oi(p,...y)}function hn(w){const p="INTERNAL ASSERTION FAILED: "+w;throw yn(p),new Error(p)}function Et(w,p){w||hn(p)}const ti=new Map;function st(w){Et(w instanceof Function,"Expected a class definition");let p=ti.get(w);return p?(Et(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,ti.set(w,p),p)}function Mn(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function kt(){return"http:"===J()||"https:"===J()}function J(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class q{constructor(p,y){this.shortDelay=p,this.longDelay=y,Et(y>p,"Short delay should be less than long delay!"),this.isMobile=(0,ne.uI)()||(0,ne.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kt()||(0,ne.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function te(w,p){Et(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return p?`${y}${p.startsWith("/")?p.slice(1):p}`:y}class fe{static initialize(p,y,I){this.fetchImpl=p,y&&(this.headersImpl=y),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wt=new q(3e4,6e4);function Tt(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function lt(w,p,y,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(function*(w,p,y,I,F={}){return pn(w,F,()=>{let Z={},be={};I&&("GET"===p?be=I:Z={body:JSON.stringify(I)});const je=(0,ne.xO)(Object.assign({key:w.config.apiKey},be)).slice(1),ft=new(fe.headers());return ft.set("Content-Type","application/json"),ft.set("X-Client-Version",w._getSdkClientVersion()),w.languageCode&&ft.set("X-Firebase-Locale",w.languageCode),fe.fetch()(pe(w,w.config.apiHost,y,je),Object.assign({method:p,headers:ft,referrerPolicy:"no-referrer"},Z))})})).apply(this,arguments)}function pn(w,p,y){return ht.apply(this,arguments)}function ht(){return(ht=(0,r.Z)(function*(w,p,y){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},Pe),p);try{const F=new qe(w),Z=yield Promise.race([y(),F.promise]);F.clearNetworkTimeout();const be=yield Z.json();if("needConfirmation"in be)throw Oe(w,"account-exists-with-different-credential",be);if(Z.ok&&!("errorMessage"in be))return be;{const je=Z.ok?be.errorMessage:be.error.message,[ft,ot]=je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ft)throw Oe(w,"credential-already-in-use",be);if("EMAIL_EXISTS"===ft)throw Oe(w,"email-already-in-use",be);const Ut=I[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Tn(w,Ut,ot);Wt(w,Ut)}}catch(F){if(F instanceof ne.ZR)throw F;Wt(w,"network-request-failed")}})).apply(this,arguments)}function se(w,p,y,I){return oe.apply(this,arguments)}function oe(){return(oe=(0,r.Z)(function*(w,p,y,I,F={}){const Z=yield lt(w,p,y,I,F);return"mfaPendingCredential"in Z&&Wt(w,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function pe(w,p,y,I){const F=`${p}${y}?${I}`;return w.config.emulator?te(w.config,F):`${w.config.apiScheme}://${F}`}class qe{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((y,I)=>{this.timer=setTimeout(()=>I(en(this.auth,"timeout")),wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oe(w,p,y){const I={appName:w.name};y.email&&(I.email=y.email),y.phoneNumber&&(I.phoneNumber=y.phoneNumber);const F=en(w,p,I);return F.customData._tokenResponse=y,F}function mt(){return(mt=(0,r.Z)(function*(w,p){return lt(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Qt(w,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,r.Z)(function*(w,p){return lt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Kt(w,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,r.Z)(function*(w,p){return lt(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Te(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function ze(){return(ze=(0,r.Z)(function*(w,p=!1){const y=(0,ne.m9)(w),I=yield y.getIdToken(p),F=Bt(I);Je(F&&F.exp&&F.auth_time&&F.iat,y.auth,"internal-error");const Z="object"==typeof F.firebase?F.firebase:void 0,be=null==Z?void 0:Z.sign_in_provider;return{claims:F,token:I,authTime:Te(ct(F.auth_time)),issuedAtTime:Te(ct(F.iat)),expirationTime:Te(ct(F.exp)),signInProvider:be||null,signInSecondFactor:(null==Z?void 0:Z.sign_in_second_factor)||null}})).apply(this,arguments)}function ct(w){return 1e3*Number(w)}function Bt(w){const[p,y,I]=w.split(".");if(void 0===p||void 0===y||void 0===I)return yn("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,ne.tV)(y);return F?JSON.parse(F):(yn("Failed to decode base64 JWT payload"),null)}catch(F){return yn("Caught error parsing JWT payload as JSON",F),null}}function sn(w,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,r.Z)(function*(w,p,y=!1){if(y)return p;try{return yield p}catch(I){throw I instanceof ne.ZR&&ai(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}function ai({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Jn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var y;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const F=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(p=!1){var y=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,r.Z)(function*(){yield y.iteration()}),I)}iteration(){var p=this;return(0,r.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&p.schedule(!0))}p.schedule()})()}}class jt{constructor(p,y){this.createdAt=p,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Te(this.lastLoginAt),this.creationTime=Te(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kn(w){return ut.apply(this,arguments)}function ut(){return(ut=(0,r.Z)(function*(w){var p;const y=w.auth,I=yield w.getIdToken(),F=yield sn(w,Kt(y,{idToken:I}));Je(null==F?void 0:F.users.length,y,"internal-error");const Z=F.users[0];w._notifyReloadListener(Z);const be=(null===(p=Z.providerUserInfo)||void 0===p?void 0:p.length)?ts(Z.providerUserInfo):[],je=wr(w.providerData,be),Ut=!!w.isAnonymous&&!(w.email&&Z.passwordHash||(null==je?void 0:je.length)),Sn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:je,metadata:new jt(Z.createdAt,Z.lastLoginAt),isAnonymous:Ut};Object.assign(w,Sn)})).apply(this,arguments)}function Bn(){return(Bn=(0,r.Z)(function*(w){const p=(0,ne.m9)(w);yield Kn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function wr(w,p){return[...w.filter(I=>!p.some(F=>F.providerId===I.providerId)),...p]}function ts(w){return w.map(p=>{var{providerId:y}=p,I=De(p,["providerId"]);return{providerId:y,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Ls(){return(Ls=(0,r.Z)(function*(w,p){const y=yield pn(w,{},()=>{const I=(0,ne.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:F,apiKey:Z}=w.config,be=pe(w,F,"/v1/token",`key=${Z}`);return fe.fetch()(be,{method:"POST",headers:{"X-Client-Version":w._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Hn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Je(p.idToken,"internal-error"),Je(void 0!==p.idToken,"internal-error"),Je(void 0!==p.refreshToken,"internal-error");const y="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(w){const p=Bt(w);return Je(p,"internal-error"),Je(void 0!==p.exp,"internal-error"),Je(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,y)}getToken(p,y=!1){var I=this;return(0,r.Z)(function*(){return Je(!I.accessToken||I.refreshToken,p,"user-token-expired"),y||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,y){var I=this;return(0,r.Z)(function*(){const{accessToken:F,refreshToken:Z,expiresIn:be}=yield function(w,p){return Ls.apply(this,arguments)}(p,y);I.updateTokensAndExpiration(F,Z,Number(be))})()}updateTokensAndExpiration(p,y,I){this.refreshToken=y||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,y){const{refreshToken:I,accessToken:F,expirationTime:Z}=y,be=new Hn;return I&&(Je("string"==typeof I,"internal-error",{appName:p}),be.refreshToken=I),F&&(Je("string"==typeof F,"internal-error",{appName:p}),be.accessToken=F),Z&&(Je("number"==typeof Z,"internal-error",{appName:p}),be.expirationTime=Z),be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Hn,this.toJSON())}_performRefresh(){return hn("not implemented")}}function ar(w,p){Je("string"==typeof w||void 0===w,"internal-error",{appName:p})}class Nr{constructor(p){var{uid:y,auth:I,stsTokenManager:F}=p,Z=De(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=I,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.metadata=new jt(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(p){var y=this;return(0,r.Z)(function*(){const I=yield sn(y,y.stsTokenManager.getToken(y.auth,p));return Je(I,y.auth,"internal-error"),y.accessToken!==I&&(y.accessToken=I,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),I})()}getIdTokenResult(p){return function(w){return ze.apply(this,arguments)}(this,p)}reload(){return function(w){return Bn.apply(this,arguments)}(this)}_assign(p){this!==p&&(Je(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(y=>Object.assign({},y)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Nr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,y=!1){var I=this;return(0,r.Z)(function*(){let F=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),F=!0),y&&(yield Kn(I)),yield I.auth._persistUserIfCurrent(I),F&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,r.Z)(function*(){const y=yield p.getIdToken();return yield sn(p,function(w,p){return mt.apply(this,arguments)}(p.auth,{idToken:y})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,y){var I,F,Z,be,je,ft,ot,Ut;const Sn=null!==(I=y.displayName)&&void 0!==I?I:void 0,Wn=null!==(F=y.email)&&void 0!==F?F:void 0,fr=null!==(Z=y.phoneNumber)&&void 0!==Z?Z:void 0,ta=null!==(be=y.photoURL)&&void 0!==be?be:void 0,gf=null!==(je=y.tenantId)&&void 0!==je?je:void 0,Ag=null!==(ft=y._redirectEventId)&&void 0!==ft?ft:void 0,Na=null!==(ot=y.createdAt)&&void 0!==ot?ot:void 0,Gn=null!==(Ut=y.lastLoginAt)&&void 0!==Ut?Ut:void 0,{uid:ic,emailVerified:qd,isAnonymous:rc,providerData:wi,stsTokenManager:sc}=y;Je(ic&&sc,p,"internal-error");const mf=Hn.fromJSON(this.name,sc);Je("string"==typeof ic,p,"internal-error"),ar(Sn,p.name),ar(Wn,p.name),Je("boolean"==typeof qd,p,"internal-error"),Je("boolean"==typeof rc,p,"internal-error"),ar(fr,p.name),ar(ta,p.name),ar(gf,p.name),ar(Ag,p.name),ar(Na,p.name),ar(Gn,p.name);const _f=new Nr({uid:ic,auth:p,email:Wn,emailVerified:qd,displayName:Sn,isAnonymous:rc,photoURL:ta,phoneNumber:fr,tenantId:gf,stsTokenManager:mf,createdAt:Na,lastLoginAt:Gn});return wi&&Array.isArray(wi)&&(_f.providerData=wi.map(dy=>Object.assign({},dy))),Ag&&(_f._redirectEventId=Ag),_f}static _fromIdTokenResponse(p,y,I=!1){return(0,r.Z)(function*(){const F=new Hn;F.updateFromServerResponse(y);const Z=new Nr({uid:y.localId,auth:p,stsTokenManager:F,isAnonymous:I});return yield Kn(Z),Z})()}}const Po=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(y,I){var F=this;return(0,r.Z)(function*(){F.storage[y]=I})()}_get(y){var I=this;return(0,r.Z)(function*(){const F=I.storage[y];return void 0===F?null:F})()}_remove(y){var I=this;return(0,r.Z)(function*(){delete I.storage[y]})()}_addListener(y,I){}_removeListener(y,I){}}return w.type="NONE",w})();function Fr(w,p,y){return`firebase:${w}:${p}:${y}`}class Ur{constructor(p,y,I){this.persistence=p,this.auth=y,this.userKey=I;const{config:F,name:Z}=this.auth;this.fullUserKey=Fr(this.userKey,F.apiKey,Z),this.fullPersistenceKey=Fr("persistence",F.apiKey,Z),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,r.Z)(function*(){const y=yield p.persistence._get(p.fullUserKey);return y?Nr._fromJSON(p.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var y=this;return(0,r.Z)(function*(){if(y.persistence===p)return;const I=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=p,I?y.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,y,I="authUser"){return(0,r.Z)(function*(){if(!y.length)return new Ur(st(Po),p,I);const F=(yield Promise.all(y.map(function(){var ot=(0,r.Z)(function*(Ut){if(yield Ut._isAvailable())return Ut});return function(Ut){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let Z=F[0]||st(Po);const be=Fr(I,p.config.apiKey,p.name);let je=null;for(const ot of y)try{const Ut=yield ot._get(be);if(Ut){const Sn=Nr._fromJSON(p,Ut);ot!==Z&&(je=Sn),Z=ot;break}}catch(Ut){}const ft=F.filter(ot=>ot._shouldAllowMigration);return Z._shouldAllowMigration&&ft.length?(Z=ft[0],je&&(yield Z._set(be,je.toJSON())),yield Promise.all(y.map(function(){var ot=(0,r.Z)(function*(Ut){if(Ut!==Z)try{yield Ut._remove(be)}catch(Sn){}});return function(Ut){return ot.apply(this,arguments)}}())),new Ur(Z,p,I)):new Ur(Z,p,I)})()}}function co(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Zr(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ln(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(od(p))return"Blackberry";if(ns(p))return"Webos";if(da(p))return"Safari";if((p.includes("chrome/")||Ro(p))&&!p.includes("edge/"))return"Chrome";if(On(p))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Ln(w=(0,ne.z$)()){return/firefox\//i.test(w)}function da(w=(0,ne.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ro(w=(0,ne.z$)()){return/crios\//i.test(w)}function Zr(w=(0,ne.z$)()){return/iemobile/i.test(w)}function On(w=(0,ne.z$)()){return/android/i.test(w)}function od(w=(0,ne.z$)()){return/blackberry/i.test(w)}function ns(w=(0,ne.z$)()){return/webos/i.test(w)}function uo(w=(0,ne.z$)()){return/iphone|ipad|ipod/i.test(w)}function jc(w=(0,ne.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Ns(w=(0,ne.z$)()){return uo(w)||On(w)||ns(w)||od(w)||/windows phone/i.test(w)||Zr(w)}function $c(w,p=[]){let y;switch(w){case"Browser":y=co((0,ne.z$)());break;case"Worker":y=`${co((0,ne.z$)())}-${w}`;break;default:y=w}const I=p.length?p.join(","):"FirebaseCore-web";return`${y}/JsCore/${H.SDK_VERSION}/${I}`}class Fs{constructor(p,y){this.app=p,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ad(this),this.idTokenSubscription=new ad(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(p,y){var I=this;return y&&(this._popupRedirectResolver=st(y)),this._initializationPromise=this.queue((0,r.Z)(function*(){var F,Z;I._deleted||(I.persistenceManager=yield Ur.create(I,p),!I._deleted&&((null===(F=I._popupRedirectResolver)||void 0===F?void 0:F._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(y),I.lastNotifiedUid=(null===(Z=I.currentUser)||void 0===Z?void 0:Z.uid)||null,!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,r.Z)(function*(){if(p._deleted)return;const y=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||y){if(p.currentUser&&y&&p.currentUser.uid===y.uid)return p._currentUser._assign(y),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(y)}})()}initializeCurrentUser(p){var y=this;return(0,r.Z)(function*(){var I;let F=yield y.assertedPersistence.getCurrentUser();if(p&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Z=null===(I=y.redirectUser)||void 0===I?void 0:I._redirectEventId,be=null==F?void 0:F._redirectEventId,je=yield y.tryRedirectSignIn(p);(!Z||Z===be)&&(null==je?void 0:je.user)&&(F=je.user)}return F?F._redirectEventId?(Je(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===F._redirectEventId?y.directlySetCurrentUser(F):y.reloadAndSetCurrentUserOrClear(F)):y.reloadAndSetCurrentUserOrClear(F):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var y=this;return(0,r.Z)(function*(){let I=null;try{I=yield y._popupRedirectResolver._completeRedirectFn(y,p,!0)}catch(F){yield y._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var y=this;return(0,r.Z)(function*(){try{yield Kn(p)}catch(I){if("auth/network-request-failed"!==I.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,r.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var y=this;return(0,r.Z)(function*(){const I=p?(0,ne.m9)(p):null;return I&&Je(I.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(I&&I._clone(y))})()}_updateCurrentUser(p){var y=this;return(0,r.Z)(function*(){if(!y._deleted)return p&&Je(y.tenantId===p.tenantId,y,"tenant-id-mismatch"),y.queue((0,r.Z)(function*(){yield y.directlySetCurrentUser(p),y.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,r.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var y=this;return this.queue((0,r.Z)(function*(){yield y.assertedPersistence.setPersistence(st(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new ne.LL("auth","Firebase",p())}onAuthStateChanged(p,y,I){return this.registerStateListener(this.authStateSubscription,p,y,I)}onIdTokenChanged(p,y,I){return this.registerStateListener(this.idTokenSubscription,p,y,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,y){var I=this;return(0,r.Z)(function*(){const F=yield I.getOrInitRedirectPersistenceManager(y);return null===p?F.removeCurrentUser():F.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var y=this;return(0,r.Z)(function*(){if(!y.redirectPersistenceManager){const I=p&&st(p)||y._popupRedirectResolver;Je(I,y,"argument-error"),y.redirectPersistenceManager=yield Ur.create(y,[st(I._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(p){var y=this;return(0,r.Z)(function*(){var I,F;return y._isInitialized&&(yield y.queue((0,r.Z)(function*(){}))),(null===(I=y._currentUser)||void 0===I?void 0:I._redirectEventId)===p?y._currentUser:(null===(F=y.redirectUser)||void 0===F?void 0:F._redirectEventId)===p?y.redirectUser:null})()}_persistUserIfCurrent(p){var y=this;return(0,r.Z)(function*(){if(p===y.currentUser)return y.queue((0,r.Z)(function*(){return y.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(y=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,y,I,F){if(this._deleted)return()=>{};const Z="function"==typeof y?y:y.next.bind(y),be=this._isInitialized?Promise.resolve():this._initializationPromise;return Je(be,this,"internal-error"),be.then(()=>Z(this.currentUser)),"function"==typeof y?p.addObserver(y,I,F):p.addObserver(y)}directlySetCurrentUser(p){var y=this;return(0,r.Z)(function*(){y.currentUser&&y.currentUser!==p&&(y._currentUser._stopProactiveRefresh(),p&&y.isProactiveRefreshEnabled&&p._startProactiveRefresh()),y.currentUser=p,p?yield y.assertedPersistence.setCurrentUser(p):yield y.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=$c(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function jn(w){return(0,ne.m9)(w)}class ad{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,ne.ne)(y=>this.observer=y)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ho(w,p,y){const I=jn(w);Je(I._canInitEmulator,I,"emulator-config-failed"),Je(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const F=!!(null==y?void 0:y.disableWarnings),Z=Ol(p),{host:be,port:je}=function(w){const p=Ol(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!y)return{host:"",port:null};const I=y[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(I);if(F){const Z=F[1];return{host:Z,port:ld(I.substr(Z.length+1))}}{const[Z,be]=I.split(":");return{host:Z,port:ld(be)}}}(p);I.config.emulator={url:`${Z}//${be}${null===je?"":`:${je}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:be,port:je,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function(){function w(){const p=document.createElement("p"),y=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Ol(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function ld(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class Zi{constructor(p,y){this.providerId=p,this.signInMethod=y}toJSON(){return hn("not implemented")}_getIdTokenResponse(p){return hn("not implemented")}_linkToIdToken(p,y){return hn("not implemented")}_getReauthenticationResolver(p){return hn("not implemented")}}function cd(w,p){return ud.apply(this,arguments)}function ud(){return(ud=(0,r.Z)(function*(w,p){return lt(w,"POST","/v1/accounts:resetPassword",Tt(w,p))})).apply(this,arguments)}function zh(w,p){return dd.apply(this,arguments)}function dd(){return(dd=(0,r.Z)(function*(w,p){return lt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xp(w,p){return hd.apply(this,arguments)}function hd(){return(hd=(0,r.Z)(function*(w,p){return lt(w,"POST","/v1/accounts:update",Tt(w,p))})).apply(this,arguments)}function fo(){return(fo=(0,r.Z)(function*(w,p){return se(w,"POST","/v1/accounts:signInWithPassword",Tt(w,p))})).apply(this,arguments)}function Wc(w,p){return fd.apply(this,arguments)}function fd(){return(fd=(0,r.Z)(function*(w,p){return lt(w,"POST","/v1/accounts:sendOobCode",Tt(w,p))})).apply(this,arguments)}function eg(w,p){return pd.apply(this,arguments)}function pd(){return(pd=(0,r.Z)(function*(w,p){return Wc(w,p)})).apply(this,arguments)}function tg(w,p){return gd.apply(this,arguments)}function gd(){return(gd=(0,r.Z)(function*(w,p){return Wc(w,p)})).apply(this,arguments)}function ty(w,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,r.Z)(function*(w,p){return Wc(w,p)})).apply(this,arguments)}function Gc(w,p){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,r.Z)(function*(w,p){return Wc(w,p)})).apply(this,arguments)}function md(){return(md=(0,r.Z)(function*(w,p){return se(w,"POST","/v1/accounts:signInWithEmailLink",Tt(w,p))})).apply(this,arguments)}function fa(){return(fa=(0,r.Z)(function*(w,p){return se(w,"POST","/v1/accounts:signInWithEmailLink",Tt(w,p))})).apply(this,arguments)}class ys extends Zi{constructor(p,y,I,F=null){super("password",I),this._email=p,this._password=y,this._tenantId=F}static _fromEmailAndPassword(p,y){return new ys(p,y,"password")}static _fromEmailAndCode(p,y,I=null){return new ys(p,y,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(p){var y=this;return(0,r.Z)(function*(){switch(y.signInMethod){case"password":return function(w,p){return fo.apply(this,arguments)}(p,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function(w,p){return md.apply(this,arguments)}(p,{email:y._email,oobCode:y._password});default:Wt(p,"internal-error")}})()}_linkToIdToken(p,y){var I=this;return(0,r.Z)(function*(){switch(I.signInMethod){case"password":return zh(p,{idToken:y,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(w,p){return fa.apply(this,arguments)}(p,{idToken:y,email:I._email,oobCode:I._password});default:Wt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function vs(w,p){return _d.apply(this,arguments)}function _d(){return(_d=(0,r.Z)(function*(w,p){return se(w,"POST","/v1/accounts:signInWithIdp",Tt(w,p))})).apply(this,arguments)}class rs extends Zi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const y=new rs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(y.idToken=p.idToken),p.accessToken&&(y.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(y.nonce=p.nonce),p.pendingToken&&(y.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(y.accessToken=p.oauthToken,y.secret=p.oauthTokenSecret):Wt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:F}=y,Z=De(y,["providerId","signInMethod"]);if(!I||!F)return null;const be=new rs(I,F);return be.idToken=Z.idToken||void 0,be.accessToken=Z.accessToken||void 0,be.secret=Z.secret,be.nonce=Z.nonce,be.pendingToken=Z.pendingToken||null,be}_getIdTokenResponse(p){return vs(p,this.buildRequest())}_linkToIdToken(p,y){const I=this.buildRequest();return I.idToken=y,vs(p,I)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,vs(p,y)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),p.postBody=(0,ne.xO)(y)}return p}}function Lo(w,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,r.Z)(function*(w,p){return lt(w,"POST","/v1/accounts:sendVerificationCode",Tt(w,p))})).apply(this,arguments)}function Pl(){return(Pl=(0,r.Z)(function*(w,p){return se(w,"POST","/v1/accounts:signInWithPhoneNumber",Tt(w,p))})).apply(this,arguments)}function Rl(){return(Rl=(0,r.Z)(function*(w,p){const y=yield se(w,"POST","/v1/accounts:signInWithPhoneNumber",Tt(w,p));if(y.temporaryProof)throw Oe(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Wh={USER_NOT_FOUND:"user-not-found"};function Yc(){return(Yc=(0,r.Z)(function*(w,p){return se(w,"POST","/v1/accounts:signInWithPhoneNumber",Tt(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Wh)})).apply(this,arguments)}class Us extends Zi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,y){return new Us({verificationId:p,verificationCode:y})}static _fromTokenResponse(p,y){return new Us({phoneNumber:p,temporaryProof:y})}_getIdTokenResponse(p){return function(w,p){return Pl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,y){return function(w,p){return Rl.apply(this,arguments)}(p,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(w,p){return Yc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:y,verificationId:I,verificationCode:F}=this.params;return p&&y?{temporaryProof:p,phoneNumber:y}:{sessionInfo:I,code:F}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:y,verificationCode:I,phoneNumber:F,temporaryProof:Z}=p;return I||y||F||Z?new Us({verificationId:y,verificationCode:I,phoneNumber:F,temporaryProof:Z}):null}}class No{constructor(p){var y,I,F,Z,be,je;const ft=(0,ne.zd)((0,ne.pd)(p)),ot=null!==(y=ft.apiKey)&&void 0!==y?y:null,Ut=null!==(I=ft.oobCode)&&void 0!==I?I:null,Sn=function(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=ft.mode)&&void 0!==F?F:null);Je(ot&&Ut&&Sn,"argument-error"),this.apiKey=ot,this.operation=Sn,this.code=Ut,this.continueUrl=null!==(Z=ft.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(be=ft.languageCode)&&void 0!==be?be:null,this.tenantId=null!==(je=ft.tenantId)&&void 0!==je?je:null}static parseLink(p){const y=function(w){const p=(0,ne.zd)((0,ne.pd)(w)).link,y=p?(0,ne.zd)((0,ne.pd)(p)).deep_link_id:null,I=(0,ne.zd)((0,ne.pd)(w)).deep_link_id;return(I?(0,ne.zd)((0,ne.pd)(I)).link:null)||I||y||p||w}(p);try{return new No(y)}catch(I){return null}}}let Xn=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,I){return ys._fromEmailAndPassword(y,I)}static credentialWithLink(y,I){const F=No.parseLink(I);return Je(F,"argument-error"),ys._fromEmailAndCode(y,F.code,F.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Er{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class os extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class bs extends os{static credentialFromJSON(p){const y="string"==typeof p?JSON.parse(p):p;return Je("providerId"in y&&"signInMethod"in y,"argument-error"),rs._fromParams(y)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Je(p.idToken||p.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return bs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return bs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:I,oauthTokenSecret:F,pendingToken:Z,nonce:be,providerId:je}=p;if(!I&&!F&&!y&&!Z||!je)return null;try{return new bs(je)._credential({idToken:y,accessToken:I,nonce:be,pendingToken:Z})}catch(ft){return null}}}let Xi=(()=>{class w extends os{constructor(){super("facebook.com")}static credential(y){return rs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(I){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Qc=(()=>{class w extends os{constructor(){super("google.com"),this.addScope("profile")}static credential(y,I){return rs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:I})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:I,oauthAccessToken:F}=y;if(!I&&!F)return null;try{return w.credential(I,F)}catch(Z){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),ga=(()=>{class w extends os{constructor(){super("github.com")}static credential(y){return rs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(I){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class En extends Zi{constructor(p,y){super(p,p),this.pendingToken=y}_getIdTokenResponse(p){return vs(p,this.buildRequest())}_linkToIdToken(p,y){const I=this.buildRequest();return I.idToken=y,vs(p,I)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,vs(p,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:F,pendingToken:Z}=y;return I&&F&&Z&&I===F?new En(I,Z):null}static _create(p,y){return new En(p,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class go extends Er{constructor(p){Je(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return go.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return go.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const y=En.fromJSON(p);return Je(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:y,providerId:I}=p;if(!y||!I)return null;try{return En._create(I,y)}catch(F){return null}}}let Kh=(()=>{class w extends os{constructor(){super("twitter.com")}static credential(y,I){return rs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:I})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:I,oauthTokenSecret:F}=y;if(!I||!F)return null;try{return w.credential(I,F)}catch(Z){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function as(w,p){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,r.Z)(function*(w,p){return se(w,"POST","/v1/accounts:signUp",Tt(w,p))})).apply(this,arguments)}class er{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,y,I,F=!1){return(0,r.Z)(function*(){const Z=yield Nr._fromIdTokenResponse(p,I,F),be=Zt(I);return new er({user:Z,providerId:be,_tokenResponse:I,operationType:y})})()}static _forOperation(p,y,I){return(0,r.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const F=Zt(I);return new er({user:p,providerId:F,_tokenResponse:I,operationType:y})})()}}function Zt(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function vd(w){return el.apply(this,arguments)}function el(){return(el=(0,r.Z)(function*(w){var p;const y=jn(w);if(yield y._initializationPromise,null===(p=y.currentUser)||void 0===p?void 0:p.isAnonymous)return new er({user:y.currentUser,providerId:null,operationType:"signIn"});const I=yield as(y,{returnSecureToken:!0}),F=yield er._fromIdTokenResponse(y,"signIn",I,!0);return yield y._updateCurrentUser(F.user),F})).apply(this,arguments)}class tl extends ne.ZR{constructor(p,y,I,F){var Z;super(y.code,y.message),this.operationType=I,this.user=F,Object.setPrototypeOf(this,tl.prototype),this.customData={appName:p.name,tenantId:null!==(Z=p.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:y.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,y,I,F){return new tl(p,y,I,F)}}function Jc(w,p,y,I){return("reauthenticate"===p?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?tl._fromErrorAndOperation(w,Z,p,I):Z})}function Xc(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function eu(w,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,r.Z)(function*(w,p){const y=(0,ne.m9)(w);yield ls(!0,y,p);const{providerUserInfo:I}=yield Qt(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[p]}),F=Xc(I||[]);return y.providerData=y.providerData.filter(Z=>F.has(Z.providerId)),F.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Qe(w,p){return vn.apply(this,arguments)}function vn(){return(vn=(0,r.Z)(function*(w,p,y=!1){const I=yield sn(w,p._linkToIdToken(w.auth,yield w.getIdToken()),y);return er._forOperation(w,"link",I)})).apply(this,arguments)}function ls(w,p,y){return $n.apply(this,arguments)}function $n(){return($n=(0,r.Z)(function*(w,p,y){yield Kn(p);const F=!1===w?"provider-already-linked":"no-such-provider";Je(Xc(p.providerData).has(y)===w,p.auth,F)})).apply(this,arguments)}function Fo(w,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,r.Z)(function*(w,p,y=!1){const{auth:I}=w,F="reauthenticate";try{const Z=yield sn(w,Jc(I,F,p,w),y);Je(Z.idToken,I,"internal-error");const be=Bt(Z.idToken);Je(be,I,"internal-error");const{sub:je}=be;return Je(w.uid===je,I,"user-mismatch"),er._forOperation(w,F,Z)}catch(Z){throw"auth/user-not-found"===(null==Z?void 0:Z.code)&&Wt(I,"user-mismatch"),Z}})).apply(this,arguments)}function Mi(w,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,r.Z)(function*(w,p,y=!1){const I="signIn",F=yield Jc(w,I,p),Z=yield er._fromIdTokenResponse(w,I,F);return y||(yield w._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function Zs(w,p){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,r.Z)(function*(w,p){return Mi(jn(w),p)})).apply(this,arguments)}function tu(w,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,r.Z)(function*(w,p){const y=(0,ne.m9)(w);return yield ls(!1,y,p.providerId),Qe(y,p)})).apply(this,arguments)}function nl(w,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,r.Z)(function*(w,p){return Fo((0,ne.m9)(w),p)})).apply(this,arguments)}function Bs(w,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,r.Z)(function*(w,p){return se(w,"POST","/v1/accounts:signInWithCustomToken",Tt(w,p))})).apply(this,arguments)}function Vs(w,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,r.Z)(function*(w,p){const y=jn(w),I=yield Bs(y,{token:p,returnSecureToken:!0}),F=yield er._fromIdTokenResponse(y,"signIn",I);return yield y._updateCurrentUser(F.user),F})).apply(this,arguments)}class il{constructor(p,y){this.factorId=p,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(p,y){return"phoneInfo"in y?Zo._fromServerResponse(p,y):Wt(p,"internal-error")}}class Zo extends il{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,y){return new Zo(y)}}function _o(w,p,y){var I;Je((null===(I=y.url)||void 0===I?void 0:I.length)>0,w,"invalid-continue-uri"),Je(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=y.url,p.dynamicLinkDomain=y.dynamicLinkDomain,p.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Je(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=y.iOS.bundleId),y.android&&(Je(y.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=y.android.installApp,p.androidMinimumVersionCode=y.android.minimumVersion,p.androidPackageName=y.android.packageName)}function Yh(w,p,y){return yo.apply(this,arguments)}function yo(){return(yo=(0,r.Z)(function*(w,p,y){const I=(0,ne.m9)(w),F={requestType:"PASSWORD_RESET",email:p};y&&_o(I,F,y),yield tg(I,F)})).apply(this,arguments)}function Bl(w,p,y){return va.apply(this,arguments)}function va(){return(va=(0,r.Z)(function*(w,p,y){yield cd((0,ne.m9)(w),{oobCode:p,newPassword:y})})).apply(this,arguments)}function nu(w,p){return rl.apply(this,arguments)}function rl(){return(rl=(0,r.Z)(function*(w,p){yield Xp((0,ne.m9)(w),{oobCode:p})})).apply(this,arguments)}function sl(w,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,r.Z)(function*(w,p){const y=(0,ne.m9)(w),I=yield cd(y,{oobCode:p}),F=I.requestType;switch(Je(F,y,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Je(I.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Je(I.mfaInfo,y,"internal-error");default:Je(I.email,y,"internal-error")}let Z=null;return I.mfaInfo&&(Z=il._fromServerResponse(jn(y),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:Z},operation:F}})).apply(this,arguments)}function Vl(w,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,r.Z)(function*(w,p){const{data:y}=yield sl((0,ne.m9)(w),p);return y.email})).apply(this,arguments)}function iu(w,p,y){return ru.apply(this,arguments)}function ru(){return(ru=(0,r.Z)(function*(w,p,y){const I=jn(w),F=yield as(I,{returnSecureToken:!0,email:p,password:y}),Z=yield er._fromIdTokenResponse(I,"signIn",F);return yield I._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function ql(w,p,y){return Zs((0,ne.m9)(w),Xn.credential(p,y))}function ig(w,p,y){return al.apply(this,arguments)}function al(){return(al=(0,r.Z)(function*(w,p,y){const I=(0,ne.m9)(w),F={requestType:"EMAIL_SIGNIN",email:p};Je(y.handleCodeInApp,I,"argument-error"),y&&_o(I,F,y),yield ty(I,F)})).apply(this,arguments)}function Oi(w,p){const y=No.parseLink(p);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function vo(w,p,y){return Un.apply(this,arguments)}function Un(){return(Un=(0,r.Z)(function*(w,p,y){const I=(0,ne.m9)(w),F=Xn.credentialWithLink(p,y||Mn());return Je(F._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Zs(I,F)})).apply(this,arguments)}function Qh(w,p){return bd.apply(this,arguments)}function bd(){return(bd=(0,r.Z)(function*(w,p){return lt(w,"POST","/v1/accounts:createAuthUri",Tt(w,p))})).apply(this,arguments)}function rg(w,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,r.Z)(function*(w,p){const I={identifier:p,continueUri:kt()?Mn():"http://localhost"},{signinMethods:F}=yield Qh((0,ne.m9)(w),I);return F||[]})).apply(this,arguments)}function sg(w,p){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,r.Z)(function*(w,p){const y=(0,ne.m9)(w),F={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&_o(y.auth,F,p);const{email:Z}=yield eg(y.auth,F);Z!==w.email&&(yield w.reload())})).apply(this,arguments)}function qo(w,p,y){return ba.apply(this,arguments)}function ba(){return(ba=(0,r.Z)(function*(w,p,y){const I=(0,ne.m9)(w),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};y&&_o(I.auth,Z,y);const{email:be}=yield Gc(I.auth,Z);be!==w.email&&(yield w.reload())})).apply(this,arguments)}function jl(w,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,r.Z)(function*(w,p){return lt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Jh(w,p){return su.apply(this,arguments)}function su(){return(su=(0,r.Z)(function*(w,{displayName:p,photoURL:y}){if(void 0===p&&void 0===y)return;const I=(0,ne.m9)(w),Z={idToken:yield I.getIdToken(),displayName:p,photoUrl:y,returnSecureToken:!0},be=yield sn(I,jl(I.auth,Z));I.displayName=be.displayName||null,I.photoURL=be.photoUrl||null;const je=I.providerData.find(({providerId:ft})=>"password"===ft);je&&(je.displayName=I.displayName,je.photoURL=I.photoURL),yield I._updateTokensIfNecessary(be)})).apply(this,arguments)}function Yn(w,p){return Cd((0,ne.m9)(w),p,null)}function Ca(w,p){return Cd((0,ne.m9)(w),null,p)}function Cd(w,p,y){return $l.apply(this,arguments)}function $l(){return($l=(0,r.Z)(function*(w,p,y){const{auth:I}=w,Z={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(Z.email=p),y&&(Z.password=y);const be=yield sn(w,zh(I,Z));yield w._updateTokensIfNecessary(be,!0)})).apply(this,arguments)}class Cs{constructor(p,y,I={}){this.isNewUser=p,this.providerId=y,this.profile=I}}class Xh extends Cs{constructor(p,y,I,F){super(p,y,I),this.username=F}}class wd extends Cs{constructor(p,y){super(p,"facebook.com",y)}}class og extends Xh{constructor(p,y){super(p,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class Ho extends Cs{constructor(p,y){super(p,"google.com",y)}}class Wl extends Xh{constructor(p,y,I){super(p,"twitter.com",y,I)}}function Td(w){const{user:p,_tokenResponse:y}=w;return p.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function(w){var p,y;if(!w)return null;const{providerId:I}=w,F=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},Z=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!I&&(null==w?void 0:w.idToken)){const be=null===(y=null===(p=Bt(w.idToken))||void 0===p?void 0:p.firebase)||void 0===y?void 0:y.sign_in_provider;if(be)return new Cs(Z,"anonymous"!==be&&"custom"!==be?be:null)}if(!I)return null;switch(I){case"facebook.com":return new wd(Z,F);case"github.com":return new og(Z,F);case"google.com":return new Ho(Z,F);case"twitter.com":return new Wl(Z,F,w.screenName||null);case"custom":case"anonymous":return new Cs(Z,null);default:return new Cs(Z,I,F)}}(y)}class qs{constructor(p,y){this.type=p,this.credential=y}static _fromIdtoken(p){return new qs("enroll",p)}static _fromMfaPendingCredential(p){return new qs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var y,I;if(null==p?void 0:p.multiFactorSession){if(null===(y=p.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return qs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(I=p.multiFactorSession)||void 0===I?void 0:I.idToken)return qs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ou{constructor(p,y,I){this.session=p,this.hints=y,this.signInResolver=I}static _fromError(p,y){const I=jn(p),F=y.customData._serverResponse,Z=(F.mfaInfo||[]).map(je=>il._fromServerResponse(I,je));Je(F.mfaPendingCredential,I,"internal-error");const be=qs._fromMfaPendingCredential(F.mfaPendingCredential);return new ou(be,Z,function(){var je=(0,r.Z)(function*(ft){const ot=yield ft._process(I,be);delete F.mfaInfo,delete F.mfaPendingCredential;const Ut=Object.assign(Object.assign({},F),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(y.operationType){case"signIn":const Sn=yield er._fromIdTokenResponse(I,y.operationType,Ut);return yield I._updateCurrentUser(Sn.user),Sn;case"reauthenticate":return Je(y.user,I,"internal-error"),er._forOperation(y.user,y.operationType,Ut);default:Wt(I,"internal-error")}});return function(ft){return je.apply(this,arguments)}}())}resolveSignIn(p){var y=this;return(0,r.Z)(function*(){return y.signInResolver(p)})()}}function Ed(w,p){var y;const I=(0,ne.m9)(w),F=p;return Je(p.customData.operationType,I,"argument-error"),Je(null===(y=F.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,I,"argument-error"),ou._fromError(I,F)}function Yl(w,p){return lt(w,"POST","/v2/accounts/mfaEnrollment:start",Tt(w,p))}class Br{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(I=>il._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new Br(p)}getSession(){var p=this;return(0,r.Z)(function*(){return qs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,y){var I=this;return(0,r.Z)(function*(){const F=p,Z=yield I.getSession(),be=yield sn(I.user,F._process(I.user.auth,Z,y));return yield I.user._updateTokensIfNecessary(be),I.user.reload()})()}unenroll(p){var y=this;return(0,r.Z)(function*(){const I="string"==typeof p?p:p.uid,F=yield y.user.getIdToken(),Z=yield sn(y.user,function(w,p){return lt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Tt(w,p))}(y.user.auth,{idToken:F,mfaEnrollmentId:I}));y.enrolledFactors=y.enrolledFactors.filter(({uid:be})=>be!==I),yield y.user._updateTokensIfNecessary(Z);try{yield y.user.reload()}catch(be){if("auth/user-token-expired"!==be.code)throw be}})()}}const Ft=new WeakMap;function Ar(w){const p=(0,ne.m9)(w);return Ft.has(p)||Ft.set(p,Br._fromUser(p)),Ft.get(p)}const Pi="__sak";class bi{constructor(p,y){this.storageRetriever=p,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Pi,"1"),this.storage.removeItem(Pi),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,y){return this.storage.setItem(p,JSON.stringify(y)),Promise.resolve()}_get(p){const y=this.storage.getItem(p);return Promise.resolve(y?JSON.parse(y):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const $o=(()=>{class w extends bi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,I)=>this.onStorageEvent(y,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const w=(0,ne.z$)();return da(w)||uo(w)}()&&function(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=Ns(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const I of Object.keys(this.listeners)){const F=this.storage.getItem(I),Z=this.localCache[I];F!==Z&&y(I,Z,F)}}onStorageEvent(y,I=!1){if(!y.key)return void this.forAllChangedKeys((je,ft,ot)=>{this.notifyListeners(je,ot)});const F=y.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const je=this.storage.getItem(F);if(y.newValue!==je)null!==y.newValue?this.storage.setItem(F,y.newValue):this.storage.removeItem(F);else if(this.localCache[F]===y.newValue&&!I)return}const Z=()=>{const je=this.storage.getItem(F);!I&&this.localCache[F]===je||this.notifyListeners(F,je)},be=this.storage.getItem(F);(0,ne.w1)()&&10===document.documentMode&&be!==y.newValue&&y.newValue!==y.oldValue?setTimeout(Z,10):Z()}notifyListeners(y,I){this.localCache[y]=I;const F=this.listeners[y];if(F)for(const Z of Array.from(F))Z(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,I,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:I,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(I)}_removeListener(y,I){this.listeners[y]&&(this.listeners[y].delete(I),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,I){var F=()=>super._set,Z=this;return(0,r.Z)(function*(){yield F().call(Z,y,I),Z.localCache[y]=JSON.stringify(I)})()}_get(y){var I=()=>super._get,F=this;return(0,r.Z)(function*(){const Z=yield I().call(F,y);return F.localCache[y]=JSON.stringify(Z),Z})()}_remove(y){var I=()=>super._remove,F=this;return(0,r.Z)(function*(){yield I().call(F,y),delete F.localCache[y]})()}}return w.type="LOCAL",w})(),bo=(()=>{class w extends bi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,I){}_removeListener(y,I){}}return w.type="SESSION",w})();let zo=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const I=this.receivers.find(Z=>Z.isListeningto(y));if(I)return I;const F=new w(y);return this.receivers.push(F),F}isListeningto(y){return this.eventTarget===y}handleEvent(y){var I=this;return(0,r.Z)(function*(){const F=y,{eventId:Z,eventType:be,data:je}=F.data,ft=I.handlersMap[be];if(!(null==ft?void 0:ft.size))return;F.ports[0].postMessage({status:"ack",eventId:Z,eventType:be});const ot=Array.from(ft).map(function(){var Sn=(0,r.Z)(function*(Wn){return Wn(F.origin,je)});return function(Wn){return Sn.apply(this,arguments)}}()),Ut=yield function(w){return Promise.all(w.map(function(){var p=(0,r.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(I){return{fulfilled:!1,reason:I}}});return function(y){return p.apply(this,arguments)}}()))}(ot);F.ports[0].postMessage({status:"done",eventId:Z,eventType:be,response:Ut})})()}_subscribe(y,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(I)}_unsubscribe(y,I){this.handlersMap[y]&&I&&this.handlersMap[y].delete(I),(!I||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Ql(w="",p=10){let y="";for(let I=0;I<p;I++)y+=Math.floor(10*Math.random());return w+y}class lu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,y,I=50){var F=this;return(0,r.Z)(function*(){const Z="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let be,je;return new Promise((ft,ot)=>{const Ut=Ql("",20);Z.port1.start();const Sn=setTimeout(()=>{ot(new Error("unsupported_event"))},I);je={messageChannel:Z,onMessage(Wn){const fr=Wn;if(fr.data.eventId===Ut)switch(fr.data.status){case"ack":clearTimeout(Sn),be=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(be),ft(fr.data.response);break;default:clearTimeout(Sn),clearTimeout(be),ot(new Error("invalid_response"))}}},F.handlers.add(je),Z.port1.addEventListener("message",je.onMessage),F.target.postMessage({eventType:p,eventId:Ut,data:y},[Z.port2])}).finally(()=>{je&&F.removeMessageHandler(je)})})()}}function li(){return window}function wa(){return void 0!==li().WorkerGlobalScope&&"function"==typeof li().importScripts}function Wo(){return(Wo=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const Ts="firebaseLocalStorageDb",Ta="firebaseLocalStorage",Vr="fbase_key";class Ea{constructor(p){this.request=p}toPromise(){return new Promise((p,y)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Jl(w,p){return w.transaction([Ta],p?"readwrite":"readonly").objectStore(Ta)}function ul(){const w=indexedDB.open(Ts,1);return new Promise((p,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const I=w.result;try{I.createObjectStore(Ta,{keyPath:Vr})}catch(F){y(F)}}),w.addEventListener("success",(0,r.Z)(function*(){const I=w.result;I.objectStoreNames.contains(Ta)?p(I):(I.close(),yield function(){const w=indexedDB.deleteDatabase(Ts);return new Ea(w).toPromise()}(),p(yield ul()))}))})}function cr(w,p,y){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,r.Z)(function*(w,p,y){const I=Jl(w,!0).put({[Vr]:p,value:y});return new Ea(I).toPromise()})).apply(this,arguments)}function Ri(){return(Ri=(0,r.Z)(function*(w,p){const y=Jl(w,!1).get(p),I=yield new Ea(y).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function uu(w,p){const y=Jl(w,!0).delete(p);return new Ea(y).toPromise()}const Hs=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,r.Z)(function*(){return y.db||(y.db=yield ul()),y.db})()}_withRetries(y){var I=this;return(0,r.Z)(function*(){let F=0;for(;;)try{const Z=yield I._openDb();return yield y(Z)}catch(Z){if(F++>3)throw Z;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,r.Z)(function*(){return wa()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,r.Z)(function*(){y.receiver=zo._getInstance(wa()?self:null),y.receiver._subscribe("keyChanged",function(){var I=(0,r.Z)(function*(F,Z){return{keyProcessed:(yield y._poll()).includes(Z.key)}});return function(F,Z){return I.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var I=(0,r.Z)(function*(F,Z){return["keyChanged"]});return function(F,Z){return I.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,r.Z)(function*(){var I,F;if(y.activeServiceWorker=yield function(){return Wo.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new lu(y.activeServiceWorker);const Z=yield y.sender._send("ping",{},800);!Z||(null===(I=Z[0])||void 0===I?void 0:I.fulfilled)&&(null===(F=Z[0])||void 0===F?void 0:F.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var I=this;return(0,r.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:y},I.serviceWorkerReceiverAvailable?800:50)}catch(F){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const y=yield ul();return yield cr(y,Pi,"1"),yield uu(y,Pi),!0}catch(y){}return!1})()}_withPendingWrite(y){var I=this;return(0,r.Z)(function*(){I.pendingWrites++;try{yield y()}finally{I.pendingWrites--}})()}_set(y,I){var F=this;return(0,r.Z)(function*(){return F._withPendingWrite((0,r.Z)(function*(){return yield F._withRetries(Z=>cr(Z,y,I)),F.localCache[y]=I,F.notifyServiceWorker(y)}))})()}_get(y){var I=this;return(0,r.Z)(function*(){const F=yield I._withRetries(Z=>function(w,p){return Ri.apply(this,arguments)}(Z,y));return I.localCache[y]=F,F})()}_remove(y){var I=this;return(0,r.Z)(function*(){return I._withPendingWrite((0,r.Z)(function*(){return yield I._withRetries(F=>uu(F,y)),delete I.localCache[y],I.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,r.Z)(function*(){const I=yield y._withRetries(be=>{const je=Jl(be,!1).getAll();return new Ea(je).toPromise()});if(!I)return[];if(0!==y.pendingWrites)return[];const F=[],Z=new Set;for(const{fbase_key:be,value:je}of I)Z.add(be),JSON.stringify(y.localCache[be])!==JSON.stringify(je)&&(y.notifyListeners(be,je),F.push(be));for(const be of Object.keys(y.localCache))y.localCache[be]&&!Z.has(be)&&(y.notifyListeners(be,null),F.push(be));return F})()}notifyListeners(y,I){this.localCache[y]=I;const F=this.listeners[y];if(F)for(const Z of Array.from(F))Z(I)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(I)}_removeListener(y,I){this.listeners[y]&&(this.listeners[y].delete(I),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function qr(w,p){return lt(w,"POST","/v2/accounts/mfaSignIn:start",Tt(w,p))}function js(){return(js=(0,r.Z)(function*(w){return(yield lt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ad(w){return new Promise((p,y)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=p,I.onerror=F=>{const Z=en("internal-error");Z.customData=F,y(Z)},I.type="text/javascript",I.charset="UTF-8",function(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(I)})}function xd(w){return`__${w}${Math.floor(1e6*Math.random())}`}const xr=1e12;class gi{constructor(p){this.auth=p,this.counter=xr,this._widgets=new Map}render(p,y){const I=this.counter;return this._widgets.set(I,new dr(p,this.auth.name,y||{})),this.counter++,I}reset(p){var y;const I=p||xr;null===(y=this._widgets.get(I))||void 0===y||y.delete(),this._widgets.delete(I)}getResponse(p){var y;return(null===(y=this._widgets.get(p||xr))||void 0===y?void 0:y.getResponse())||""}execute(p){var y=this;return(0,r.Z)(function*(){var I;return null===(I=y._widgets.get(p||xr))||void 0===I||I.execute(),""})()}}class dr{constructor(p,y,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof p?document.getElementById(p):p;Je(F,"argument-error",{appName:y}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(w){const p=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)p.push(y.charAt(Math.floor(Math.random()*y.length)));return p.join("")}();const{callback:p,"expired-callback":y}=this.params;if(p)try{p(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ko=xd("rcb"),xa=new q(3e4,6e4);class Dd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!li().grecaptcha}load(p,y=""){return Je((w=y).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w),p,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(li().grecaptcha):new Promise((I,F)=>{const Z=li().setTimeout(()=>{F(en(p,"network-request-failed"))},xa.get());li()[Ko]=()=>{li().clearTimeout(Z),delete li()[Ko];const je=li().grecaptcha;if(!je)return void F(en(p,"internal-error"));const ft=je.render;je.render=(ot,Ut)=>{const Sn=ft(ot,Ut);return this.counter++,Sn},this.hostLanguage=y,I(je)},Ad(`https://www.google.com/recaptcha/api.js??${(0,ne.xO)({onload:Ko,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(Z),F(en(p,"internal-error"))})});var w}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!li().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hr{load(p){return(0,r.Z)(function*(){return new gi(p)})()}clearedOneInstance(){}}const fu="recaptcha",Da={theme:"light",type:"image"};class hg{constructor(p,y=Object.assign({},Da),I){this.parameters=y,this.type=fu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jn(I),this.isInvisible="invisible"===this.parameters.size,Je("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof p?document.getElementById(p):p;Je(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hr:new Dd,this.validateStartingState()}verify(){var p=this;return(0,r.Z)(function*(){p.assertNotDestroyed();const y=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(y)||new Promise(Z=>{const be=je=>{!je||(p.tokenChangeListeners.delete(be),Z(je))};p.tokenChangeListeners.add(be),p.isInvisible&&I.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Je(!this.parameters.sitekey,this.auth,"argument-error"),Je(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Je("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return y=>{if(this.tokenChangeListeners.forEach(I=>I(y)),"function"==typeof p)p(y);else if("string"==typeof p){const I=li()[p];"function"==typeof I&&I(y)}}}assertNotDestroyed(){Je(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,r.Z)(function*(){if(yield p.init(),!p.widgetId){let y=p.container;if(!p.isInvisible){const I=document.createElement("div");y.appendChild(I),y=I}p.widgetId=p.getAssertedRecaptcha().render(y,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,r.Z)(function*(){Je(kt()&&!wa(),p.auth,"internal-error"),yield function(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const y=yield function(w){return js.apply(this,arguments)}(p.auth);Je(y,p.auth,"internal-error"),p.parameters.sitekey=y})()}getAssertedRecaptcha(){return Je(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dl{constructor(p,y){this.verificationId=p,this.onConfirmation=y}confirm(p){const y=Us._fromVerification(this.verificationId,p);return this.onConfirmation(y)}}function sf(w,p,y){return pu.apply(this,arguments)}function pu(){return(pu=(0,r.Z)(function*(w,p,y){const I=jn(w),F=yield Sa(I,p,(0,ne.m9)(y));return new dl(F,Z=>Zs(I,Z))})).apply(this,arguments)}function Yo(w,p,y){return gu.apply(this,arguments)}function gu(){return(gu=(0,r.Z)(function*(w,p,y){const I=(0,ne.m9)(w);yield ls(!1,I,"phone");const F=yield Sa(I.auth,p,(0,ne.m9)(y));return new dl(F,Z=>tu(I,Z))})).apply(this,arguments)}function jr(w,p,y){return nn.apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(w,p,y){const I=(0,ne.m9)(w),F=yield Sa(I.auth,p,(0,ne.m9)(y));return new dl(F,Z=>nl(I,Z))})).apply(this,arguments)}function Sa(w,p,y){return To.apply(this,arguments)}function To(){return(To=(0,r.Z)(function*(w,p,y){var I;const F=yield y.verify();try{let Z;if(Je("string"==typeof F,w,"argument-error"),Je(y.type===fu,w,"argument-error"),Z="string"==typeof p?{phoneNumber:p}:p,"session"in Z){const be=Z.session;if("phoneNumber"in Z)return Je("enroll"===be.type,w,"internal-error"),(yield Yl(w,{idToken:be.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{Je("signin"===be.type,w,"internal-error");const je=(null===(I=Z.multiFactorHint)||void 0===I?void 0:I.uid)||Z.multiFactorUid;return Je(je,w,"missing-multi-factor-info"),(yield qr(w,{mfaPendingCredential:be.credential,mfaEnrollmentId:je,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:be}=yield Lo(w,{phoneNumber:Z.phoneNumber,recaptchaToken:F});return be}}finally{y._reset()}})).apply(this,arguments)}function ka(w,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,r.Z)(function*(w,p){yield Qe((0,ne.m9)(w),p)})).apply(this,arguments)}let hl=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=jn(y)}verifyPhoneNumber(y,I){return Sa(this.auth,y,(0,ne.m9)(I))}static credential(y,I){return Us._fromVerification(y,I)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:I,temporaryProof:F}=y;return I&&F?Us._fromTokenResponse(I,F):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function D(w,p){return p?st(p):(Je(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class k extends Zi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return vs(p,this._buildIdpRequest())}_linkToIdToken(p,y){return vs(p,this._buildIdpRequest(y))}_getReauthenticationResolver(p){return vs(p,this._buildIdpRequest())}_buildIdpRequest(p){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(y.idToken=p),y}}function V(w){return Mi(w.auth,new k(w),w.bypassAuthState)}function ie(w){const{auth:p,user:y}=w;return Je(y,p,"internal-error"),Fo(y,new k(w),w.bypassAuthState)}function Ee(w){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(w){const{auth:p,user:y}=w;return Je(y,p,"internal-error"),Qe(y,new k(w),w.bypassAuthState)})).apply(this,arguments)}class Xe{constructor(p,y,I,F,Z=!1){this.auth=p,this.resolver=I,this.user=F,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var p=this;return new Promise(function(){var y=(0,r.Z)(function*(I,F){p.pendingPromise={resolve:I,reject:F};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Z){p.reject(Z)}});return function(I,F){return y.apply(this,arguments)}}())}onAuthEvent(p){var y=this;return(0,r.Z)(function*(){const{urlResponse:I,sessionId:F,postBody:Z,tenantId:be,error:je,type:ft}=p;if(je)return void y.reject(je);const ot={auth:y.auth,requestUri:I,sessionId:F,tenantId:be||void 0,postBody:Z||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(ft)(ot))}catch(Ut){y.reject(Ut)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return V;case"linkViaPopup":case"linkViaRedirect":return Ee;case"reauthViaPopup":case"reauthViaRedirect":return ie;default:Wt(this.auth,"internal-error")}}resolve(p){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dt=new q(2e3,1e4);function it(w,p,y){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,r.Z)(function*(w,p,y){const I=jn(w);si(w,p,Er);const F=D(I,y);return new Eo(I,"signInViaPopup",p,F).executeNotNull()})).apply(this,arguments)}function zn(w,p,y){return ni.apply(this,arguments)}function ni(){return(ni=(0,r.Z)(function*(w,p,y){const I=(0,ne.m9)(w);si(I.auth,p,Er);const F=D(I.auth,y);return new Eo(I.auth,"reauthViaPopup",p,F,I).executeNotNull()})).apply(this,arguments)}function Li(w,p,y){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,r.Z)(function*(w,p,y){const I=(0,ne.m9)(w);si(I.auth,p,Er);const F=D(I.auth,y);return new Eo(I.auth,"linkViaPopup",p,F,I).executeNotNull()})).apply(this,arguments)}let Eo=(()=>{class w extends Xe{constructor(y,I,F,Z,be){super(y,I,Z,be),this.provider=F,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,r.Z)(function*(){const I=yield y.execute();return Je(I,y.auth,"internal-error"),I})()}onExecution(){var y=this;return(0,r.Z)(function*(){Et(1===y.filter.length,"Popup operations only handle one event");const I=Ql();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],I),y.authWindow.associatedEvent=I,y.resolver._originValidation(y.auth).catch(F=>{y.reject(F)}),y.resolver._isIframeWebStorageSupported(y.auth,F=>{F||y.reject(en(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(en(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var I,F;this.pollId=(null===(F=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===F?void 0:F.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(en(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,dt.get())};y()}}return w.currentPopupAction=null,w})();const hr=new Map;class Vi extends Xe{constructor(p,y,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,y=this;return(0,r.Z)(function*(){let I=hr.get(y.auth._key());if(!I){try{const Z=(yield function(w,p){return Ni.apply(this,arguments)}(y.resolver,y.auth))?yield p().call(y):null;I=()=>Promise.resolve(Z)}catch(F){I=()=>Promise.reject(F)}hr.set(y.auth._key(),I)}return y.bypassAuthState||hr.set(y.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var y=()=>super.onAuthEvent,I=this;return(0,r.Z)(function*(){if("signInViaRedirect"===p.type)return y().call(I,p);if("unknown"!==p.type){if(p.eventId){const F=yield I.auth._redirectUserForId(p.eventId);if(F)return I.user=F,y().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Ni(){return(Ni=(0,r.Z)(function*(w,p){const y=lf(p),I=$s(w);if(!(yield I._isAvailable()))return!1;const F="true"===(yield I._get(y));return yield I._remove(y),F})).apply(this,arguments)}function bn(w,p){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,r.Z)(function*(w,p){return $s(w)._set(lf(p),"true")})).apply(this,arguments)}function af(){hr.clear()}function $s(w){return st(w._redirectPersistence)}function lf(w){return Fr("pendingRedirect",w.config.apiKey,w.name)}function fg(w,p,y){return function(w,p,y){return Oa.apply(this,arguments)}(w,p,y)}function Oa(){return(Oa=(0,r.Z)(function*(w,p,y){const I=jn(w);si(w,p,Er);const F=D(I,y);return yield bn(F,I),F._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function Pa(w,p,y){return function(w,p,y){return cf.apply(this,arguments)}(w,p,y)}function cf(){return(cf=(0,r.Z)(function*(w,p,y){const I=(0,ne.m9)(w);si(I.auth,p,Er);const F=D(I.auth,y);yield bn(F,I.auth);const Z=yield Pd(I);return F._openRedirect(I.auth,p,"reauthViaRedirect",Z)})).apply(this,arguments)}function _u(w,p,y){return function(w,p,y){return Sd.apply(this,arguments)}(w,p,y)}function Sd(){return(Sd=(0,r.Z)(function*(w,p,y){const I=(0,ne.m9)(w);si(I.auth,p,Er);const F=D(I.auth,y);yield ls(!1,I,p.providerId),yield bn(F,I.auth);const Z=yield Pd(I);return F._openRedirect(I.auth,p,"linkViaRedirect",Z)})).apply(this,arguments)}function kd(w,p){return Md.apply(this,arguments)}function Md(){return(Md=(0,r.Z)(function*(w,p){return yield jn(w)._initializationPromise,Od(w,p,!1)})).apply(this,arguments)}function Od(w,p){return tc.apply(this,arguments)}function tc(){return(tc=(0,r.Z)(function*(w,p,y=!1){const I=jn(w),F=D(I,p),be=yield new Vi(I,F,y).execute();return be&&!y&&(delete be.user._redirectEventId,yield I._persistUserIfCurrent(be.user),yield I._setRedirectUser(null,p)),be})).apply(this,arguments)}function Pd(w){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,r.Z)(function*(w){const p=Ql(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class gg{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let y=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(y=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yu(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=p,y=!0)),y}sendToConsumer(p,y){var I;if(p.error&&!yu(p)){const F=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";y.onError(en(this.auth,F))}else y.onAuthEvent(p)}isEventForConsumer(p,y){const I=null===y.eventId||!!p.eventId&&p.eventId===y.eventId;return y.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iy(p))}saveEventToCache(p){this.cachedEventUids.add(iy(p)),this.lastProcessedEventTime=Date.now()}}function iy(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function yu({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===(null==p?void 0:p.code)}function df(w){return vu.apply(this,arguments)}function vu(){return(vu=(0,r.Z)(function*(w,p={}){return lt(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Ld=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jo=/^https?/;function La(){return(La=(0,r.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield df(w);for(const y of p)try{if(mg(y))return}catch(I){}Wt(w,"unauthorized-domain")})).apply(this,arguments)}function mg(w){const p=Mn(),{protocol:y,hostname:I}=new URL(p);if(w.startsWith("chrome-extension://")){const be=new URL(w);return""===be.hostname&&""===I?"chrome-extension:"===y&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===y&&be.hostname===I}if(!Jo.test(y))return!1;if(Ld.test(w))return I===w;const F=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(I)}const _g=new q(3e4,6e4);function yg(){const w=li().___jsl;if(null==w?void 0:w.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Io=null;function vg(w){return Io=Io||function(w){return new Promise((p,y)=>{var I,F,Z;function be(){yg(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{yg(),y(en(w,"network-request-failed"))},timeout:_g.get()})}if(null===(F=null===(I=li().gapi)||void 0===I?void 0:I.iframes)||void 0===F?void 0:F.Iframe)p(gapi.iframes.getContext());else{if(!(null===(Z=li().gapi)||void 0===Z?void 0:Z.load)){const je=xd("iframefcb");return li()[je]=()=>{gapi.load?be():y(en(w,"network-request-failed"))},Ad(`https://apis.google.com/js/api.js?onload=${je}`)}be()}}).catch(p=>{throw Io=null,p})}(w),Io}const Nd=new q(5e3,15e3),Cg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ff=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fd(w){const p=w.config;Je(p.authDomain,w,"auth-domain-config-required");const y=p.emulator?te(p,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,I={apiKey:p.apiKey,appName:w.name,v:H.SDK_VERSION},F=ff.get(w.config.apiHost);F&&(I.eid=F);const Z=w._getFrameworks();return Z.length&&(I.fw=Z.join(",")),`${y}?${(0,ne.xO)(I).slice(1)}`}function fl(){return fl=(0,r.Z)(function*(w){const p=yield vg(w),y=li().gapi;return Je(y,w,"internal-error"),p.open({where:document.body,url:Fd(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cg,dontclear:!0},I=>new Promise(function(){var F=(0,r.Z)(function*(Z,be){yield I.restyle({setHideOnLeave:!1});const je=en(w,"network-request-failed"),ft=li().setTimeout(()=>{be(je)},Nd.get());function ot(){li().clearTimeout(ft),Z(I)}I.ping(ot).then(ot,()=>{be(je)})});return function(Z,be){return F.apply(this,arguments)}}()))}),fl.apply(this,arguments)}const sy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Bd(w,p,y,I,F,Z){Je(w.config.authDomain,w,"auth-domain-config-required"),Je(w.config.apiKey,w,"invalid-api-key");const be={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:I,v:H.SDK_VERSION,eventId:F};if(p instanceof Er){p.setDefaultLanguage(w.languageCode),be.providerId=p.providerId||"",(0,ne.xb)(p.getCustomParameters())||(be.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ft,ot]of Object.entries(Z||{}))be[ft]=ot}if(p instanceof os){const ft=p.getScopes().filter(ot=>""!==ot);ft.length>0&&(be.scopes=ft.join(","))}w.tenantId&&(be.tid=w.tenantId);const je=be;for(const ft of Object.keys(je))void 0===je[ft]&&delete je[ft];return`${function({config:w}){return w.emulator?te(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,ne.xO)(je).slice(1)}`}const Tg="webStorageSupport",pl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bo,this._completeRedirectFn=Od}_openPopup(p,y,I,F){var Z=this;return(0,r.Z)(function*(){var be;Et(null===(be=Z.eventManagers[p._key()])||void 0===be?void 0:be.manager,"_initialize() not called before _openPopup()");const je=Bd(p,y,I,Mn(),F);return function(w,p,y,I=500,F=600){const Z=Math.max((window.screen.availHeight-F)/2,0).toString(),be=Math.max((window.screen.availWidth-I)/2,0).toString();let je="";const ft=Object.assign(Object.assign({},sy),{width:I.toString(),height:F.toString(),top:Z,left:be}),ot=(0,ne.z$)().toLowerCase();y&&(je=Ro(ot)?"_blank":y),Ln(ot)&&(p=p||"http://localhost",ft.scrollbars="yes");const Ut=Object.entries(ft).reduce((Wn,[fr,ta])=>`${Wn}${fr}=${ta},`,"");if(function(w=(0,ne.z$)()){var p;return uo(w)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ot)&&"_self"!==je)return function(w,p){const y=document.createElement("a");y.href=w,y.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(I)}(p||"",je),new bu(null);const Sn=window.open(p||"",je,Ut);Je(Sn,w,"popup-blocked");try{Sn.focus()}catch(Wn){}return new bu(Sn)}(p,je,Ql())})()}_openRedirect(p,y,I,F){var Z=this;return(0,r.Z)(function*(){return yield Z._originValidation(p),w=Bd(p,y,I,Mn(),F),li().location.href=w,new Promise(()=>{});var w})()}_initialize(p){const y=p._key();if(this.eventManagers[y]){const{manager:F,promise:Z}=this.eventManagers[y];return F?Promise.resolve(F):(Et(Z,"If manager is not set, promise should be"),Z)}const I=this.initAndGetManager(p);return this.eventManagers[y]={promise:I},I}initAndGetManager(p){var y=this;return(0,r.Z)(function*(){const I=yield function(w){return fl.apply(this,arguments)}(p),F=new gg(p);return I.register("authEvent",Z=>(Je(null==Z?void 0:Z.authEvent,p,"invalid-auth-event"),{status:F.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[p._key()]={manager:F},y.iframes[p._key()]=I,F})()}_isIframeWebStorageSupported(p,y){this.iframes[p._key()].send(Tg,{type:Tg},F=>{var Z;const be=null===(Z=null==F?void 0:F[0])||void 0===Z?void 0:Z[Tg];void 0!==be&&y(!!be),Wt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const y=p._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(w){return La.apply(this,arguments)}(p)),this.originValidationPromises[y]}get _shouldInitProactively(){return Ns()||da()||uo()}};class gl extends class{constructor(p){this.factorId=p}_process(p,y,I){switch(y.type){case"enroll":return this._finalizeEnroll(p,y.credential,I);case"signin":return this._finalizeSignIn(p,y.credential);default:return hn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new gl(p)}_finalizeEnroll(p,y,I){return function(w,p){return lt(w,"POST","/v2/accounts/mfaEnrollment:finalize",Tt(w,p))}(p,{idToken:y,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,y){return function(w,p){return lt(w,"POST","/v2/accounts/mfaSignIn:finalize",Tt(w,p))}(p,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cC=(()=>{class w{constructor(){}static assertion(y){return gl._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var w,Eg="@firebase/auth";class ly{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var y=this;return(0,r.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const y=this.auth.onIdTokenChanged(I=>{var F;p((null===(F=I)||void 0===F?void 0:F.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,y),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const y=this.internalListeners.get(p);!y||(this.internalListeners.delete(p),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}w="Browser",(0,H._registerComponent)(new we.wA("auth",(p,{options:y})=>{const I=p.getProvider("app").getImmediate(),{apiKey:F,authDomain:Z}=I.options;return(be=>{Je(F&&!F.includes(":"),"invalid-api-key",{appName:be.name}),Je(!(null==Z?void 0:Z.includes(":")),"argument-error",{appName:be.name});const je={apiKey:F,authDomain:Z,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$c(w)},ft=new Fs(be,je);return function(w,p){const y=(null==p?void 0:p.persistence)||[],I=(Array.isArray(y)?y:[y]).map(st);(null==p?void 0:p.errorMap)&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(I,null==p?void 0:p.popupRedirectResolver)}(ft,y),ft})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,y,I)=>{p.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new we.wA("auth-internal",p=>{const y=jn(p.getProvider("auth").getImmediate());return new ly(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(Eg,"0.19.3",void 0),(0,H.registerVersion)(Eg,"0.19.3","esm2017")},4213:(vt,$e,Q)=>{"use strict";Q.d($e,{BH:()=>Ge,LL:()=>Ie,ZR:()=>we,zI:()=>ee,US:()=>Re,tV:()=>Ze,$s:()=>lt,r3:()=>an,Sg:()=>Ye,ne:()=>Et,vZ:()=>en,ZB:()=>ue,pd:()=>Je,m9:()=>ht,z$:()=>O,jU:()=>j,ru:()=>P,d:()=>b,xb:()=>yn,w1:()=>_,hl:()=>ae,uI:()=>W,UG:()=>K,b$:()=>S,G6:()=>X,Mn:()=>T,xO:()=>si,zd:()=>oi,eu:()=>G});const xe=function(se){const oe=[];let pe=0;for(let qe=0;qe<se.length;qe++){let Oe=se.charCodeAt(qe);Oe<128?oe[pe++]=Oe:Oe<2048?(oe[pe++]=Oe>>6|192,oe[pe++]=63&Oe|128):55296==(64512&Oe)&&qe+1<se.length&&56320==(64512&se.charCodeAt(qe+1))?(Oe=65536+((1023&Oe)<<10)+(1023&se.charCodeAt(++qe)),oe[pe++]=Oe>>18|240,oe[pe++]=Oe>>12&63|128,oe[pe++]=Oe>>6&63|128,oe[pe++]=63&Oe|128):(oe[pe++]=Oe>>12|224,oe[pe++]=Oe>>6&63|128,oe[pe++]=63&Oe|128)}return oe},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,oe){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const pe=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,qe=[];for(let Oe=0;Oe<se.length;Oe+=3){const pt=se[Oe],mt=Oe+1<se.length,Qt=mt?se[Oe+1]:0,Dn=Oe+2<se.length,Kt=Dn?se[Oe+2]:0;let _e=(15&Qt)<<2|Kt>>6,me=63&Kt;Dn||(me=64,mt||(_e=64)),qe.push(pe[pt>>2],pe[(3&pt)<<4|Qt>>4],pe[_e],pe[me])}return qe.join("")},encodeString(se,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(se):this.encodeByteArray(xe(se),oe)},decodeString(se,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(se):function(se){const oe=[];let pe=0,qe=0;for(;pe<se.length;){const Oe=se[pe++];if(Oe<128)oe[qe++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){const pt=se[pe++];oe[qe++]=String.fromCharCode((31&Oe)<<6|63&pt)}else if(Oe>239&&Oe<365){const Dn=((7&Oe)<<18|(63&se[pe++])<<12|(63&se[pe++])<<6|63&se[pe++])-65536;oe[qe++]=String.fromCharCode(55296+(Dn>>10)),oe[qe++]=String.fromCharCode(56320+(1023&Dn))}else{const pt=se[pe++],mt=se[pe++];oe[qe++]=String.fromCharCode((15&Oe)<<12|(63&pt)<<6|63&mt)}}return oe.join("")}(this.decodeStringToByteArray(se,oe))},decodeStringToByteArray(se,oe){this.init_();const pe=oe?this.charToByteMapWebSafe_:this.charToByteMap_,qe=[];for(let Oe=0;Oe<se.length;){const pt=pe[se.charAt(Oe++)],Qt=Oe<se.length?pe[se.charAt(Oe)]:0;++Oe;const Kt=Oe<se.length?pe[se.charAt(Oe)]:64;++Oe;const Te=Oe<se.length?pe[se.charAt(Oe)]:64;if(++Oe,null==pt||null==Qt||null==Kt||null==Te)throw Error();qe.push(pt<<2|Qt>>4),64!==Kt&&(qe.push(Qt<<4&240|Kt>>2),64!==Te&&qe.push(Kt<<6&192|Te))}return qe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},Le=function(se){return function(se){const oe=xe(se);return Re.encodeByteArray(oe,!0)}(se).replace(/\./g,"")},Ze=function(se){try{return Re.decodeString(se,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function ue(se,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return oe}for(const pe in oe)!oe.hasOwnProperty(pe)||!Ae(pe)||(se[pe]=ue(se[pe],oe[pe]));return se}function Ae(se){return"__proto__"!==se}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,pe)=>{this.resolve=oe,this.reject=pe})}wrapCallback(oe){return(pe,qe)=>{pe?this.reject(pe):this.resolve(qe),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(pe):oe(pe,qe))}}}function Ye(se,oe){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const qe=oe||"demo-project",Oe=se.iat||0,pt=se.sub||se.user_id;if(!pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${qe}`,aud:qe,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:pt,user_id:pt,firebase:{sign_in_provider:"custom",identities:{}}},se);return[Le(JSON.stringify({alg:"none",type:"JWT"})),Le(JSON.stringify(mt)),""].join(".")}function O(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function K(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(se){return!1}}function j(){return"object"==typeof self&&self.self===self}function P(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function S(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return O().indexOf("Electron/")>=0}function _(){const se=O();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function T(){return O().indexOf("MSAppHost/")>=0}function X(){return!K()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){return"object"==typeof indexedDB}function G(){return new Promise((se,oe)=>{try{let pe=!0;const qe="validate-browser-context-for-indexeddb-analytics-module",Oe=self.indexedDB.open(qe);Oe.onsuccess=()=>{Oe.result.close(),pe||self.indexedDB.deleteDatabase(qe),se(!0)},Oe.onupgradeneeded=()=>{pe=!1},Oe.onerror=()=>{var pt;oe((null===(pt=Oe.error)||void 0===pt?void 0:pt.message)||"")}}catch(pe){oe(pe)}})}function ee(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class we extends Error{constructor(oe,pe,qe){super(pe),this.code=oe,this.customData=qe,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ie.prototype.create)}}class Ie{constructor(oe,pe,qe){this.service=oe,this.serviceName=pe,this.errors=qe}create(oe,...pe){const qe=pe[0]||{},Oe=`${this.service}/${oe}`,pt=this.errors[oe],mt=pt?function(se,oe){return se.replace(rt,(pe,qe)=>{const Oe=oe[qe];return null!=Oe?String(Oe):`<${qe}?>`})}(pt,qe):"Error";return new we(Oe,`${this.serviceName}: ${mt} (${Oe}).`,qe)}}const rt=/\{\$([^}]+)}/g;function an(se,oe){return Object.prototype.hasOwnProperty.call(se,oe)}function yn(se){for(const oe in se)if(Object.prototype.hasOwnProperty.call(se,oe))return!1;return!0}function en(se,oe){if(se===oe)return!0;const pe=Object.keys(se),qe=Object.keys(oe);for(const Oe of pe){if(!qe.includes(Oe))return!1;const pt=se[Oe],mt=oe[Oe];if(Tn(pt)&&Tn(mt)){if(!en(pt,mt))return!1}else if(pt!==mt)return!1}for(const Oe of qe)if(!pe.includes(Oe))return!1;return!0}function Tn(se){return null!==se&&"object"==typeof se}function si(se){const oe=[];for(const[pe,qe]of Object.entries(se))Array.isArray(qe)?qe.forEach(Oe=>{oe.push(encodeURIComponent(pe)+"="+encodeURIComponent(Oe))}):oe.push(encodeURIComponent(pe)+"="+encodeURIComponent(qe));return oe.length?"&"+oe.join("&"):""}function oi(se){const oe={};return se.replace(/^\?/,"").split("&").forEach(qe=>{if(qe){const[Oe,pt]=qe.split("=");oe[decodeURIComponent(Oe)]=decodeURIComponent(pt)}}),oe}function Je(se){const oe=se.indexOf("?");if(!oe)return"";const pe=se.indexOf("#",oe);return se.substring(oe,pe>0?pe:void 0)}function Et(se,oe){const pe=new ti(se,oe);return pe.subscribe.bind(pe)}class ti{constructor(oe,pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(()=>{oe(this)}).catch(qe=>{this.error(qe)})}next(oe){this.forEachObserver(pe=>{pe.next(oe)})}error(oe){this.forEachObserver(pe=>{pe.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,pe,qe){let Oe;if(void 0===oe&&void 0===pe&&void 0===qe)throw new Error("Missing Observer.");Oe=function(se,oe){if("object"!=typeof se||null===se)return!1;for(const pe of["next","error","complete"])if(pe in se&&"function"==typeof se[pe])return!0;return!1}(oe)?oe:{next:oe,error:pe,complete:qe},void 0===Oe.next&&(Oe.next=kn),void 0===Oe.error&&(Oe.error=kn),void 0===Oe.complete&&(Oe.complete=kn);const pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Oe.error(this.finalError):Oe.complete()}catch(mt){}}),this.observers.push(Oe),pt}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let pe=0;pe<this.observers.length;pe++)this.sendOne(pe,oe)}sendOne(oe,pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{pe(this.observers[oe])}catch(qe){"undefined"!=typeof console&&console.error&&console.error(qe)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kn(){}function lt(se,oe=1e3,pe=2){const qe=oe*Math.pow(pe,se),Oe=Math.round(.5*qe*(Math.random()-.5)*2);return Math.min(144e5,qe+Oe)}function ht(se){return se&&se._delegate?se._delegate:se}},7713:(vt,$e,Q)=>{"use strict";Q.d($e,{Mq:()=>r.getApp,C6:()=>r.getApps});var r=Q(1572);(0,r.registerVersion)("firebase","9.6.0","app")},7892:(vt,$e,Q)=>{"use strict";Q.d($e,{Z:()=>r.Z});var r=Q(6293);r.Z.registerVersion("firebase","9.6.0","app-compat")},2115:(vt,$e,Q)=>{"use strict";Q.r($e);var r=Q(8239),ne=Q(6293),H=Q(1347),xe=Q(4213),De=(Q(1572),Q(3855),Q(1177));function Le(){return window}function ue(){return(ue=(0,r.Z)(function*(Te,_e,me){var ze;const{BuildInfo:ct}=Le();(0,H.ap)(_e.sessionId,"AuthEvent did not contain a session ID");const Bt=yield j(_e.sessionId),mn={};return(0,H.aq)()?mn.ibi=ct.packageName:(0,H.ar)()?mn.apn=ct.packageName:(0,H.as)(Te,"operation-not-supported-in-this-environment"),ct.displayName&&(mn.appDisplayName=ct.displayName),mn.sessionId=Bt,(0,H.at)(Te,me,_e.type,void 0,null!==(ze=_e.eventId)&&void 0!==ze?ze:void 0,mn)})).apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(Te){const{BuildInfo:_e}=Le(),me={};(0,H.aq)()?me.iosBundleId=_e.packageName:(0,H.ar)()?me.androidPackageName=_e.packageName:(0,H.as)(Te,"operation-not-supported-in-this-environment"),yield(0,H.au)(Te,me)})).apply(this,arguments)}function W(){return(W=(0,r.Z)(function*(Te,_e,me){const{cordova:ze}=Le();let ct=()=>{};try{yield new Promise((Bt,mn)=>{let sn=null;function _n(){var jt;Bt();const Kn=null===(jt=ze.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof Kn&&Kn(),"function"==typeof(null==me?void 0:me.close)&&me.close()}function ai(){sn||(sn=window.setTimeout(()=>{mn((0,H.av)(Te,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===(null==document?void 0:document.visibilityState)&&ai()}_e.addPassiveListener(_n),document.addEventListener("resume",ai,!1),(0,H.ar)()&&document.addEventListener("visibilitychange",Jn,!1),ct=()=>{_e.removePassiveListener(_n),document.removeEventListener("resume",ai,!1),document.removeEventListener("visibilitychange",Jn,!1),sn&&window.clearTimeout(sn)}})}finally{ct()}})).apply(this,arguments)}function j(Te){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(Te){const _e=S(Te),me=yield crypto.subtle.digest("SHA-256",_e);return Array.from(new Uint8Array(me)).map(ct=>ct.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function S(Te){if((0,H.ap)(/[0-9a-zA-Z]+/.test(Te),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Te);const _e=new ArrayBuffer(Te.length),me=new Uint8Array(_e);for(let ze=0;ze<Te.length;ze++)me[ze]=Te.charCodeAt(ze);return me}class _ extends H.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_e=>{this.resolveInialized=_e})}addPassiveListener(_e){this.passiveListeners.add(_e)}removePassiveListener(_e){this.passiveListeners.delete(_e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_e){return this.resolveInialized(),this.passiveListeners.forEach(me=>me(_e)),super.onEvent(_e)}initialized(){var _e=this;return(0,r.Z)(function*(){yield _e.initPromise})()}}function X(Te){return ae.apply(this,arguments)}function ae(){return(ae=(0,r.Z)(function*(Te){const _e=yield le()._get(ge(Te));return _e&&(yield le()._remove(ge(Te))),_e})).apply(this,arguments)}function ee(){const Te=[],_e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let me=0;me<20;me++){const ze=Math.floor(Math.random()*_e.length);Te.push(_e.charAt(ze))}return Te.join("")}function le(){return(0,H.ax)(H.b)}function ge(Te){return(0,H.ay)("authEvent",Te.config.apiKey,Te.name)}function He(Te){if(!(null==Te?void 0:Te.includes("?")))return{};const[_e,...me]=Te.split("?");return(0,xe.zd)(me.join("?"))}function Ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.av)("no-auth-event")}}function an(){var Te;return(null===(Te=null==self?void 0:self.location)||void 0===Te?void 0:Te.protocol)||null}function yn(Te=(0,xe.z$)()){return!("file:"!==an()&&"ionic:"!==an()||!Te.toLowerCase().match(/iphone|ipad|ipod|android/))}function oi(){try{const Te=self.localStorage,_e=H.aG();if(Te)return Te.setItem(_e,"1"),Te.removeItem(_e),!function(Te=(0,xe.z$)()){return(0,xe.w1)()&&11===(null==document?void 0:document.documentMode)||function(Te=(0,xe.z$)()){return/Edge\/\d+/.test(Te)}(Te)}()||(0,xe.hl)()}catch(Te){return Je()&&(0,xe.hl)()}return!1}function Je(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function hn(){return("http:"===an()||"https:"===an()||(0,xe.ru)()||yn())&&!((0,xe.b$)()||(0,xe.UG)())&&oi()&&!Je()}function Et(){return yn()&&"undefined"!=typeof document}function st(){return(st=(0,r.Z)(function*(){return!!Et()&&new Promise(Te=>{const _e=setTimeout(()=>{Te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_e),Te(!0)})})})).apply(this,arguments)}const fn={LOCAL:"local",NONE:"none",SESSION:"session"},kn=H.aw,Mn="persistence";function J(Te){return ye.apply(this,arguments)}function ye(){return(ye=(0,r.Z)(function*(Te){yield Te._initializationPromise;const _e=q(),me=H.ay(Mn,Te.config.apiKey,Te.name);(null==_e?void 0:_e.sessionStorage)&&_e.sessionStorage.setItem(me,Te._getPersistence())})).apply(this,arguments)}function q(){return"undefined"!=typeof window?window:null}const te=H.aw;class fe{constructor(){this.browserResolver=H.ax(H.k),this.cordovaResolver=H.ax(class{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aA}_initialize(_e){var me=this;return(0,r.Z)(function*(){const ze=_e._key();let ct=me.eventManagers.get(ze);return ct||(ct=new _(_e),me.eventManagers.set(ze,ct),me.attachCallbackListeners(_e,ct)),ct})()}_openPopup(_e){(0,H.as)(_e,"operation-not-supported-in-this-environment")}_openRedirect(_e,me,ze,ct){var Bt=this;return(0,r.Z)(function*(){!function(Te){var _e,me,ze,ct,Bt,mn,sn,_n,ai,Jn;const jt=Le();(0,H.aw)("function"==typeof(null===(_e=null==jt?void 0:jt.universalLinks)||void 0===_e?void 0:_e.subscribe),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.aw)(void 0!==(null===(me=null==jt?void 0:jt.BuildInfo)||void 0===me?void 0:me.packageName),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.aw)("function"==typeof(null===(Bt=null===(ct=null===(ze=null==jt?void 0:jt.cordova)||void 0===ze?void 0:ze.plugins)||void 0===ct?void 0:ct.browsertab)||void 0===Bt?void 0:Bt.openUrl),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aw)("function"==typeof(null===(_n=null===(sn=null===(mn=null==jt?void 0:jt.cordova)||void 0===mn?void 0:mn.plugins)||void 0===sn?void 0:sn.browsertab)||void 0===_n?void 0:_n.isAvailable),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aw)("function"==typeof(null===(Jn=null===(ai=null==jt?void 0:jt.cordova)||void 0===ai?void 0:ai.InAppBrowser)||void 0===Jn?void 0:Jn.open),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_e);const mn=yield Bt._initialize(_e);yield mn.initialized(),mn.resetRedirect(),(0,H.aB)(),yield Bt._originValidation(_e);const sn=function(Te,_e,me=null){return{type:_e,eventId:me,urlResponse:null,sessionId:ee(),postBody:null,tenantId:Te.tenantId,error:(0,H.av)(Te,"no-auth-event")}}(_e,ze,ct);yield function(Te,_e){return le()._set(ge(Te),_e)}(_e,sn);const _n=yield function(Te,_e,me){return ue.apply(this,arguments)}(_e,sn,me),ai=yield function(Te){const{cordova:_e}=Le();return new Promise(me=>{_e.plugins.browsertab.isAvailable(ze=>{let ct=null;ze?_e.plugins.browsertab.openUrl(Te):ct=_e.InAppBrowser.open(Te,(0,H.ao)()?"_blank":"_system","location=yes"),me(ct)})})}(_n);return function(Te,_e,me){return W.apply(this,arguments)}(_e,mn,ai)})()}_isIframeWebStorageSupported(_e,me){throw new Error("Method not implemented.")}_originValidation(_e){const me=_e._key();return this.originValidationPromises[me]||(this.originValidationPromises[me]=function(Te){return Ge.apply(this,arguments)}(_e)),this.originValidationPromises[me]}attachCallbackListeners(_e,me){const{universalLinks:ze,handleOpenURL:ct,BuildInfo:Bt}=Le(),mn=setTimeout((0,r.Z)(function*(){yield X(_e),me.onEvent(Ct())}),500),sn=function(){var Jn=(0,r.Z)(function*(jt){clearTimeout(mn);const Kn=yield X(_e);let ut=null;Kn&&(null==jt?void 0:jt.url)&&(ut=function(Te,_e){var me,ze;const ct=function(Te){const _e=He(Te),me=_e.link?decodeURIComponent(_e.link):void 0,ze=He(me).link,ct=_e.deep_link_id?decodeURIComponent(_e.deep_link_id):void 0;return He(ct).link||ct||ze||me||Te}(_e);if(ct.includes("/__/auth/callback")){const Bt=He(ct),mn=Bt.firebaseError?function(Te){try{return JSON.parse(Te)}catch(_e){return null}}(decodeURIComponent(Bt.firebaseError)):null,sn=null===(ze=null===(me=null==mn?void 0:mn.code)||void 0===me?void 0:me.split("auth/"))||void 0===ze?void 0:ze[1],_n=sn?(0,H.av)(sn):null;return _n?{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,error:_n,urlResponse:null,sessionId:null,postBody:null}:{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,sessionId:Te.sessionId,urlResponse:ct,postBody:null}}return null}(Kn,jt.url)),me.onEvent(ut||Ct())});return function(Kn){return Jn.apply(this,arguments)}}();void 0!==ze&&"function"==typeof ze.subscribe&&ze.subscribe(null,sn);const _n=ct,ai=`${Bt.packageName.toLowerCase()}://`;Le().handleOpenURL=function(){var Jn=(0,r.Z)(function*(jt){if(jt.toLowerCase().startsWith(ai)&&sn({url:jt}),"function"==typeof _n)try{_n(jt)}catch(Kn){console.error(Kn)}});return function(jt){return Jn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aA}_initialize(_e){var me=this;return(0,r.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._initialize(_e)})()}_openPopup(_e,me,ze,ct){var Bt=this;return(0,r.Z)(function*(){return yield Bt.selectUnderlyingResolver(),Bt.assertedUnderlyingResolver._openPopup(_e,me,ze,ct)})()}_openRedirect(_e,me,ze,ct){var Bt=this;return(0,r.Z)(function*(){return yield Bt.selectUnderlyingResolver(),Bt.assertedUnderlyingResolver._openRedirect(_e,me,ze,ct)})()}_isIframeWebStorageSupported(_e,me){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_e,me)}_originValidation(_e){return this.assertedUnderlyingResolver._originValidation(_e)}get _shouldInitProactively(){return Et()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return te(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _e=this;return(0,r.Z)(function*(){if(_e.underlyingResolver)return;const me=yield function(){return st.apply(this,arguments)}();_e.underlyingResolver=me?_e.cordovaResolver:_e.browserResolver})()}}function Pe(Te){return Te.unwrap()}function Tt(Te){return Ht(Te)}function Ht(Te){const{_tokenResponse:_e}=Te instanceof xe.ZR?Te.customData:Te;if(!_e)return null;if(!(Te instanceof xe.ZR)&&"temporaryProof"in _e&&"phoneNumber"in _e)return H.P.credentialFromResult(Te);const me=_e.providerId;if(!me||me===H.o.PASSWORD)return null;let ze;switch(me){case H.o.GOOGLE:ze=H.N;break;case H.o.FACEBOOK:ze=H.M;break;case H.o.GITHUB:ze=H.Q;break;case H.o.TWITTER:ze=H.V;break;default:const{oauthIdToken:ct,oauthAccessToken:Bt,oauthTokenSecret:mn,pendingToken:sn,nonce:_n}=_e;return Bt||mn||ct||sn?sn?me.startsWith("saml.")?H.aJ._create(me,sn):H.I._fromParams({providerId:me,signInMethod:me,pendingToken:sn,idToken:ct,accessToken:Bt}):new H.T(me).credential({idToken:ct,accessToken:Bt,rawNonce:_n}):null}return Te instanceof xe.ZR?ze.credentialFromError(Te):ze.credentialFromResult(Te)}function pn(Te,_e){return _e.catch(me=>{throw me instanceof xe.ZR&&function(Te,_e){var me;const ze=null===(me=_e.customData)||void 0===me?void 0:me._tokenResponse;if("auth/multi-factor-auth-required"===_e.code)_e.resolver=new oe(Te,H.am(Te,_e));else if(ze){const ct=Ht(_e),Bt=_e;ct&&(Bt.credential=ct,Bt.tenantId=ze.tenantId||void 0,Bt.email=ze.email||void 0,Bt.phoneNumber=ze.phoneNumber||void 0)}}(Te,me),me}).then(me=>{const ct=me.user;return{operationType:me.operationType,credential:Tt(me),additionalUserInfo:H.ak(me),user:pe.getOrCreate(ct)}})}function ht(Te,_e){return se.apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(Te,_e){const me=yield _e;return{verificationId:me.verificationId,confirm:ze=>pn(Te,me.confirm(ze))}})).apply(this,arguments)}class oe{constructor(_e,me){this.resolver=me,this.auth=_e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_e){return pn(Pe(this.auth),this.resolver.resolveSignIn(_e))}}class pe{constructor(_e){this._delegate=_e,this.multiFactor=H.an(_e)}static getOrCreate(_e){return pe.USER_MAP.has(_e)||pe.USER_MAP.set(_e,new pe(_e)),pe.USER_MAP.get(_e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_e){return this._delegate.getIdTokenResult(_e)}getIdToken(_e){return this._delegate.getIdToken(_e)}linkAndRetrieveDataWithCredential(_e){return this.linkWithCredential(_e)}linkWithCredential(_e){var me=this;return(0,r.Z)(function*(){return pn(me.auth,H.Y(me._delegate,_e))})()}linkWithPhoneNumber(_e,me){var ze=this;return(0,r.Z)(function*(){return ht(ze.auth,H.l(ze._delegate,_e,me))})()}linkWithPopup(_e){var me=this;return(0,r.Z)(function*(){return pn(me.auth,H.d(me._delegate,_e,fe))})()}linkWithRedirect(_e){var me=this;return(0,r.Z)(function*(){return yield J(H.aC(me.auth)),H.g(me._delegate,_e,fe)})()}reauthenticateAndRetrieveDataWithCredential(_e){return this.reauthenticateWithCredential(_e)}reauthenticateWithCredential(_e){var me=this;return(0,r.Z)(function*(){return pn(me.auth,H.Z(me._delegate,_e))})()}reauthenticateWithPhoneNumber(_e,me){return ht(this.auth,H.r(this._delegate,_e,me))}reauthenticateWithPopup(_e){return pn(this.auth,H.e(this._delegate,_e,fe))}reauthenticateWithRedirect(_e){var me=this;return(0,r.Z)(function*(){return yield J(H.aC(me.auth)),H.h(me._delegate,_e,fe)})()}sendEmailVerification(_e){return H.aa(this._delegate,_e)}unlink(_e){var me=this;return(0,r.Z)(function*(){return yield H.aj(me._delegate,_e),me})()}updateEmail(_e){return H.af(this._delegate,_e)}updatePassword(_e){return H.ag(this._delegate,_e)}updatePhoneNumber(_e){return H.u(this._delegate,_e)}updateProfile(_e){return H.ae(this._delegate,_e)}verifyBeforeUpdateEmail(_e,me){return H.ab(this._delegate,_e,me)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pe.USER_MAP=new WeakMap;const qe=H.aw;let Oe=(()=>{class Te{constructor(me,ze){if(this.app=me,ze.isInitialized())return this._delegate=ze.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ct}=me.options;qe(ct,"invalid-api-key",{appName:me.name});let Bt=[H.K];if("undefined"!=typeof window){Bt=function(Te,_e){const me=q();if(!(null==me?void 0:me.sessionStorage))return[];const ze=H.ay(Mn,Te,_e);switch(me.sessionStorage.getItem(ze)){case fn.NONE:return[H.K];case fn.LOCAL:return[H.i,H.a];case fn.SESSION:return[H.a];default:return[]}}(ct,me.name);for(const sn of[H.i,H.b,H.a])Bt.includes(sn)||Bt.push(sn)}qe(ct,"invalid-api-key",{appName:me.name});const mn="undefined"!=typeof window?fe:void 0;this._delegate=ze.initialize({options:{persistence:Bt,popupRedirectResolver:mn}}),this._delegate._updateErrorMap(H.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(me){this._delegate.languageCode=me}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(me){this._delegate.tenantId=me}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(me,ze){H.E(this._delegate,me,ze)}applyActionCode(me){return H.a1(this._delegate,me)}checkActionCode(me){return H.a2(this._delegate,me)}confirmPasswordReset(me,ze){return H.a0(this._delegate,me,ze)}createUserWithEmailAndPassword(me,ze){var ct=this;return(0,r.Z)(function*(){return pn(ct._delegate,H.a4(ct._delegate,me,ze))})()}fetchProvidersForEmail(me){return this.fetchSignInMethodsForEmail(me)}fetchSignInMethodsForEmail(me){return H.a9(this._delegate,me)}isSignInWithEmailLink(me){return H.a7(this._delegate,me)}getRedirectResult(){var me=this;return(0,r.Z)(function*(){qe(hn(),me._delegate,"operation-not-supported-in-this-environment");const ze=yield H.j(me._delegate,fe);return ze?pn(me._delegate,Promise.resolve(ze)):{credential:null,user:null}})()}addFrameworkForLogging(me){!function(Te,_e){(0,H.aC)(Te)._logFramework(_e)}(this._delegate,me)}onAuthStateChanged(me,ze,ct){const{next:Bt,error:mn,complete:sn}=pt(me,ze,ct);return this._delegate.onAuthStateChanged(Bt,mn,sn)}onIdTokenChanged(me,ze,ct){const{next:Bt,error:mn,complete:sn}=pt(me,ze,ct);return this._delegate.onIdTokenChanged(Bt,mn,sn)}sendSignInLinkToEmail(me,ze){return H.a6(this._delegate,me,ze)}sendPasswordResetEmail(me,ze){return H.$(this._delegate,me,ze||void 0)}setPersistence(me){var ze=this;return(0,r.Z)(function*(){let ct;switch(function(Te,_e){kn(Object.values(fn).includes(_e),Te,"invalid-persistence-type"),(0,xe.b$)()?kn(_e!==fn.SESSION,Te,"unsupported-persistence-type"):(0,xe.UG)()?kn(_e===fn.NONE,Te,"unsupported-persistence-type"):Je()?kn(_e===fn.NONE||_e===fn.LOCAL&&(0,xe.hl)(),Te,"unsupported-persistence-type"):kn(_e===fn.NONE||oi(),Te,"unsupported-persistence-type")}(ze._delegate,me),me){case fn.SESSION:ct=H.a;break;case fn.LOCAL:ct=(yield H.ax(H.i)._isAvailable())?H.i:H.b;break;case fn.NONE:ct=H.K;break;default:return H.as("argument-error",{appName:ze._delegate.name})}return ze._delegate.setPersistence(ct)})()}signInAndRetrieveDataWithCredential(me){return this.signInWithCredential(me)}signInAnonymously(){return pn(this._delegate,H.W(this._delegate))}signInWithCredential(me){return pn(this._delegate,H.X(this._delegate,me))}signInWithCustomToken(me){return pn(this._delegate,H._(this._delegate,me))}signInWithEmailAndPassword(me,ze){return pn(this._delegate,H.a5(this._delegate,me,ze))}signInWithEmailLink(me,ze){return pn(this._delegate,H.a8(this._delegate,me,ze))}signInWithPhoneNumber(me,ze){return ht(this._delegate,H.s(this._delegate,me,ze))}signInWithPopup(me){var ze=this;return(0,r.Z)(function*(){return qe(hn(),ze._delegate,"operation-not-supported-in-this-environment"),pn(ze._delegate,H.c(ze._delegate,me,fe))})()}signInWithRedirect(me){var ze=this;return(0,r.Z)(function*(){return qe(hn(),ze._delegate,"operation-not-supported-in-this-environment"),yield J(ze._delegate),H.f(ze._delegate,me,fe)})()}updateCurrentUser(me){return this._delegate.updateCurrentUser(me)}verifyPasswordResetCode(me){return H.a3(this._delegate,me)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Te.Persistence=fn,Te})();function pt(Te,_e,me){let ze=Te;"function"!=typeof Te&&({next:ze,error:_e,complete:me}=Te);const ct=ze;return{next:mn=>ct(mn&&pe.getOrCreate(mn)),error:_e,complete:me}}class mt{constructor(){this.providerId="phone",this._delegate=new H.P(Pe(ne.Z.auth()))}static credential(_e,me){return H.P.credential(_e,me)}verifyPhoneNumber(_e,me){return this._delegate.verifyPhoneNumber(_e,me)}unwrap(){return this._delegate}}mt.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,mt.PROVIDER_ID=H.P.PROVIDER_ID;const Qt=H.aw;var Te;(Te=ne.Z).INTERNAL.registerComponent(new De.wA("auth-compat",_e=>{const me=_e.getProvider("app-compat").getImmediate(),ze=_e.getProvider("auth");return new Oe(me,ze)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.L,FacebookAuthProvider:H.M,GithubAuthProvider:H.Q,GoogleAuthProvider:H.N,OAuthProvider:H.T,SAMLAuthProvider:H.U,PhoneAuthProvider:mt,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:class{constructor(_e,me,ze=ne.Z.app()){var ct;Qt(null===(ct=ze.options)||void 0===ct?void 0:ct.apiKey,"invalid-api-key",{appName:ze.name}),this._delegate=new H.R(_e,me,ze.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:H.V,Auth:Oe,AuthCredential:H.G,Error:xe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Te.registerVersion("@firebase/auth-compat","0.2.3")},4995:function(vt,$e){!function(Q){"use strict";function r(K){return Array.prototype.slice.call(K)}function ne(K){return new Promise(function(j,P){K.onsuccess=function(){j(K.result)},K.onerror=function(){P(K.error)}})}function H(K,j,P){var S,b=new Promise(function(_,T){ne(S=K[j].apply(K,P)).then(_,T)});return b.request=S,b}function xe(K,j,P){var S=H(K,j,P);return S.then(function(b){if(b)return new de(b,S.request)})}function ke(K,j,P){P.forEach(function(S){Object.defineProperty(K.prototype,S,{get:function(){return this[j][S]},set:function(b){this[j][S]=b}})})}function Re(K,j,P,S){S.forEach(function(b){b in P.prototype&&(K.prototype[b]=function(){return H(this[j],b,arguments)})})}function De(K,j,P,S){S.forEach(function(b){b in P.prototype&&(K.prototype[b]=function(){return this[j][b].apply(this[j],arguments)})})}function Le(K,j,P,S){S.forEach(function(b){b in P.prototype&&(K.prototype[b]=function(){return xe(this[j],b,arguments)})})}function Ze(K){this._index=K}function de(K,j){this._cursor=K,this._request=j}function ue(K){this._store=K}function Ae(K){this._tx=K,this.complete=new Promise(function(j,P){K.oncomplete=function(){j()},K.onerror=function(){P(K.error)},K.onabort=function(){P(K.error)}})}function Ge(K,j,P){this._db=K,this.oldVersion=j,this.transaction=new Ae(P)}function Ye(K){this._db=K}ke(Ze,"_index",["name","keyPath","multiEntry","unique"]),Re(Ze,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Le(Ze,"_index",IDBIndex,["openCursor","openKeyCursor"]),ke(de,"_cursor",["direction","key","primaryKey","value"]),Re(de,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(K){K in IDBCursor.prototype&&(de.prototype[K]=function(){var j=this,P=arguments;return Promise.resolve().then(function(){return j._cursor[K].apply(j._cursor,P),ne(j._request).then(function(S){if(S)return new de(S,j._request)})})})}),ue.prototype.createIndex=function(){return new Ze(this._store.createIndex.apply(this._store,arguments))},ue.prototype.index=function(){return new Ze(this._store.index.apply(this._store,arguments))},ke(ue,"_store",["name","keyPath","indexNames","autoIncrement"]),Re(ue,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Le(ue,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),De(ue,"_store",IDBObjectStore,["deleteIndex"]),Ae.prototype.objectStore=function(){return new ue(this._tx.objectStore.apply(this._tx,arguments))},ke(Ae,"_tx",["objectStoreNames","mode"]),De(Ae,"_tx",IDBTransaction,["abort"]),Ge.prototype.createObjectStore=function(){return new ue(this._db.createObjectStore.apply(this._db,arguments))},ke(Ge,"_db",["name","version","objectStoreNames"]),De(Ge,"_db",IDBDatabase,["deleteObjectStore","close"]),Ye.prototype.transaction=function(){return new Ae(this._db.transaction.apply(this._db,arguments))},ke(Ye,"_db",["name","version","objectStoreNames"]),De(Ye,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(K){[ue,Ze].forEach(function(j){K in j.prototype&&(j.prototype[K.replace("open","iterate")]=function(){var P=r(arguments),S=P[P.length-1],b=this._store||this._index,_=b[K].apply(b,P.slice(0,-1));_.onsuccess=function(){S(_.result)}})})}),[Ze,ue].forEach(function(K){K.prototype.getAll||(K.prototype.getAll=function(j,P){var S=this,b=[];return new Promise(function(_){S.iterateCursor(j,function(T){T?(b.push(T.value),void 0===P||b.length!=P?T.continue():_(b)):_(b)})})})}),Q.openDb=function(K,j,P){var S=H(indexedDB,"open",[K,j]),b=S.request;return b&&(b.onupgradeneeded=function(_){P&&P(new Ge(b.result,_.oldVersion,b.transaction))}),S.then(function(_){return new Ye(_)})},Q.deleteDb=function(K){return H(indexedDB,"deleteDatabase",[K])},Object.defineProperty(Q,"__esModule",{value:!0})}($e)},8124:function(vt,$e){var r,ne=function O(W,K,j){null===W&&(W=Function.prototype);var P=Object.getOwnPropertyDescriptor(W,K);if(void 0===P){var S=Object.getPrototypeOf(W);return null===S?void 0:O(S,K,j)}if("value"in P)return P.value;var b=P.get;return void 0===b?void 0:b.call(j)},H=function(){function O(W,K){for(var j=0;j<K.length;j++){var P=K[j];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(W,P.key,P)}}return function(W,K,j){return K&&O(W.prototype,K),j&&O(W,j),W}}();function xe(O,W){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||"object"!=typeof W&&"function"!=typeof W?O:W}function ke(O,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function, not "+typeof W);O.prototype=Object.create(W&&W.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(O,W):O.__proto__=W)}function Re(O,W){if(!(O instanceof W))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var le,O=document,W=window,K=Array.prototype,j=K.slice,P=K.filter,S=K.push,b=function(){},_=function(N){return typeof N==typeof b&&N.call},T=function(N){return"string"==typeof N},U=/^#[\w-]*$/,X=/^\.[\w-]*$/,ae=/<.+>/,G=/^\w+$/;function ee(N,q){return q=q||O,X.test(N)?q.getElementsByClassName(N.slice(1)):G.test(N)?q.getElementsByTagName(N):q.querySelectorAll(N)}function ge(N){if(!le){var q=(le=O.implementation.createHTMLDocument(null)).createElement("base");q.href=O.location.href,le.head.appendChild(q)}return le.body.innerHTML=N,le.body.childNodes}function we(N){"loading"!==O.readyState?N():O.addEventListener("DOMContentLoaded",N)}function Ie(N,q){if(!N)return this;if(N.cash&&N!==W)return N;var Pe,te=N,fe=0;if(T(N))te=U.test(N)?O.getElementById(N.slice(1)):ae.test(N)?ge(N):ee(N,q);else if(_(N))return we(N),this;if(!te)return this;if(te.nodeType||te===W)this[0]=te,this.length=1;else for(Pe=this.length=te.length;fe<Pe;fe++)this[fe]=te[fe];return this}function He(N,q){return new Ie(N,q)}var rt=He.fn=He.prototype=Ie.prototype={cash:!0,length:0,push:S,splice:K.splice,map:K.map,init:Ie};function St(N,q){for(var te=N.length,fe=0;fe<te&&!1!==q.call(N[fe],N[fe],fe,N);fe++);}function bt(N,q){var te=N&&(N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.msMatchesSelector||N.oMatchesSelector);return!!te&&te.call(N,q)}function Ct(N){return T(N)?bt:N.cash?function(q){return N.is(q)}:function(q,te){return q===te}}function _t(N){return He(j.call(N).filter(function(q,te,fe){return fe.indexOf(q)===te}))}Object.defineProperty(rt,"constructor",{value:He}),He.parseHTML=ge,He.noop=b,He.isFunction=_,He.isString=T,He.extend=rt.extend=function(N){N=N||{};var q=j.call(arguments),te=q.length,fe=1;for(1===q.length&&(N=this,fe=0);fe<te;fe++)if(q[fe])for(var Pe in q[fe])q[fe].hasOwnProperty(Pe)&&(N[Pe]=q[fe][Pe]);return N},He.extend({merge:function(N,q){for(var te=+q.length,fe=N.length,Pe=0;Pe<te;fe++,Pe++)N[fe]=q[Pe];return N.length=fe,N},each:St,matches:bt,unique:_t,isArray:Array.isArray,isNumeric:function(N){return!isNaN(parseFloat(N))&&isFinite(N)}});var Xt=He.uid="_cash"+Date.now();function ln(N){return N[Xt]=N[Xt]||{}}function Rn(N,q,te){return ln(N)[q]=te}function an(N,q){var te=ln(N);return void 0===te[q]&&(te[q]=N.dataset?N.dataset[q]:He(N).attr("data-"+q)),te[q]}rt.extend({data:function(N,q){if(T(N))return void 0===q?an(this[0],N):this.each(function(fe){return Rn(fe,N,q)});for(var te in N)this.data(te,N[te]);return this},removeData:function(N){return this.each(function(q){return function(N,q){var te=ln(N);te?delete te[q]:N.dataset?delete N.dataset[q]:He(N).removeAttr("data-"+name)}(q,N)})}});var yn=/\S+/g;function Wt(N){return T(N)&&N.match(yn)}function en(N,q){return N.classList?N.classList.contains(q):new RegExp("(^| )"+q+"( |$)","gi").test(N.className)}function Tn(N,q,te){N.classList?N.classList.add(q):te.indexOf(" "+q+" ")&&(N.className+=" "+q)}function si(N,q){N.classList?N.classList.remove(q):N.className=N.className.replace(q,"")}rt.extend({addClass:function(N){var q=Wt(N);return q?this.each(function(te){var fe=" "+te.className+" ";St(q,function(Pe){Tn(te,Pe,fe)})}):this},attr:function(N,q){if(N){if(T(N))return void 0===q?this[0]?this[0].getAttribute?this[0].getAttribute(N):this[0][N]:void 0:this.each(function(fe){fe.setAttribute?fe.setAttribute(N,q):fe[N]=q});for(var te in N)this.attr(te,N[te]);return this}},hasClass:function(N){var q=!1,te=Wt(N);return te&&te.length&&this.each(function(fe){return!(q=en(fe,te[0]))}),q},prop:function(N,q){if(T(N))return void 0===q?this[0][N]:this.each(function(fe){fe[N]=q});for(var te in N)this.prop(te,N[te]);return this},removeAttr:function(N){return this.each(function(q){q.removeAttribute?q.removeAttribute(N):delete q[N]})},removeClass:function(N){if(!arguments.length)return this.attr("class","");var q=Wt(N);return q?this.each(function(te){St(q,function(fe){si(te,fe)})}):this},removeProp:function(N){return this.each(function(q){delete q[N]})},toggleClass:function(N,q){if(void 0!==q)return this[q?"addClass":"removeClass"](N);var te=Wt(N);return te?this.each(function(fe){var Pe=" "+fe.className+" ";St(te,function(wt){en(fe,wt)?si(fe,wt):Tn(fe,wt,Pe)})}):this}}),rt.extend({add:function(N,q){return _t(He.merge(this,He(N,q)))},each:function(N){return St(this,N),this},eq:function(N){return He(this.get(N))},filter:function(N){if(!N)return this;var q=_(N)?N:Ct(N);return He(P.call(this,function(te){return q(te,N)}))},first:function(){return this.eq(0)},get:function(N){return void 0===N?j.call(this):N<0?this[N+this.length]:this[N]},index:function(N){var q=N?He(N)[0]:this[0],te=N?this:He(q).parent().children();return j.call(te).indexOf(q)},last:function(){return this.eq(-1)}});var N,q,oi=(N=/(?:^\w|[A-Z]|\b\w)/g,q=/[\s-_]+/g,function(te){return te.replace(N,function(fe,Pe){return fe[0===Pe?"toLowerCase":"toUpperCase"]()}).replace(q,"")}),Je=function(){var N={},fe=document.createElement("div").style;return function(Pe){if(Pe=oi(Pe),N[Pe])return N[Pe];var wt=Pe.charAt(0).toUpperCase()+Pe.slice(1);return St((Pe+" "+["webkit","moz","ms","o"].join(wt+" ")+wt).split(" "),function(Ht){if(Ht in fe)return N[Ht]=Pe=N[Pe]=Ht,!1}),N[Pe]}}();function hn(N,q){return parseInt(W.getComputedStyle(N[0],null)[q],10)||0}function ti(N,q,te){var wt,fe=an(N,"_cashEvents"),Pe=fe&&fe[q];!Pe||(te?(N.removeEventListener(q,te),(wt=Pe.indexOf(te))>=0&&Pe.splice(wt,1)):(St(Pe,function(Tt){N.removeEventListener(q,Tt)}),Pe=[]))}function st(N,q){return"&"+encodeURIComponent(N)+"="+encodeURIComponent(q).replace(/%20/g,"+")}function Mn(N){var q=N.type;if(!q)return null;switch(q.toLowerCase()){case"select-one":return function(N){var q=N.selectedIndex;return q>=0?N.options[q].value:null}(N);case"select-multiple":return function(N){var q=[];return St(N.options,function(te){te.selected&&q.push(te.value)}),q.length?q:null}(N);case"radio":case"checkbox":return N.checked?N.value:null;default:return N.value?N.value:null}}function J(N,q,te){var fe=T(q);fe||!q.length?St(N,fe?function(Pe){return Pe.insertAdjacentHTML(te?"afterbegin":"beforeend",q)}:function(Pe,wt){return function(N,q,te){te?N.insertBefore(q,N.childNodes[0]):N.appendChild(q)}(Pe,0===wt?q:q.cloneNode(!0),te)}):St(q,function(Pe){return J(N,Pe,te)})}He.prefixedProp=Je,He.camelCase=oi,rt.extend({css:function(N,q){if(T(N))return N=Je(N),arguments.length>1?this.each(function(fe){return fe.style[N]=q}):W.getComputedStyle(this[0])[N];for(var te in N)this.css(te,N[te]);return this}}),St(["Width","Height"],function(N){var q=N.toLowerCase();rt[q]=function(){return this[0].getBoundingClientRect()[q]},rt["inner"+N]=function(){return this[0]["client"+N]},rt["outer"+N]=function(te){return this[0]["offset"+N]+(te?hn(this,"margin"+("Width"===N?"Left":"Top"))+hn(this,"margin"+("Width"===N?"Right":"Bottom")):0)}}),rt.extend({off:function(N,q){return this.each(function(te){return ti(te,N,q)})},on:function(N,q,te,fe){var Pe;if(!T(N)){for(var wt in N)this.on(wt,q,N[wt]);return this}return _(q)&&(te=q,q=null),"ready"===N?(we(te),this):(q&&(Pe=te,te=function(Tt){for(var lt=Tt.target;!bt(lt,q);){if(lt===this||null===lt)return!1;lt=lt.parentNode}lt&&Pe.call(lt,Tt)}),this.each(function(Tt){var lt=te;fe&&(lt=function(){te.apply(this,arguments),ti(Tt,N,lt)}),function(N,q,te){var fe=an(N,"_cashEvents")||Rn(N,"_cashEvents",{});fe[q]=fe[q]||[],fe[q].push(te),N.addEventListener(q,te)}(Tt,N,lt)}))},one:function(N,q,te){return this.on(N,q,te,!0)},ready:we,trigger:function(N,q){if(document.createEvent){var te=document.createEvent("HTMLEvents");return te.initEvent(N,!0,!1),te=this.extend(te,q),this.each(function(fe){return fe.dispatchEvent(te)})}}}),rt.extend({serialize:function(){var N="";return St(this[0].elements||this,function(q){if(!q.disabled&&"FIELDSET"!==q.tagName){var te=q.name;switch(q.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var fe=Mn(q);null!==fe&&St(fe,function(wt){N+=st(te,wt)});break;default:var Pe=Mn(q);null!==Pe&&(N+=st(te,Pe))}}}),N.substr(1)},val:function(N){return void 0===N?Mn(this[0]):this.each(function(q){return q.value=N})}}),rt.extend({after:function(N){return He(N).insertAfter(this),this},append:function(N){return J(this,N),this},appendTo:function(N){return J(He(N),this),this},before:function(N){return He(N).insertBefore(this),this},clone:function(){return He(this.map(function(N){return N.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(N){if(void 0===N)return this[0].innerHTML;var q=N.nodeType?N[0].outerHTML:N;return this.each(function(te){return te.innerHTML=q})},insertAfter:function(N){var q=this;return He(N).each(function(te,fe){var Pe=te.parentNode,wt=te.nextSibling;q.each(function(Tt){Pe.insertBefore(0===fe?Tt:Tt.cloneNode(!0),wt)})}),this},insertBefore:function(N){var q=this;return He(N).each(function(te,fe){var Pe=te.parentNode;q.each(function(wt){Pe.insertBefore(0===fe?wt:wt.cloneNode(!0),te)})}),this},prepend:function(N){return J(this,N,!0),this},prependTo:function(N){return J(He(N),this,!0),this},remove:function(){return this.each(function(N){if(N.parentNode)return N.parentNode.removeChild(N)})},text:function(N){return void 0===N?this[0].textContent:this.each(function(q){return q.textContent=N})}});var ye=O.documentElement;return rt.extend({position:function(){var N=this[0];return{left:N.offsetLeft,top:N.offsetTop}},offset:function(){var N=this[0].getBoundingClientRect();return{top:N.top+W.pageYOffset-ye.clientTop,left:N.left+W.pageXOffset-ye.clientLeft}},offsetParent:function(){return He(this[0].offsetParent)}}),rt.extend({children:function(N){var q=[];return this.each(function(te){S.apply(q,te.children)}),q=_t(q),N?q.filter(function(te){return bt(te,N)}):q},closest:function(N){return!N||this.length<1?He():this.is(N)?this.filter(N):this.parent().closest(N)},is:function(N){if(!N)return!1;var q=!1,te=Ct(N);return this.each(function(fe){return!(q=te(fe,N))}),q},find:function(N){if(!N||N.nodeType)return He(N&&this.has(N).length?N:null);var q=[];return this.each(function(te){S.apply(q,ee(N,te))}),_t(q)},has:function(N){var q=T(N)?function(te){return 0!==ee(N,te).length}:function(te){return te.contains(N)};return this.filter(q)},next:function(){return He(this[0].nextElementSibling)},not:function(N){if(!N)return this;var q=Ct(N);return this.filter(function(te){return!q(te,N)})},parent:function(){var N=[];return this.each(function(q){q&&q.parentNode&&N.push(q.parentNode)}),_t(N)},parents:function(N){var q,te=[];return this.each(function(fe){for(q=fe;q&&q.parentNode&&q!==O.body.parentNode;)q=q.parentNode,(!N||N&&bt(q,N))&&te.push(q)}),_t(te)},prev:function(){return He(this[0].previousElementSibling)},siblings:function(N){var q=this.parent().children(N),te=this[0];return q.filter(function(fe){return fe!==te})}}),He}();var O,De=function(){function O(W,K,j){Re(this,O),K instanceof Element||console.error(Error(K+" is not an HTML Element"));var P=W.getInstance(K);P&&P.destroy(),this.el=K,this.$el=cash(K)}return H(O,null,[{key:"init",value:function(K,j,P){var S=null;if(j instanceof Element)S=new K(j,P);else if(j&&(j.jquery||j.cash||j instanceof NodeList)){for(var b=[],_=0;_<j.length;_++)b.push(new K(j[_],P));S=b}return S}}]),O}();(O=window).Package?M={}:O.M={},M.jQueryLoaded=!!O.jQuery,void 0!==(r=function(){return M}.apply($e,[]))&&(vt.exports=r),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1,document.addEventListener("keydown",function(O){M.keyDown=!0,(O.which===M.keys.TAB||O.which===M.keys.ARROW_DOWN||O.which===M.keys.ARROW_UP)&&(M.tabPressed=!0)},!0),document.addEventListener("keyup",function(O){M.keyDown=!1,(O.which===M.keys.TAB||O.which===M.keys.ARROW_DOWN||O.which===M.keys.ARROW_UP)&&(M.tabPressed=!1)},!0),document.addEventListener("focus",function(O){M.keyDown&&document.body.classList.add("keyboard-focused")},!0),document.addEventListener("blur",function(O){document.body.classList.remove("keyboard-focused")},!0),M.initializeJqueryWrapper=function(O,W,K){jQuery.fn[W]=function(j){if(O.prototype[j]){var P=Array.prototype.slice.call(arguments,1);if("get"===j.slice(0,3)){var S=this.first()[0][K];return S[j].apply(S,P)}return this.each(function(){var b=this[K];b[j].apply(b,P)})}if("object"==typeof j||!j)return O.init(this,arguments[0]),this;jQuery.error("Method "+j+" does not exist on jQuery."+W)}},M.AutoInit=function(O){var W=O||document.body,K={Autocomplete:W.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:W.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:W.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:W.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:W.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:W.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:W.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:W.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:W.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:W.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:W.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:W.querySelectorAll("select:not(.no-autoinit)"),Sidenav:W.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:W.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:W.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:W.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:W.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:W.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var j in K)M[j].init(K[j])},M.objectSelectorString=function(O){return((O.prop("tagName")||"")+(O.attr("id")||"")+(O.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function O(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return O()+O()+"-"+O()+"-"+O()+"-"+O()+"-"+O()+O()+O()}}(),M.escapeHash=function(O){return O.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(O){var W=$(O),K=W.add(W.parents()),j=!1;return K.each(function(){if("fixed"===$(this).css("position"))return j=!0,!1}),j},M.checkWithinContainer=function(O,W,K){var j={top:!1,right:!1,bottom:!1,left:!1},P=O.getBoundingClientRect(),S=O===document.body?Math.max(P.bottom,window.innerHeight):P.bottom,T=W.left-O.scrollLeft,U=W.top-O.scrollTop;return(T<P.left+K||T<K)&&(j.left=!0),(T+W.width>P.right-K||T+W.width>window.innerWidth-K)&&(j.right=!0),(U<P.top+K||U<K)&&(j.top=!0),(U+W.height>S-K||U+W.height>window.innerHeight-K)&&(j.bottom=!0),j},M.checkPossibleAlignments=function(O,W,K,j){var P={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},S="visible"===getComputedStyle(W).overflow,b=W.getBoundingClientRect(),_=Math.min(b.height,window.innerHeight),T=Math.min(b.width,window.innerWidth),U=O.getBoundingClientRect(),ae=W.scrollTop,G=K.left-W.scrollLeft,ee=K.top-ae,le=K.top+U.height-ae;return P.spaceOnRight=S?window.innerWidth-(U.left+K.width):T-(G+K.width),P.spaceOnRight<0&&(P.left=!1),P.spaceOnLeft=S?U.right-K.width:G-K.width+U.width,P.spaceOnLeft<0&&(P.right=!1),P.spaceOnBottom=S?window.innerHeight-(U.top+K.height+j):_-(ee+K.height+j),P.spaceOnBottom<0&&(P.top=!1),P.spaceOnTop=S?U.bottom-(K.height+j):le-(K.height-j),P.spaceOnTop<0&&(P.bottom=!1),P},M.getOverflowParent=function(O){return null==O?null:O===document.body||"visible"!==getComputedStyle(O).overflow?O:M.getOverflowParent(O.parentElement)},M.getIdFromTrigger=function(O){var W=O.getAttribute("data-target");return W||(W=(W=O.getAttribute("href"))?W.slice(1):""),W},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var Ae=Date.now||function(){return(new Date).getTime()};M.throttle=function(O,W,K){var j=void 0,P=void 0,S=void 0,b=null,_=0;K||(K={});var T=function(){_=!1===K.leading?0:Ae(),b=null,S=O.apply(j,P),j=P=null};return function(){var U=Ae();!_&&!1===K.leading&&(_=U);var X=W-(U-_);return j=this,P=arguments,X<=0?(clearTimeout(b),b=null,_=U,S=O.apply(j,P),j=P=null):!b&&!1!==K.trailing&&(b=setTimeout(T,X)),S}};var Ge={scope:{}};Ge.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(O,W,K){if(K.get||K.set)throw new TypeError("ES3 does not support getters and setters.");O!=Array.prototype&&O!=Object.prototype&&(O[W]=K.value)},Ge.getGlobal=function(O){return"undefined"!=typeof window&&window===O?O:"undefined"!=typeof global&&null!=global?global:O},Ge.global=Ge.getGlobal(this),Ge.SYMBOL_PREFIX="jscomp_symbol_",Ge.initSymbol=function(){Ge.initSymbol=function(){},Ge.global.Symbol||(Ge.global.Symbol=Ge.Symbol)},Ge.symbolCounter_=0,Ge.Symbol=function(O){return Ge.SYMBOL_PREFIX+(O||"")+Ge.symbolCounter_++},Ge.initSymbolIterator=function(){Ge.initSymbol();var O=Ge.global.Symbol.iterator;O||(O=Ge.global.Symbol.iterator=Ge.global.Symbol("iterator")),"function"!=typeof Array.prototype[O]&&Ge.defineProperty(Array.prototype,O,{configurable:!0,writable:!0,value:function(){return Ge.arrayIterator(this)}}),Ge.initSymbolIterator=function(){}},Ge.arrayIterator=function(O){var W=0;return Ge.iteratorPrototype(function(){return W<O.length?{done:!1,value:O[W++]}:{done:!0}})},Ge.iteratorPrototype=function(O){return Ge.initSymbolIterator(),(O={next:O})[Ge.global.Symbol.iterator]=function(){return this},O},Ge.array=Ge.array||{},Ge.iteratorFromArray=function(O,W){Ge.initSymbolIterator(),O instanceof String&&(O+="");var K=0,j={next:function(){if(K<O.length){var P=K++;return{value:W(P,O[P]),done:!1}}return j.next=function(){return{done:!0,value:void 0}},j.next()}};return j[Symbol.iterator]=function(){return j},j},Ge.polyfill=function(O,W,K,j){if(W){for(K=Ge.global,O=O.split("."),j=0;j<O.length-1;j++){var P=O[j];P in K||(K[P]={}),K=K[P]}(W=W(j=K[O=O[O.length-1]]))!=j&&null!=W&&Ge.defineProperty(K,O,{configurable:!0,writable:!0,value:W})}},Ge.polyfill("Array.prototype.keys",function(O){return O||function(){return Ge.iteratorFromArray(this,function(W){return W})}},"es6-impl","es3");var Ye=this;M.anime=function(){function O(J){if(!Et.col(J))try{return document.querySelectorAll(J)}catch(ye){}}function W(J,ye){for(var N=J.length,q=2<=arguments.length?arguments[1]:void 0,te=[],fe=0;fe<N;fe++)if(fe in J){var Pe=J[fe];ye.call(q,Pe,fe,J)&&te.push(Pe)}return te}function K(J){return J.reduce(function(ye,N){return ye.concat(Et.arr(N)?K(N):N)},[])}function j(J){return Et.arr(J)?J:(Et.str(J)&&(J=O(J)||J),J instanceof NodeList||J instanceof HTMLCollection?[].slice.call(J):[J])}function P(J,ye){return J.some(function(N){return N===ye})}function S(J){var N,ye={};for(N in J)ye[N]=J[N];return ye}function b(J,ye){var q,N=S(J);for(q in J)N[q]=ye.hasOwnProperty(q)?ye[q]:J[q];return N}function _(J,ye){var q,N=S(J);for(q in ye)N[q]=Et.und(J[q])?ye[q]:J[q];return N}function X(J){if(J=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(J))return J[2]}function G(J,ye){return Et.fnc(J)?J(ye.target,ye.id,ye.total):J}function ee(J,ye){if(ye in J.style)return getComputedStyle(J).getPropertyValue(ye.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function le(J,ye){return Et.dom(J)&&P(Je,ye)?"transform":Et.dom(J)&&(J.getAttribute(ye)||Et.svg(J)&&J[ye])?"attribute":Et.dom(J)&&"transform"!==ye&&ee(J,ye)?"css":null!=J[ye]?"object":void 0}function we(J,ye){switch(le(J,ye)){case"transform":return function(J,ye){var N=function(J){return-1<J.indexOf("translate")||"perspective"===J?"px":-1<J.indexOf("rotate")||-1<J.indexOf("skew")?"deg":void 0}(ye);if(N=-1<ye.indexOf("scale")?1:0+N,!(J=J.style.transform))return N;for(var q=[],te=[],fe=[],Pe=/(\w+)\((.+?)\)/g;q=Pe.exec(J);)te.push(q[1]),fe.push(q[2]);return(J=W(fe,function(wt,Tt){return te[Tt]===ye})).length?J[0]:N}(J,ye);case"css":return ee(J,ye);case"attribute":return J.getAttribute(ye)}return J[ye]||0}function Ie(J,ye){var N=/^(\*=|\+=|-=)/.exec(J);if(!N)return J;var q=X(J)||0;switch(ye=parseFloat(ye),J=parseFloat(J.replace(N[0],"")),N[0][0]){case"+":return ye+J+q;case"-":return ye-J+q;case"*":return ye*J+q}}function He(J,ye){return Math.sqrt(Math.pow(ye.x-J.x,2)+Math.pow(ye.y-J.y,2))}function rt(J){J=J.points;for(var N,ye=0,q=0;q<J.numberOfItems;q++){var te=J.getItem(q);0<q&&(ye+=He(N,te)),N=te}return ye}function St(J){if(J.getTotalLength)return J.getTotalLength();switch(J.tagName.toLowerCase()){case"circle":return 2*Math.PI*J.getAttribute("r");case"rect":return 2*J.getAttribute("width")+2*J.getAttribute("height");case"line":return He({x:J.getAttribute("x1"),y:J.getAttribute("y1")},{x:J.getAttribute("x2"),y:J.getAttribute("y2")});case"polyline":return rt(J);case"polygon":var ye=J.points;return rt(J)+He(ye.getItem(ye.numberOfItems-1),ye.getItem(0))}}function bt(J,ye){function N(Pe){return J.el.getPointAtLength(1<=ye+(Pe=void 0===Pe?0:Pe)?ye+Pe:0)}var q=N(),te=N(-1),fe=N(1);switch(J.property){case"x":return q.x;case"y":return q.y;case"angle":return 180*Math.atan2(fe.y-te.y,fe.x-te.x)/Math.PI}}function Ct(J,ye){var q,N=/-?\d*\.?\d+/g;if(q=Et.pth(J)?J.totalLength:J,Et.col(q))if(Et.rgb(q)){var te=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(q);q=te?"rgba("+te[1]+",1)":q}else q=Et.hex(q)?function(J){J=J.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(q,te,fe,Pe){return te+te+fe+fe+Pe+Pe});var ye=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(J);return"rgba("+(J=parseInt(ye[1],16))+","+parseInt(ye[2],16)+","+(ye=parseInt(ye[3],16))+",1)"}(q):Et.hsl(q)?function(J){function ye(wt,Tt,lt){return 0>lt&&(lt+=1),1<lt&&--lt,lt<1/6?wt+6*(Tt-wt)*lt:.5>lt?Tt:lt<2/3?wt+(Tt-wt)*(2/3-lt)*6:wt}var N=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(J)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(J);J=parseInt(N[1])/360;var q=parseInt(N[2])/100,te=parseInt(N[3])/100;if(N=N[4]||1,0==q)te=q=J=te;else{var fe=.5>te?te*(1+q):te+q-te*q,Pe=2*te-fe;te=ye(Pe,fe,J+1/3),q=ye(Pe,fe,J),J=ye(Pe,fe,J-1/3)}return"rgba("+255*te+","+255*q+","+255*J+","+N+")"}(q):void 0;else te=(te=X(q))?q.substr(0,q.length-te.length):q,q=ye&&!/\s/g.test(q)?te+ye:te;return{original:q+="",numbers:q.match(N)?q.match(N).map(Number):[0],strings:Et.str(J)||ye?q.split(N):[]}}function _t(J){return W(J=J?K(Et.arr(J)?J.map(j):j(J)):[],function(ye,N,q){return q.indexOf(ye)===N})}function ln(J,ye){var N=S(ye);if(Et.arr(J)){var q=J.length;2!==q||Et.obj(J[0])?Et.fnc(ye.duration)||(N.duration=ye.duration/q):J={value:J}}return j(J).map(function(te,fe){return fe=fe?0:ye.delay,te=Et.obj(te)&&!Et.pth(te)?te:{value:te},Et.und(te.delay)&&(te.delay=fe),te}).map(function(te){return _(te,N)})}function ki(J,ye){var N;return J.tweens.map(function(q){var te=(q=function(J,ye){var q,N={};for(q in J){var te=G(J[q],ye);Et.arr(te)&&1===(te=te.map(function(fe){return G(fe,ye)})).length&&(te=te[0]),N[q]=te}return N.duration=parseFloat(N.duration),N.delay=parseFloat(N.delay),N}(q,ye)).value,fe=we(ye.target,J.name),Pe=N?N.to.original:fe,wt=(Pe=Et.arr(te)?te[0]:Pe,Ie(Et.arr(te)?te[1]:te,Pe));return fe=X(wt)||X(Pe)||X(fe),q.from=Ct(Pe,fe),q.to=Ct(wt,fe),q.start=N?N.end:J.offset,q.end=q.start+q.delay+q.duration,q.easing=function(J){return Et.arr(J)?ti.apply(this,J):st[J]}(q.easing),q.elasticity=(1e3-Math.min(Math.max(q.elasticity,1),999))/1e3,q.isPath=Et.pth(te),q.isColor=Et.col(q.from.original),q.isColor&&(q.round=1),N=q})}function yn(J,ye){return W(K(J.map(function(N){return ye.map(function(q){var te=le(N.target,q.name);if(te){var fe=ki(q,N);q={type:te,property:q.name,animatable:N,tweens:fe,duration:fe[fe.length-1].end,delay:fe[0].delay}}else q=void 0;return q})})),function(N){return!Et.und(N)})}function Wt(J,ye,N,q){var te="delay"===J;return ye.length?(te?Math.min:Math.max).apply(Math,ye.map(function(fe){return fe[J]})):te?q.delay:N.offset+q.delay+q.duration}function en(J){var Pe,ye=b(si,J),N=b(oi,J),q=function(J){var ye=_t(J);return ye.map(function(N,q){return{target:N,id:q,total:ye.length}})}(J.targets),te=[],fe=_(ye,N);for(Pe in J)fe.hasOwnProperty(Pe)||"targets"===Pe||te.push({name:Pe,offset:fe.offset,tweens:ln(J[Pe],N)});return _(ye,{children:[],animatables:q,animations:J=yn(q,te),duration:Wt("duration",J,ye,N),delay:Wt("delay",J,ye,N)})}function Tn(J){function ye(){return window.Promise&&new Promise(function(se){return Ht=se})}function N(se){return ht.reversed?ht.duration-se:se}function q(se){for(var oe=0,pe={},qe=ht.animations,Oe=qe.length;oe<Oe;){var pt=qe[oe],mt=pt.animatable,Kt=(Qt=pt.tweens)[Dn=Qt.length-1];Dn&&(Kt=W(Qt,function(Bt){return se<Bt.end})[0]||Kt);for(var Qt=Math.min(Math.max(se-Kt.start-Kt.delay,0),Kt.duration)/Kt.duration,qn=isNaN(Qt)?1:Kt.easing(Qt,Kt.elasticity),Te=(Qt=Kt.to.strings,Kt.round),Dn=[],_e=void 0,me=(_e=Kt.to.numbers.length,0);me<_e;me++){var ze=void 0,ct=(ze=Kt.to.numbers[me],Kt.from.numbers[me]);ze=Kt.isPath?bt(Kt.value,qn*ze):ct+qn*(ze-ct),Te&&(Kt.isColor&&2<me||(ze=Math.round(ze*Te)/Te)),Dn.push(ze)}if(Kt=Qt.length)for(_e=Qt[0],qn=0;qn<Kt;qn++)Te=Qt[qn+1],me=Dn[qn],isNaN(me)||(_e=Te?_e+(me+Te):_e+(me+" "));else _e=Dn[0];fn[pt.type](mt.target,pt.property,_e,pe,mt.id),pt.currentValue=_e,oe++}if(oe=Object.keys(pe).length)for(qe=0;qe<oe;qe++)hn||(hn=ee(document.body,"transform")?"transform":"-webkit-transform"),ht.animatables[qe].target.style[hn]=pe[qe].join(" ");ht.currentTime=se,ht.progress=se/ht.duration*100}function te(se){ht[se]&&ht[se](ht)}function fe(){ht.remaining&&!0!==ht.remaining&&ht.remaining--}function Pe(se){var oe=ht.duration,pe=ht.offset,qe=pe+ht.delay,Oe=ht.currentTime,pt=ht.reversed,mt=N(se);if(ht.children.length){var Qt=ht.children,Dn=Qt.length;if(mt>=ht.currentTime)for(var Kt=0;Kt<Dn;Kt++)Qt[Kt].seek(mt);else for(;Dn--;)Qt[Dn].seek(mt)}(mt>=qe||!oe)&&(ht.began||(ht.began=!0,te("begin")),te("run")),mt>pe&&mt<oe?q(mt):(mt<=pe&&0!==Oe&&(q(0),pt&&fe()),(mt>=oe&&Oe!==oe||!oe)&&(q(oe),pt||fe())),te("update"),se>=oe&&(ht.remaining?(Tt=wt,"alternate"===ht.direction&&(ht.reversed=!ht.reversed)):(ht.pause(),ht.completed||(ht.completed=!0,te("complete"),"Promise"in window&&(Ht(),pn=ye()))),lt=0)}J=void 0===J?{}:J;var wt,Tt,lt=0,Ht=null,pn=ye(),ht=en(J);return ht.reset=function(){var se=ht.direction,oe=ht.loop;for(ht.currentTime=0,ht.progress=0,ht.paused=!0,ht.began=!1,ht.completed=!1,ht.reversed="reverse"===se,ht.remaining="alternate"===se&&1===oe?2:oe,q(0),se=ht.children.length;se--;)ht.children[se].reset()},ht.tick=function(se){wt=se,Tt||(Tt=wt),Pe((lt+wt-Tt)*Tn.speed)},ht.seek=function(se){Pe(N(se))},ht.pause=function(){var se=kn.indexOf(ht);-1<se&&kn.splice(se,1),ht.paused=!0},ht.play=function(){ht.paused&&(ht.paused=!1,Tt=0,lt=N(ht.currentTime),kn.push(ht),Mn||kt())},ht.reverse=function(){ht.reversed=!ht.reversed,Tt=0,lt=N(ht.currentTime)},ht.restart=function(){ht.pause(),ht.reset(),ht.play()},ht.finished=pn,ht.reset(),ht.autoplay&&ht.play(),ht}var hn,si={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},oi={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},Je="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),Et={arr:function(J){return Array.isArray(J)},obj:function(J){return-1<Object.prototype.toString.call(J).indexOf("Object")},pth:function(J){return Et.obj(J)&&J.hasOwnProperty("totalLength")},svg:function(J){return J instanceof SVGElement},dom:function(J){return J.nodeType||Et.svg(J)},str:function(J){return"string"==typeof J},fnc:function(J){return"function"==typeof J},und:function(J){return void 0===J},hex:function(J){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(J)},rgb:function(J){return/^rgb/.test(J)},hsl:function(J){return/^hsl/.test(J)},col:function(J){return Et.hex(J)||Et.rgb(J)||Et.hsl(J)}},ti=function(){function J(ye,N,q){return(((1-3*q+3*N)*ye+(3*q-6*N))*ye+3*N)*ye}return function(ye,N,q,te){if(0<=ye&&1>=ye&&0<=q&&1>=q){var fe=new Float32Array(11);if(ye!==N||q!==te)for(var Pe=0;11>Pe;++Pe)fe[Pe]=J(.1*Pe,ye,q);return function(wt){if(ye===N&&q===te)return wt;if(0===wt)return 0;if(1===wt)return 1;for(var Tt=0,lt=1;10!==lt&&fe[lt]<=wt;++lt)Tt+=.1;--lt;var Ht=3*(1-3*q+3*ye)*(lt=Tt+(wt-fe[lt])/(fe[lt+1]-fe[lt])*.1)*lt+2*(3*q-6*ye)*lt+3*ye;if(.001<=Ht){for(Tt=0;4>Tt&&0!=(Ht=3*(1-3*q+3*ye)*lt*lt+2*(3*q-6*ye)*lt+3*ye);++Tt){var pn=J(lt,ye,q)-wt;lt-=pn/Ht}wt=lt}else if(0===Ht)wt=lt;else{lt=Tt,Tt+=.1;var ht=0;do{0<(Ht=J(pn=lt+(Tt-lt)/2,ye,q)-wt)?Tt=pn:lt=pn}while(1e-7<Math.abs(Ht)&&10>++ht);wt=pn}return J(wt,N,te)}}}}(),st=function(){function J(Pe,wt){return 0===Pe||1===Pe?Pe:-Math.pow(2,10*(Pe-1))*Math.sin(2*(Pe-1-wt/(2*Math.PI)*Math.asin(1))*Math.PI/wt)}var fe,ye="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),N={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],J],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(Pe,wt){return 1-J(1-Pe,wt)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(Pe,wt){return.5>Pe?J(2*Pe,wt)/2:1-J(-2*Pe+2,wt)/2}]},q={linear:ti(.25,.25,.75,.75)},te={};for(fe in N)te.type=fe,N[te.type].forEach(function(Pe){return function(wt,Tt){q["ease"+Pe.type+ye[Tt]]=Et.fnc(wt)?wt:ti.apply(Ye,wt)}}(te)),te={type:te.type};return q}(),fn={css:function(J,ye,N){return J.style[ye]=N},attribute:function(J,ye,N){return J.setAttribute(ye,N)},object:function(J,ye,N){return J[ye]=N},transform:function(J,ye,N,q,te){q[te]||(q[te]=[]),q[te].push(ye+"("+N+")")}},kn=[],Mn=0,kt=function(){function J(){Mn=requestAnimationFrame(ye)}function ye(N){var q=kn.length;if(q){for(var te=0;te<q;)kn[te]&&kn[te].tick(N),te++;J()}else cancelAnimationFrame(Mn),Mn=0}return J}();return Tn.version="2.2.0",Tn.speed=1,Tn.running=kn,Tn.remove=function(J){J=_t(J);for(var ye=kn.length;ye--;)for(var N=kn[ye],q=N.animations,te=q.length;te--;)P(J,q[te].animatable.target)&&(q.splice(te,1),q.length||N.pause())},Tn.getValue=we,Tn.path=function(J,ye){var N=Et.str(J)?O(J)[0]:J,q=ye||100;return function(te){return{el:N,property:te,totalLength:St(N)*(q/100)}}},Tn.setDashoffset=function(J){var ye=St(J);return J.setAttribute("stroke-dasharray",ye),ye},Tn.bezier=ti,Tn.easings=st,Tn.timeline=function(J){var ye=Tn(J);return ye.pause(),ye.duration=0,ye.add=function(N){return ye.children.forEach(function(q){q.began=!0,q.completed=!0}),j(N).forEach(function(q){var te=_(q,b(oi,J||{}));te.targets=te.targets||J.targets,q=ye.duration;var fe=te.offset;te.autoplay=!1,te.direction=ye.direction,te.offset=Et.und(fe)?q:Ie(fe,q),ye.began=!0,ye.completed=!0,ye.seek(te.offset),(te=Tn(te)).began=!0,te.completed=!0,te.duration>q&&(ye.duration=te.duration),ye.children.push(te)}),ye.seek(0),ye.reset(),ye.autoplay&&ye.restart(),ye},ye},Tn.random=function(J,ye){return Math.floor(Math.random()*(ye-J+1))+J},Tn}(),function(O,W){"use strict";var K={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));T.el.M_Collapsible=T,T.options=O.extend({},S.defaults,_),T.$headers=T.$el.children("li").children(".collapsible-header"),T.$headers.attr("tabindex",0),T._setupEventHandlers();var U=T.$el.children("li.active").children(".collapsible-body");return T.options.accordion?U.first().css("display","block"):U.css("display","block"),T}return ke(S,P),H(S,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var _=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(T){T.addEventListener("keydown",_._handleCollapsibleKeydownBound)})}},{key:"_removeEventHandlers",value:function(){var _=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(T){T.removeEventListener("keydown",_._handleCollapsibleKeydownBound)})}},{key:"_handleCollapsibleClick",value:function(_){var T=O(_.target).closest(".collapsible-header");if(_.target&&T.length){var U=T.closest(".collapsible");if(U[0]===this.el){var X=T.closest("li"),ae=U.children("li"),G=X[0].classList.contains("active"),ee=ae.index(X);G?this.close(ee):this.open(ee)}}}},{key:"_handleCollapsibleKeydown",value:function(_){13===_.keyCode&&this._handleCollapsibleClickBound(_)}},{key:"_animateIn",value:function(_){var T=this,U=this.$el.children("li").eq(_);if(U.length){var X=U.children(".collapsible-body");W.remove(X[0]),X.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var ae=X.css("padding-top"),G=X.css("padding-bottom"),ee=X[0].scrollHeight;X.css({paddingTop:0,paddingBottom:0}),W({targets:X[0],height:ee,paddingTop:ae,paddingBottom:G,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(le){X.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof T.options.onOpenEnd&&T.options.onOpenEnd.call(T,U[0])}})}}},{key:"_animateOut",value:function(_){var T=this,U=this.$el.children("li").eq(_);if(U.length){var X=U.children(".collapsible-body");W.remove(X[0]),X.css("overflow","hidden"),W({targets:X[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){X.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof T.options.onCloseEnd&&T.options.onCloseEnd.call(T,U[0])}})}}},{key:"open",value:function(_){var T=this,U=this.$el.children("li").eq(_);if(U.length&&!U[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,U[0]),this.options.accordion){var X=this.$el.children("li");this.$el.children("li.active").each(function(G){var ee=X.index(O(G));T.close(ee)})}U[0].classList.add("active"),this._animateIn(_)}}},{key:"close",value:function(_){var T=this.$el.children("li").eq(_);T.length&&T[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,T[0]),T[0].classList.remove("active"),this._animateOut(_))}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_Collapsible}},{key:"defaults",get:function(){return K}}]),S}(De);M.Collapsible=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"collapsible","M_Collapsible")}(cash,M.anime),function(O,W){"use strict";var K={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));return T.el.M_Dropdown=T,S._dropdowns.push(T),T.id=M.getIdFromTrigger(b),T.dropdownEl=document.getElementById(T.id),T.$dropdownEl=O(T.dropdownEl),T.options=O.extend({},S.defaults,_),T.isOpen=!1,T.isScrollable=!1,T.isTouchMoving=!1,T.focusedIndex=-1,T.filterQuery=[],T.options.container?O(T.options.container).append(T.dropdownEl):T.$el.after(T.dropdownEl),T._makeDropdownFocusable(),T._resetFilterQueryBound=T._resetFilterQuery.bind(T),T._handleDocumentClickBound=T._handleDocumentClick.bind(T),T._handleDocumentTouchmoveBound=T._handleDocumentTouchmove.bind(T),T._handleDropdownClickBound=T._handleDropdownClick.bind(T),T._handleDropdownKeydownBound=T._handleDropdownKeydown.bind(T),T._handleTriggerKeydownBound=T._handleTriggerKeydown.bind(T),T._setupEventHandlers(),T}return ke(S,P),H(S,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),S._dropdowns.splice(S._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(_){_.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(_){var T=_.toElement||_.relatedTarget,U=!!O(T).closest(".dropdown-content").length,X=!1,ae=O(T).closest(".dropdown-trigger");ae.length&&!!ae[0].M_Dropdown&&ae[0].M_Dropdown.isOpen&&(X=!0),!X&&!U&&this.close()}},{key:"_handleDocumentClick",value:function(_){var T=this,U=O(_.target);(this.options.closeOnClick&&U.closest(".dropdown-content").length&&!this.isTouchMoving||U.closest(".dropdown-trigger").length||!U.closest(".dropdown-content").length)&&setTimeout(function(){T.close()},0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(_){(_.which===M.keys.ARROW_DOWN||_.which===M.keys.ENTER)&&!this.isOpen&&(_.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(_){O(_.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(_){if("function"==typeof this.options.onItemClick){var T=O(_.target).closest("li")[0];this.options.onItemClick.call(this,T)}}},{key:"_handleDropdownKeydown",value:function(_){if(_.which===M.keys.TAB)_.preventDefault(),this.close();else if(_.which!==M.keys.ARROW_DOWN&&_.which!==M.keys.ARROW_UP||!this.isOpen)if(_.which===M.keys.ENTER&&this.isOpen){var ae=this.dropdownEl.children[this.focusedIndex],G=O(ae).find("a, button").first();G.length?G[0].click():ae&&ae.click()}else _.which===M.keys.ESC&&this.isOpen&&(_.preventDefault(),this.close());else{_.preventDefault();var T=_.which===M.keys.ARROW_DOWN?1:-1,U=this.focusedIndex,X=!1;do{if(this.dropdownEl.children[U+=T]&&-1!==this.dropdownEl.children[U].tabIndex){X=!0;break}}while(U<this.dropdownEl.children.length&&U>=0);X&&(this.focusedIndex=U,this._focusFocusedItem())}var ee=String.fromCharCode(_.which).toLowerCase();if(ee&&-1===[9,13,27,38,40].indexOf(_.which)){this.filterQuery.push(ee);var ge=this.filterQuery.join(""),we=O(this.dropdownEl).find("li").filter(function(Ie){return 0===O(Ie).text().toLowerCase().indexOf(ge)})[0];we&&(this.focusedIndex=O(we).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,O(this.dropdownEl).children().each(function(_){_.getAttribute("tabindex")||_.setAttribute("tabindex",0)})}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var T=this.el.getBoundingClientRect(),U=this.dropdownEl.getBoundingClientRect(),X=U.height,ae=U.width,G=T.left-U.left,ee=T.top-U.top,we=M.checkPossibleAlignments(this.el,this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,{left:G,top:ee,height:X,width:ae},this.options.coverTrigger?0:T.height),Ie="top",He=this.options.alignment;if(ee+=this.options.coverTrigger?0:T.height,this.isScrollable=!1,we.top||(we.bottom?Ie="bottom":(this.isScrollable=!0,we.spaceOnTop>we.spaceOnBottom?(Ie="bottom",X+=we.spaceOnTop,ee-=we.spaceOnTop):X+=we.spaceOnBottom)),!we[He]){var rt="left"===He?"right":"left";we[rt]?He=rt:we.spaceOnLeft>we.spaceOnRight?(He="right",ae+=we.spaceOnLeft,G-=we.spaceOnLeft):(He="left",ae+=we.spaceOnRight)}return"bottom"===Ie&&(ee=ee-U.height+(this.options.coverTrigger?T.height:0)),"right"===He&&(G=G-U.width+T.width),{x:G,y:ee,verticalAlignment:Ie,horizontalAlignment:He,height:X,width:ae}}},{key:"_animateIn",value:function(){var _=this;W.remove(this.dropdownEl),W({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(T){_.options.autoFocus&&_.dropdownEl.focus(),"function"==typeof _.options.onOpenEnd&&_.options.onOpenEnd.call(_,_.el)}})}},{key:"_animateOut",value:function(){var _=this;W.remove(this.dropdownEl),W({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(T){_._resetDropdownStyles(),"function"==typeof _.options.onCloseEnd&&_.options.onCloseEnd.call(_,_.el)}})}},{key:"_placeDropdown",value:function(){var _=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=_+"px";var T=this._getDropdownPosition();this.dropdownEl.style.left=T.x+"px",this.dropdownEl.style.top=T.y+"px",this.dropdownEl.style.height=T.height+"px",this.dropdownEl.style.width=T.width+"px",this.dropdownEl.style.transformOrigin=("left"===T.horizontalAlignment?"0":"100%")+" "+("top"===T.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){!this.isOpen||(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_Dropdown}},{key:"defaults",get:function(){return K}}]),S}(De);j._dropdowns=[],M.Dropdown=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"dropdown","M_Dropdown")}(cash,M.anime),function(O,W){"use strict";var K={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));return T.el.M_Modal=T,T.options=O.extend({},S.defaults,_),T.isOpen=!1,T.id=T.$el.attr("id"),T._openingTrigger=void 0,T.$overlay=O('<div class="modal-overlay"></div>'),T.el.tabIndex=0,T._nthModalOpened=0,S._count++,T._setupEventHandlers(),T}return ke(S,P),H(S,[{key:"destroy",value:function(){S._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===S._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===S._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(_){var T=O(_.target).closest(".modal-trigger");if(T.length){var U=M.getIdFromTrigger(T[0]),X=document.getElementById(U).M_Modal;X&&X.open(T),_.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(_){O(_.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(_){27===_.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(_){!this.el.contains(_.target)&&this._nthModalOpened===S._modalsOpen&&this.el.focus()}},{key:"_animateIn",value:function(){var _=this;O.extend(this.el.style,{display:"block",opacity:0}),O.extend(this.$overlay[0].style,{display:"block",opacity:0}),W({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var T={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof _.options.onOpenEnd&&_.options.onOpenEnd.call(_,_.el,_._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(O.extend(T,{bottom:0,opacity:1}),W(T)):(O.extend(T,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),W(T))}},{key:"_animateOut",value:function(){var _=this;W({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var T={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){_.el.style.display="none",_.$overlay.remove(),"function"==typeof _.options.onCloseEnd&&_.options.onCloseEnd.call(_,_.el)}};this.el.classList.contains("bottom-sheet")?(O.extend(T,{bottom:"-100%",opacity:0}),W(T)):(O.extend(T,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),W(T))}},{key:"open",value:function(_){if(!this.isOpen)return this.isOpen=!0,S._modalsOpen++,this._nthModalOpened=S._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*S._modalsOpen,this.el.style.zIndex=1e3+2*S._modalsOpen+1,this._openingTrigger=_?_[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),W.remove(this.el),W.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,S._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===S._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),W.remove(this.el),W.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_Modal}},{key:"defaults",get:function(){return K}}]),S}(De);j._modalsOpen=0,j._count=0,M.Modal=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"modal","M_Modal")}(cash,M.anime),function(O,W){"use strict";var K={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));return T.el.M_Materialbox=T,T.options=O.extend({},S.defaults,_),T.overlayActive=!1,T.doneAnimating=!0,T.placeholder=O("<div></div>").addClass("material-placeholder"),T.originalWidth=0,T.originalHeight=0,T.originInlineStyles=T.$el.attr("style"),T.caption=T.el.getAttribute("data-caption")||"",T.$el.before(T.placeholder),T.placeholder.append(T.$el),T._setupEventHandlers(),T}return ke(S,P),H(S,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,O(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(_){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(_){27===_.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=O();for(var _=this.placeholder[0].parentNode;null!==_&&!O(_).is(document);){var T=O(_);"visible"!==T.css("overflow")&&(T.css("overflow","visible"),this.ancestorsChanged=void 0===this.ancestorsChanged?T:this.ancestorsChanged.add(T)),_=_.parentNode}}},{key:"_animateImageIn",value:function(){var _=this,T={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){_.doneAnimating=!0,"function"==typeof _.options.onOpenEnd&&_.options.onOpenEnd.call(_,_.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(T.maxWidth=this.newWidth),"none"!==this.maxHeight&&(T.maxHeight=this.newHeight),W(T)}},{key:"_animateImageOut",value:function(){var _=this;W({targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){_.placeholder.css({height:"",width:"",position:"",top:"",left:""}),_.attrWidth&&_.$el.attr("width",_.attrWidth),_.attrHeight&&_.$el.attr("height",_.attrHeight),_.$el.removeAttr("style"),_.originInlineStyles&&_.$el.attr("style",_.originInlineStyles),_.$el.removeClass("active"),_.doneAnimating=!0,_.ancestorsChanged.length&&_.ancestorsChanged.css("overflow",""),"function"==typeof _.options.onCloseEnd&&_.options.onCloseEnd.call(_,_.el)}})}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var _=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=O('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){_.doneAnimating&&_.close()}),this.$el.before(this.$overlay);var T=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*T.left+"px",top:-1*T.top+"px"}),W.remove(this.el),W.remove(this.$overlay[0]),W({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&W.remove(this.$photoCaption[0]),this.$photoCaption=O('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),O("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),W({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var U=0,X=this.originalWidth/this.windowWidth,ae=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,X>ae?(U=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*U):(this.newWidth=.9*this.windowHeight*(U=this.originalWidth/this.originalHeight),this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var _=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),W.remove(this.el),W.remove(this.$overlay[0]),""!==this.caption&&W.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),W({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){_.overlayActive=!1,_.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&W({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){_.$photoCaption.remove()}})}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_Materialbox}},{key:"defaults",get:function(){return K}}]),S}(De);M.Materialbox=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"materialbox","M_Materialbox")}(cash,M.anime),function(O){"use strict";var W={responsiveThreshold:0},K=function(j){function P(S,b){Re(this,P);var _=xe(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,P,S,b));return _.el.M_Parallax=_,_.options=O.extend({},P.defaults,b),_._enabled=window.innerWidth>_.options.responsiveThreshold,_.$img=_.$el.find("img").first(),_.$img.each(function(){this.complete&&O(this).trigger("load")}),_._updateParallax(),_._setupEventHandlers(),_._setupStyles(),P._parallaxes.push(_),_}return ke(P,j),H(P,[{key:"destroy",value:function(){P._parallaxes.splice(P._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===P._parallaxes.length&&(P._handleScrollThrottled=M.throttle(P._handleScroll,5),window.addEventListener("scroll",P._handleScrollThrottled),P._handleWindowResizeThrottled=M.throttle(P._handleWindowResize,5),window.addEventListener("resize",P._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===P._parallaxes.length&&(window.removeEventListener("scroll",P._handleScrollThrottled),window.removeEventListener("resize",P._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var b=this.$el.height()>0?this.el.parentNode.offsetHeight:500,T=this.$img[0].offsetHeight-b,U=this.$el.offset().top+b,X=this.$el.offset().top,ae=M.getDocumentScrollTop(),G=window.innerHeight;this._enabled?U>ae&&X<ae+G&&(this.$img[0].style.transform="translate3D(-50%, "+T*((ae+G-X)/(b+G))+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(b,_){return ne(P.__proto__||Object.getPrototypeOf(P),"init",this).call(this,this,b,_)}},{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_Parallax}},{key:"_handleScroll",value:function(){for(var b=0;b<P._parallaxes.length;b++){var _=P._parallaxes[b];_._updateParallax.call(_)}}},{key:"_handleWindowResize",value:function(){for(var b=0;b<P._parallaxes.length;b++){var _=P._parallaxes[b];_._enabled=window.innerWidth>_.options.responsiveThreshold}}},{key:"defaults",get:function(){return W}}]),P}(De);K._parallaxes=[],M.Parallax=K,M.jQueryLoaded&&M.initializeJqueryWrapper(K,"parallax","M_Parallax")}(cash),function(O,W){"use strict";var K={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));return T.el.M_Tabs=T,T.options=O.extend({},S.defaults,_),T.$tabLinks=T.$el.children("li.tab").children("a"),T.index=0,T._setupActiveTabLink(),T.options.swipeable?T._setupSwipeableTabs():T._setupNormalTabs(),T._setTabsAndTabWidth(),T._createIndicator(),T._setupEventHandlers(),T}return ke(S,P),H(S,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(_){var T=this,U=O(_.target).closest("li.tab"),X=O(_.target).closest("a");if(X.length&&X.parent().hasClass("tab")){if(U.hasClass("disabled"))return void _.preventDefault();if(!X.attr("target")){this.$activeTabLink.removeClass("active");var ae=this.$content;this.$activeTabLink=X,this.$content=O(M.escapeHash(X[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var G=this.index;this.index=Math.max(this.$tabLinks.index(X),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){"function"==typeof T.options.onShow&&T.options.onShow.call(T,T.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),ae.length&&!ae.is(this.$content)&&(ae[0].style.display="none",ae.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(G),_.preventDefault()}}}},{key:"_createIndicator",value:function(){var _=this,T=document.createElement("li");T.classList.add("indicator"),this.el.appendChild(T),this._indicator=T,setTimeout(function(){_._indicator.style.left=_._calcLeftPos(_.$activeTabLink)+"px",_._indicator.style.right=_._calcRightPos(_.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=O(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=O(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var _=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var T=O();this.$tabLinks.each(function(ae){var G=O(M.escapeHash(ae.hash));G.addClass("carousel-item"),T=T.add(G)});var U=O('<div class="tabs-content carousel carousel-slider"></div>');T.first().before(U),U.append(T),T[0].style.display="";var X=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(U[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(ae){var G=_.index;_.index=O(ae).index(),_.$activeTabLink.removeClass("active"),_.$activeTabLink=_.$tabLinks.eq(_.index),_.$activeTabLink.addClass("active"),_._animateIndicator(G),"function"==typeof _.options.onShow&&_.options.onShow.call(_,_.$content[0])}}),this._tabsCarousel.set(X)}},{key:"_teardownSwipeableTabs",value:function(){var _=this._tabsCarousel.$el;this._tabsCarousel.destroy(),_.after(_.children()),_.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(_){if(_.hash){var T=O(M.escapeHash(_.hash));T.length&&(T[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(_){if(_.hash){var T=O(M.escapeHash(_.hash));T.length&&(T[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(_){return Math.ceil(this.tabsWidth-_.position().left-_[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(_){return Math.floor(_.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(_){var T=0,U=0;this.index-_>=0?T=90:U=90;var X={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:T},right:{value:this._calcRightPos(this.$activeTabLink),delay:U},duration:this.options.duration,easing:"easeOutQuad"};W.remove(this._indicator),W(X)}},{key:"select",value:function(_){var T=this.$tabLinks.filter('[href="#'+_+'"]');T.length&&T.trigger("click")}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_Tabs}},{key:"defaults",get:function(){return K}}]),S}(De);M.Tabs=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"tabs","M_Tabs")}(cash,M.anime),function(O,W){"use strict";var K={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));return T.el.M_Tooltip=T,T.options=O.extend({},S.defaults,_),T.isOpen=!1,T.isHovered=!1,T.isFocused=!1,T._appendTooltipEl(),T._setupEventHandlers(),T}return ke(S,P),H(S,[{key:"destroy",value:function(){O(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var _=document.createElement("div");_.classList.add("material-tooltip"),this.tooltipEl=_;var T=document.createElement("div");T.classList.add("tooltip-content"),T.innerHTML=this.options.html,_.appendChild(T),document.body.appendChild(_)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(_){this.isOpen||(_=void 0===_||void 0,this.isOpen=!0,this.options=O.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(_))}},{key:"close",value:function(){!this.isOpen||(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var _=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){_.isHovered||_.isFocused||_._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(_){var T=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){!T.isHovered&&!T.isFocused&&!_||T._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var ee,_=this.el,T=this.tooltipEl,U=_.offsetHeight,X=_.offsetWidth,ae=T.offsetHeight,G=T.offsetWidth,le=this.options.margin,ge=void 0,we=void 0;this.xMovement=0,this.yMovement=0,ge=_.getBoundingClientRect().top+M.getDocumentScrollTop(),we=_.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(ge+=-ae-le,we+=X/2-G/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(ge+=U/2-ae/2,we+=X+le,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(ge+=U/2-ae/2,we+=-G-le,this.xMovement=-this.options.transitionMovement):(ge+=U+le,we+=X/2-G/2,this.yMovement=this.options.transitionMovement),ee=this._repositionWithinScreen(we,ge,G,ae),O(T).css({top:ee.y+"px",left:ee.x+"px"})}},{key:"_repositionWithinScreen",value:function(_,T,U,X){var ae=M.getDocumentScrollLeft(),G=M.getDocumentScrollTop(),ee=_-ae,le=T-G,we=this.options.margin+this.options.transitionMovement,Ie=M.checkWithinContainer(document.body,{left:ee,top:le,width:U,height:X},we);return Ie.left?ee=we:Ie.right&&(ee-=ee+U-window.innerWidth),Ie.top?le=we:Ie.bottom&&(le-=le+X-window.innerHeight),{x:ee+ae,y:le+G}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",W.remove(this.tooltipEl),W({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){W.remove(this.tooltipEl),W({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var _={},T=this.el.getAttribute("data-tooltip"),U=this.el.getAttribute("data-position");return T&&(_.html=T),U&&(_.position=U),_}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_Tooltip}},{key:"defaults",get:function(){return K}}]),S}(De);M.Tooltip=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"tooltip","M_Tooltip")}(cash,M.anime),function(O){"use strict";var W=W||{},K=document.querySelectorAll.bind(document);function b(ae){var G="";for(var ee in ae)ae.hasOwnProperty(ee)&&(G+=ee+":"+ae[ee]+";");return G}var _={duration:750,show:function(ae,G){if(2===ae.button)return!1;var ee=G||this,le=document.createElement("div");le.className="waves-ripple",ee.appendChild(le);var ge=function(ae){var G,ee,le={top:0,left:0},ge=ae&&ae.ownerDocument;return G=ge.documentElement,void 0!==ae.getBoundingClientRect&&(le=ae.getBoundingClientRect()),ee=function(ae){return function(ae){return null!==ae&&ae===ae.window}(ae)?ae:9===ae.nodeType&&ae.defaultView}(ge),{top:le.top+ee.pageYOffset-G.clientTop,left:le.left+ee.pageXOffset-G.clientLeft}}(ee),we=ae.pageY-ge.top,Ie=ae.pageX-ge.left,He="scale("+ee.clientWidth/100*10+")";"touches"in ae&&(we=ae.touches[0].pageY-ge.top,Ie=ae.touches[0].pageX-ge.left),le.setAttribute("data-hold",Date.now()),le.setAttribute("data-scale",He),le.setAttribute("data-x",Ie),le.setAttribute("data-y",we);var rt={top:we+"px",left:Ie+"px"};le.className=le.className+" waves-notransition",le.setAttribute("style",b(rt)),le.className=le.className.replace("waves-notransition",""),rt["-webkit-transform"]=He,rt["-moz-transform"]=He,rt["-ms-transform"]=He,rt["-o-transform"]=He,rt.transform=He,rt.opacity="1",rt["-webkit-transition-duration"]=_.duration+"ms",rt["-moz-transition-duration"]=_.duration+"ms",rt["-o-transition-duration"]=_.duration+"ms",rt["transition-duration"]=_.duration+"ms",rt["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",rt["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",rt["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",rt["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",le.setAttribute("style",b(rt))},hide:function(ae){T.touchup(ae);var G=this,le=null,ge=G.getElementsByClassName("waves-ripple");if(!(ge.length>0))return!1;var we=(le=ge[ge.length-1]).getAttribute("data-x"),Ie=le.getAttribute("data-y"),He=le.getAttribute("data-scale"),St=350-(Date.now()-Number(le.getAttribute("data-hold")));St<0&&(St=0),setTimeout(function(){le.setAttribute("style",b({top:Ie+"px",left:we+"px",opacity:"0","-webkit-transition-duration":_.duration+"ms","-moz-transition-duration":_.duration+"ms","-o-transition-duration":_.duration+"ms","transition-duration":_.duration+"ms","-webkit-transform":He,"-moz-transform":He,"-ms-transform":He,"-o-transform":He,transform:He})),setTimeout(function(){try{G.removeChild(le)}catch(Ct){return!1}},_.duration)},St)},wrapInput:function(ae){for(var G=0;G<ae.length;G++){var ee=ae[G];if("input"===ee.tagName.toLowerCase()){var le=ee.parentNode;if("i"===le.tagName.toLowerCase()&&-1!==le.className.indexOf("waves-effect"))continue;var ge=document.createElement("i");ge.className=ee.className+" waves-input-wrapper";var we=ee.getAttribute("style");we||(we=""),ge.setAttribute("style",we),ee.className="waves-button-input",ee.removeAttribute("style"),le.replaceChild(ge,ee),ge.appendChild(ee)}}}},T={touches:0,allowEvent:function(ae){var G=!0;return"touchstart"===ae.type?T.touches+=1:"touchend"===ae.type||"touchcancel"===ae.type?setTimeout(function(){T.touches>0&&(T.touches-=1)},500):"mousedown"===ae.type&&T.touches>0&&(G=!1),G},touchup:function(ae){T.allowEvent(ae)}};function X(ae){var G=function(ae){if(!1===T.allowEvent(ae))return null;for(var G=null,ee=ae.target||ae.srcElement;null!==ee.parentNode;){if(!(ee instanceof SVGElement)&&-1!==ee.className.indexOf("waves-effect")){G=ee;break}ee=ee.parentNode}return G}(ae);null!==G&&(_.show(ae,G),"ontouchstart"in O&&(G.addEventListener("touchend",_.hide,!1),G.addEventListener("touchcancel",_.hide,!1)),G.addEventListener("mouseup",_.hide,!1),G.addEventListener("mouseleave",_.hide,!1),G.addEventListener("dragend",_.hide,!1))}W.displayEffect=function(ae){"duration"in(ae=ae||{})&&(_.duration=ae.duration),_.wrapInput(K(".waves-effect")),"ontouchstart"in O&&document.body.addEventListener("touchstart",X,!1),document.body.addEventListener("mousedown",X,!1)},W.attach=function(ae){"input"===ae.tagName.toLowerCase()&&(_.wrapInput([ae]),ae=ae.parentNode),"ontouchstart"in O&&ae.addEventListener("touchstart",X,!1),ae.addEventListener("mousedown",X,!1)},O.Waves=W,document.addEventListener("DOMContentLoaded",function(){W.displayEffect()},!1)}(window),function(O,W){"use strict";var K={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},j=function(){function P(S){Re(this,P),this.options=O.extend({},P.defaults,S),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===P._toasts.length&&P._createContainer(),P._toasts.push(this);var b=this._createToast();b.M_Toast=this,this.el=b,this.$el=O(b),this._animateIn(),this._setTimer()}return H(P,[{key:"_createToast",value:function(){var b=document.createElement("div");return b.classList.add("toast"),this.options.classes.length&&O(b).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?b.appendChild(this.message):this.message.jquery?O(b).append(this.message[0]):b.innerHTML=this.message,P._container.appendChild(b),b}},{key:"_animateIn",value:function(){W({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var b=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){b.panning||(b.timeRemaining-=20),b.timeRemaining<=0&&b.dismiss()},20))}},{key:"dismiss",value:function(){var b=this;window.clearInterval(this.counterInterval);var _=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+_+"px)",this.el.style.opacity=0),W({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof b.options.completeCallback&&b.options.completeCallback(),b.$el.remove(),P._toasts.splice(P._toasts.indexOf(b),1),0===P._toasts.length&&P._removeContainer()}})}}],[{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_Toast}},{key:"_createContainer",value:function(){var b=document.createElement("div");b.setAttribute("id","toast-container"),b.addEventListener("touchstart",P._onDragStart),b.addEventListener("touchmove",P._onDragMove),b.addEventListener("touchend",P._onDragEnd),b.addEventListener("mousedown",P._onDragStart),document.addEventListener("mousemove",P._onDragMove),document.addEventListener("mouseup",P._onDragEnd),document.body.appendChild(b),P._container=b}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",P._onDragMove),document.removeEventListener("mouseup",P._onDragEnd),O(P._container).remove(),P._container=null}},{key:"_onDragStart",value:function(b){if(b.target&&O(b.target).closest(".toast").length){var T=O(b.target).closest(".toast")[0].M_Toast;T.panning=!0,P._draggedToast=T,T.el.classList.add("panning"),T.el.style.transition="",T.startingXPos=P._xPos(b),T.time=Date.now(),T.xPos=P._xPos(b)}}},{key:"_onDragMove",value:function(b){if(P._draggedToast){b.preventDefault();var _=P._draggedToast;_.deltaX=Math.abs(_.xPos-P._xPos(b)),_.xPos=P._xPos(b),_.velocityX=_.deltaX/(Date.now()-_.time),_.time=Date.now();var T=_.xPos-_.startingXPos,U=_.el.offsetWidth*_.options.activationPercent;_.el.style.transform="translateX("+T+"px)",_.el.style.opacity=1-Math.abs(T/U)}}},{key:"_onDragEnd",value:function(){if(P._draggedToast){var b=P._draggedToast;b.panning=!1,b.el.classList.remove("panning");var T=b.el.offsetWidth*b.options.activationPercent;Math.abs(b.xPos-b.startingXPos)>T||b.velocityX>1?(b.wasSwiped=!0,b.dismiss()):(b.el.style.transition="transform .2s, opacity .2s",b.el.style.transform="",b.el.style.opacity=""),P._draggedToast=null}}},{key:"_xPos",value:function(b){return b.targetTouches&&b.targetTouches.length>=1?b.targetTouches[0].clientX:b.clientX}},{key:"dismissAll",value:function(){for(var b in P._toasts)P._toasts[b].dismiss()}},{key:"defaults",get:function(){return K}}]),P}();j._toasts=[],j._container=null,j._draggedToast=null,M.Toast=j,M.toast=function(P){return new j(P)}}(cash,M.anime),function(O,W){"use strict";var K={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));return T.el.M_Sidenav=T,T.id=T.$el.attr("id"),T.options=O.extend({},S.defaults,_),T.isOpen=!1,T.isFixed=T.el.classList.contains("sidenav-fixed"),T.isDragged=!1,T.lastWindowWidth=window.innerWidth,T.lastWindowHeight=window.innerHeight,T._createOverlay(),T._createDragTarget(),T._setupEventHandlers(),T._setupClasses(),T._setupFixed(),S._sidenavs.push(T),T}return ke(S,P),H(S,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var _=S._sidenavs.indexOf(this);_>=0&&S._sidenavs.splice(_,1)}},{key:"_createOverlay",value:function(){var _=document.createElement("div");this._closeBound=this.close.bind(this),_.classList.add("sidenav-overlay"),_.addEventListener("click",this._closeBound),document.body.appendChild(_),this._overlay=_}},{key:"_setupEventHandlers",value:function(){0===S._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===S._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(_){var T=O(_.target).closest(".sidenav-trigger");if(_.target&&T.length){var U=M.getIdFromTrigger(T[0]),X=document.getElementById(U).M_Sidenav;X&&X.open(T),_.preventDefault()}}},{key:"_startDrag",value:function(_){var T=_.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=T,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,W.remove(this.el),W.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(_){var T=_.targetTouches[0].clientX,U=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-T),this._xPos=T,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==U&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(_){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(_),this._dragMoveUpdate(_);var T=this._xPos-this._startingXpos,U=T>0?"right":"left";T=Math.min(this._width,Math.abs(T)),this.options.edge===U&&(T=0);var X=T,ae="translateX(-100%)";"right"===this.options.edge&&(ae="translateX(100%)",X=-X),this.percentOpen=Math.min(1,T/this._width),this.el.style.transform=ae+" translateX("+X+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(_){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(_),this._dragMoveUpdate(_);var T=this._xPos-this._startingXpos,U=T>0?"right":"left";T=Math.min(this._width,Math.abs(T)),this.options.edge!==U&&(T=0);var X=-T;"right"===this.options.edge&&(X=-X),this.percentOpen=Math.min(1,1-T/this._width),this.el.style.transform="translateX("+X+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(_){O(_.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var _=document.createElement("div");_.classList.add("drag-target"),document.body.appendChild(_),this.dragTarget=_}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(W.remove(this.el),W({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),(!this.isDragged||1!=this.percentOpen)&&this._animateIn()))}},{key:"close",value:function(){!1!==this.isOpen&&(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()?this.el.style.transform="translateX("+("left"===this.options.edge?"-105%":"105%")+")":(this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()))}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var _=this,T="left"===this.options.edge?-1:1;this.isDragged&&(T="left"===this.options.edge?T+this.percentOpen:T-this.percentOpen),W.remove(this.el),W({targets:this.el,translateX:[100*T+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof _.options.onOpenEnd&&_.options.onOpenEnd.call(_,_.el)}})}},{key:"_animateOverlayIn",value:function(){var _=0;this.isDragged?_=this.percentOpen:O(this._overlay).css({display:"block"}),W.remove(this._overlay),W({targets:this._overlay,opacity:[_,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var _=this,T="left"===this.options.edge?-1:1,U=0;this.isDragged&&(U="left"===this.options.edge?T+this.percentOpen:T-this.percentOpen),W.remove(this.el),W({targets:this.el,translateX:[100*U+"%",105*T+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof _.options.onCloseEnd&&_.options.onCloseEnd.call(_,_.el)}})}},{key:"_animateOverlayOut",value:function(){var _=this;W.remove(this._overlay),W({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){O(_._overlay).css("display","none")}})}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_Sidenav}},{key:"defaults",get:function(){return K}}]),S}(De);j._sidenavs=[],M.Sidenav=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"sidenav","M_Sidenav")}(cash,M.anime),function(O,W){"use strict";var K={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(P){return'a[href="#'+P+'"]'}},j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));return T.el.M_ScrollSpy=T,T.options=O.extend({},S.defaults,_),S._elements.push(T),S._count++,S._increment++,T.tickId=-1,T.id=S._increment,T._setupEventHandlers(),T._handleWindowScroll(),T}return ke(S,P),H(S,[{key:"destroy",value:function(){S._elements.splice(S._elements.indexOf(this),1),S._elementsInView.splice(S._elementsInView.indexOf(this),1),S._visibleElements.splice(S._visibleElements.indexOf(this.$el),1),S._count--,this._removeEventHandlers(),O(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var _=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=_.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===S._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===S._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(_){for(var T=O(_.target),U=S._elements.length-1;U>=0;U--){var X=S._elements[U];if(T.is('a[href="#'+X.$el.attr("id")+'"]')){_.preventDefault();var ae=X.$el.offset().top+1;W({targets:[document.documentElement,document.body],scrollTop:ae-X.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){S._ticks++;for(var _=M.getDocumentScrollTop(),T=M.getDocumentScrollLeft(),U=T+window.innerWidth,X=_+window.innerHeight,ae=S._findElements(_,U,X,T),G=0;G<ae.length;G++){var ee=ae[G];ee.tickId<0&&ee._enter(),ee.tickId=S._ticks}for(var ge=0;ge<S._elementsInView.length;ge++){var we=S._elementsInView[ge],Ie=we.tickId;Ie>=0&&Ie!==S._ticks&&(we._exit(),we.tickId=-1)}S._elementsInView=ae}},{key:"_enter",value:function(){(S._visibleElements=S._visibleElements.filter(function(_){return 0!=_.height()}))[0]?(O(this.options.getActiveElement(S._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),S._visibleElements[0][0].M_ScrollSpy&&this.id<S._visibleElements[0][0].M_ScrollSpy.id?S._visibleElements.unshift(this.$el):S._visibleElements.push(this.$el)):S._visibleElements.push(this.$el),O(this.options.getActiveElement(S._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var _=this;(S._visibleElements=S._visibleElements.filter(function(T){return 0!=T.height()}))[0]&&(O(this.options.getActiveElement(S._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),(S._visibleElements=S._visibleElements.filter(function(T){return T.attr("id")!=_.$el.attr("id")}))[0]&&O(this.options.getActiveElement(S._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_ScrollSpy}},{key:"_findElements",value:function(_,T,U,X){for(var ae=[],G=0;G<S._elements.length;G++){var ee=S._elements[G],le=_+ee.options.scrollOffset||200;if(ee.$el.height()>0){var ge=ee.$el.offset().top,we=ee.$el.offset().left,Ie=we+ee.$el.width(),He=ge+ee.$el.height();!(we>T||Ie<X||ge>U||He<le)&&ae.push(ee)}}return ae}},{key:"defaults",get:function(){return K}}]),S}(De);j._elements=[],j._elementsInView=[],j._visibleElements=[],j._count=0,j._increment=0,j._ticks=0,M.ScrollSpy=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(O){"use strict";var W={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(j,P,S){return j.indexOf(S)-P.indexOf(S)}},K=function(j){function P(S,b){Re(this,P);var _=xe(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,P,S,b));return _.el.M_Autocomplete=_,_.options=O.extend({},P.defaults,b),_.isOpen=!1,_.count=0,_.activeIndex=-1,_.$inputField=_.$el.closest(".input-field"),_.$active=O(),_._mousedown=!1,_._setupDropdown(),_._setupEventHandlers(),_}return ke(P,j),H(P,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var b=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),O(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(_){b.selectOption(O(_))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(b){"keyup"===b.type&&(P._keydown=!1),this.count=0;var _=this.el.value.toLowerCase();13===b.keyCode||38===b.keyCode||40===b.keyCode||(this.oldVal!==_&&(M.tabPressed||"focus"!==b.type)&&this.open(),this.oldVal=_)}},{key:"_handleInputKeydown",value:function(b){P._keydown=!0;var _=b.keyCode,T=void 0,U=O(this.container).children("li").length;_===M.keys.ENTER&&this.activeIndex>=0?(T=O(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(T),b.preventDefault()):(_===M.keys.ARROW_UP||_===M.keys.ARROW_DOWN)&&(b.preventDefault(),_===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,_===M.keys.ARROW_DOWN&&this.activeIndex<U-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=O(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(b){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(b){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(b){this._mousedown=!1}},{key:"_highlight",value:function(b,_){var T=_.find("img"),U=_.text().toLowerCase().indexOf(""+b.toLowerCase()),X=U+b.length-1,ae=_.text().slice(0,U),G=_.text().slice(U,X+1),ee=_.text().slice(X+1);_.html("<span>"+ae+"<span class='highlight'>"+G+"</span>"+ee+"</span>"),T.length&&_.prepend(T)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){O(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(b){var _=b.text().trim();this.el.value=_,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,_)}},{key:"_renderDropdown",value:function(b,_){var T=this;this._resetAutocomplete();var U=[];for(var X in b)if(b.hasOwnProperty(X)&&-1!==X.toLowerCase().indexOf(_)){if(this.count>=this.options.limit)break;U.push({data:b[X],key:X}),this.count++}this.options.sortFunction&&U.sort(function(we,Ie){return T.options.sortFunction(we.key.toLowerCase(),Ie.key.toLowerCase(),_.toLowerCase())});for(var ee=0;ee<U.length;ee++){var le=U[ee],ge=O("<li></li>");ge.append(le.data?'<img src="'+le.data+'" class="right circle"><span>'+le.key+"</span>":"<span>"+le.key+"</span>"),O(this.container).append(ge),this._highlight(_,ge)}}},{key:"open",value:function(){var b=this.el.value.toLowerCase();this._resetAutocomplete(),b.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,b)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(b){var _=this.el.value.toLowerCase();this.options.data=b,this.isOpen&&this._renderDropdown(b,_)}}],[{key:"init",value:function(b,_){return ne(P.__proto__||Object.getPrototypeOf(P),"init",this).call(this,this,b,_)}},{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_Autocomplete}},{key:"defaults",get:function(){return W}}]),P}(De);K._keydown=!1,M.Autocomplete=K,M.jQueryLoaded&&M.initializeJqueryWrapper(K,"autocomplete","M_Autocomplete")}(cash),function(O){M.updateTextFields=function(){O("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each(function(K,j){var P=O(this);K.value.length>0||O(K).is(":focus")||K.autofocus||null!==P.attr("placeholder")?P.siblings("label").addClass("active"):K.validity?P.siblings("label").toggleClass("active",!0===K.validity.badInput):P.siblings("label").removeClass("active")})},M.validate_field=function(W){var K=null!==W.attr("data-length"),j=parseInt(W.attr("data-length")),P=W[0].value.length;0!==P||!1!==W[0].validity.badInput||W.is(":required")?W.hasClass("validate")&&(W.is(":valid")&&K&&P<=j||W.is(":valid")&&!K?(W.removeClass("invalid"),W.addClass("valid")):(W.removeClass("valid"),W.addClass("invalid"))):W.hasClass("validate")&&(W.removeClass("valid"),W.removeClass("invalid"))},M.textareaAutoResize=function(W){if(W instanceof Element&&(W=O(W)),W.length){var K=O(".hiddendiv").first();K.length||(K=O('<div class="hiddendiv common"></div>'),O("body").append(K));var j=W.css("font-family"),P=W.css("font-size"),S=W.css("line-height"),b=W.css("padding-top"),_=W.css("padding-right"),T=W.css("padding-bottom"),U=W.css("padding-left");P&&K.css("font-size",P),j&&K.css("font-family",j),S&&K.css("line-height",S),b&&K.css("padding-top",b),_&&K.css("padding-right",_),T&&K.css("padding-bottom",T),U&&K.css("padding-left",U),W.data("original-height")||W.data("original-height",W.height()),"off"===W.attr("wrap")&&K.css("overflow-wrap","normal").css("white-space","pre"),K.text(W[0].value+"\n");var X=K.html().replace(/\n/g,"<br>");K.html(X),K.css("width",W[0].offsetWidth>0&&W[0].offsetHeight>0?W.width()+"px":window.innerWidth/2+"px"),W.data("original-height")<=K.innerHeight()?W.css("height",K.innerHeight()+"px"):W[0].value.length<W.data("previous-length")&&W.css("height",W.data("original-height")+"px"),W.data("previous-length",W[0].value.length)}else console.error("No textarea element found")},O(document).ready(function(){var W="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";O(document).on("change",W,function(){(0!==this.value.length||null!==O(this).attr("placeholder"))&&O(this).siblings("label").addClass("active"),M.validate_field(O(this))}),O(document).ready(function(){M.updateTextFields()}),O(document).on("reset",function(P){var S=O(P.target);S.is("form")&&(S.find(W).removeClass("valid").removeClass("invalid"),S.find(W).each(function(b){this.value.length&&O(this).siblings("label").removeClass("active")}),setTimeout(function(){S.find("select").each(function(){this.M_FormSelect&&O(this).trigger("change")})},0))}),document.addEventListener("focus",function(P){O(P.target).is(W)&&O(P.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(P){var S=O(P.target);if(S.is(W)){var b=".prefix";0===S[0].value.length&&!0!==S[0].validity.badInput&&null===S.attr("placeholder")&&(b+=", label"),S.siblings(b).removeClass("active"),M.validate_field(S)}},!0),O(document).on("keyup","input[type=radio], input[type=checkbox]",function(P){if(P.which===M.keys.TAB)return O(this).addClass("tabbed"),void O(this).one("blur",function(b){O(this).removeClass("tabbed")})});var j=".materialize-textarea";O(j).each(function(){var P=O(this);P.data("original-height",P.height()),P.data("previous-length",this.value.length),M.textareaAutoResize(P)}),O(document).on("keyup",j,function(){M.textareaAutoResize(O(this))}),O(document).on("keydown",j,function(){M.textareaAutoResize(O(this))}),O(document).on("change",'.file-field input[type="file"]',function(){for(var S=O(this).closest(".file-field").find("input.file-path"),b=O(this)[0].files,_=[],T=0;T<b.length;T++)_.push(b[T].name);S[0].value=_.join(", "),S.trigger("change")})})}(cash),function(O,W){"use strict";var K={indicators:!0,height:400,duration:500,interval:6e3},j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));return T.el.M_Slider=T,T.options=O.extend({},S.defaults,_),T.$slider=T.$el.find(".slides"),T.$slides=T.$slider.children("li"),T.activeIndex=T.$slides.filter(function(U){return O(U).hasClass("active")}).first().index(),-1!=T.activeIndex&&(T.$active=T.$slides.eq(T.activeIndex)),T._setSliderHeight(),T.$slides.find(".caption").each(function(U){T._animateCaptionIn(U,0)}),T.$slides.find("img").each(function(U){var X="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";O(U).attr("src")!==X&&(O(U).css("background-image",'url("'+O(U).attr("src")+'")'),O(U).attr("src",X))}),T._setupIndicators(),T.$active?T.$active.css("display","block"):(T.$slides.first().addClass("active"),W({targets:T.$slides.first()[0],opacity:1,duration:T.options.duration,easing:"easeOutQuad"}),T.activeIndex=0,T.$active=T.$slides.eq(T.activeIndex),T.options.indicators&&T.$indicators.eq(T.activeIndex).addClass("active")),T.$active.find("img").each(function(U){W({targets:T.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:T.options.duration,easing:"easeOutQuad"})}),T._setupEventHandlers(),T.start(),T}return ke(S,P),H(S,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var _=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(T){T.addEventListener("click",_._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var _=this;this.options.indicators&&this.$indicators.each(function(T){T.removeEventListener("click",_._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(_){var T=O(_.target).index();this.set(T)}},{key:"_handleInterval",value:function(){var _=this.$slider.find(".active").index();this.$slides.length===_+1?_=0:_+=1,this.set(_)}},{key:"_animateCaptionIn",value:function(_,T){var U={targets:_,opacity:0,duration:T,easing:"easeOutQuad"};O(_).hasClass("center-align")?U.translateY=-100:O(_).hasClass("right-align")?U.translateX=100:O(_).hasClass("left-align")&&(U.translateX=-100),W(U)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.$el.css("height",this.options.indicators?this.options.height+40+"px":this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var _=this;this.options.indicators&&(this.$indicators=O('<ul class="indicators"></ul>'),this.$slides.each(function(T,U){var X=O('<li class="indicator-item"></li>');_.$indicators.append(X[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(_){var T=this;if(_>=this.$slides.length?_=0:_<0&&(_=this.$slides.length-1),this.activeIndex!=_){this.$active=this.$slides.eq(this.activeIndex);var U=this.$active.find(".caption");this.$active.removeClass("active"),W({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){T.$slides.not(".active").each(function(X){W({targets:X,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(U[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(_).addClass("active")),W({targets:this.$slides.eq(_)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),W({targets:this.$slides.eq(_).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(_).addClass("active"),this.activeIndex=_,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var _=this.activeIndex+1;_>=this.$slides.length?_=0:_<0&&(_=this.$slides.length-1),this.set(_)}},{key:"prev",value:function(){var _=this.activeIndex-1;_>=this.$slides.length?_=0:_<0&&(_=this.$slides.length-1),this.set(_)}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_Slider}},{key:"defaults",get:function(){return K}}]),S}(De);M.Slider=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"slider","M_Slider")}(cash,M.anime),function(O,W){O(document).on("click",".card",function(K){if(O(this).children(".card-reveal").length){var j=O(K.target).closest(".card");void 0===j.data("initialOverflow")&&j.data("initialOverflow",void 0===j.css("overflow")?"":j.css("overflow"));var P=O(this).find(".card-reveal");O(K.target).is(O(".card-reveal .card-title"))||O(K.target).is(O(".card-reveal .card-title i"))?W({targets:P[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(S){O(S.animatables[0].target).css({display:"none"}),j.css("overflow",j.data("initialOverflow"))}}):(O(K.target).is(O(".card .activator"))||O(K.target).is(O(".card .activator i")))&&(j.css("overflow","hidden"),P.css({display:"block"}),W({targets:P[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})}(cash,M.anime),function(O){"use strict";var W={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},K=function(j){function P(S,b){Re(this,P);var _=xe(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,P,S,b));return _.el.M_Chips=_,_.options=O.extend({},P.defaults,b),_.$el.addClass("chips input-field"),_.chipsData=[],_.$chips=O(),_._setupInput(),_.hasAutocomplete=Object.keys(_.options.autocompleteOptions).length>0,_.$input.attr("id")||_.$input.attr("id",M.guid()),_.options.data.length&&(_.chipsData=_.options.data,_._renderChips(_.chipsData)),_.hasAutocomplete&&_._setupAutocomplete(),_._setPlaceholder(),_._setupLabel(),_._setupEventHandlers(),_}return ke(P,j),H(P,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",P._handleChipsKeydown),document.addEventListener("keyup",P._handleChipsKeyup),this.el.addEventListener("blur",P._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",P._handleChipsKeydown),document.removeEventListener("keyup",P._handleChipsKeyup),this.el.removeEventListener("blur",P._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(b){var _=O(b.target).closest(".chip"),T=O(b.target).is(".close");if(_.length){var U=_.index();T?(this.deleteChip(U),this.$input[0].focus()):this.selectChip(U)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(b){if(P._keydown=!0,13===b.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;b.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else(8===b.keyCode||37===b.keyCode)&&""===this.$input[0].value&&this.chipsData.length&&(b.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(b){if(b.tag){var _=document.createElement("div"),T=document.createElement("i");if(_.classList.add("chip"),_.textContent=b.tag,_.setAttribute("tabindex",0),O(T).addClass("material-icons close"),T.textContent="close",b.image){var U=document.createElement("img");U.setAttribute("src",b.image),_.insertBefore(U,_.firstChild)}return _.appendChild(T),_}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var b=0;b<this.chipsData.length;b++){var _=this._renderChip(this.chipsData[b]);this.$el.append(_),this.$chips.add(_)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var b=this;this.options.autocompleteOptions.onAutocomplete=function(_){b.addChip({tag:_}),b.$input[0].value="",b.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=O("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?O(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&O(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(b){if(b.hasOwnProperty("tag")&&""!==b.tag){for(var _=!1,T=0;T<this.chipsData.length;T++)if(this.chipsData[T].tag===b.tag){_=!0;break}return!_}return!1}},{key:"addChip",value:function(b){if(this._isValid(b)&&!(this.chipsData.length>=this.options.limit)){var _=this._renderChip(b);this.$chips.add(_),this.chipsData.push(b),O(this.$input).before(_),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,_)}}},{key:"deleteChip",value:function(b){var _=this.$chips.eq(b);this.$chips.eq(b).remove(),this.$chips=this.$chips.filter(function(T){return O(T).index()>=0}),this.chipsData.splice(b,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,_[0])}},{key:"selectChip",value:function(b){var _=this.$chips.eq(b);this._selectedChip=_,_[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,_[0])}}],[{key:"init",value:function(b,_){return ne(P.__proto__||Object.getPrototypeOf(P),"init",this).call(this,this,b,_)}},{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_Chips}},{key:"_handleChipsKeydown",value:function(b){P._keydown=!0;var _=O(b.target).closest(".chips"),T=b.target&&_.length;if(!O(b.target).is("input, textarea")&&T){var U=_[0].M_Chips;if(8===b.keyCode||46===b.keyCode){b.preventDefault();var X=U.chipsData.length;if(U._selectedChip){var ae=U._selectedChip.index();U.deleteChip(ae),U._selectedChip=null,X=Math.max(ae-1,0)}U.chipsData.length&&U.selectChip(X)}else if(37===b.keyCode){if(U._selectedChip){var G=U._selectedChip.index()-1;if(G<0)return;U.selectChip(G)}}else if(39===b.keyCode&&U._selectedChip){var ee=U._selectedChip.index()+1;ee>=U.chipsData.length?U.$input[0].focus():U.selectChip(ee)}}}},{key:"_handleChipsKeyup",value:function(b){P._keydown=!1}},{key:"_handleChipsBlur",value:function(b){P._keydown||(O(b.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return W}}]),P}(De);K._keydown=!1,M.Chips=K,M.jQueryLoaded&&M.initializeJqueryWrapper(K,"chips","M_Chips"),O(document).ready(function(){O(document.body).on("click",".chip .close",function(){var j=O(this).closest(".chips");j.length&&j[0].M_Chips||O(this).closest(".chip").remove()})})}(cash),function(O){"use strict";var W={top:0,bottom:1/0,offset:0,onPositionChange:null},K=function(j){function P(S,b){Re(this,P);var _=xe(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,P,S,b));return _.el.M_Pushpin=_,_.options=O.extend({},P.defaults,b),_.originalOffset=_.el.offsetTop,P._pushpins.push(_),_._setupEventHandlers(),_._updatePosition(),_}return ke(P,j),H(P,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var b=P._pushpins.indexOf(this);P._pushpins.splice(b,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",P._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",P._updateElements)}},{key:"_updatePosition",value:function(){var b=M.getDocumentScrollTop()+this.options.offset;this.options.top<=b&&this.options.bottom>=b&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),b<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),b>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(b,_){return ne(P.__proto__||Object.getPrototypeOf(P),"init",this).call(this,this,b,_)}},{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_Pushpin}},{key:"_updateElements",value:function(){for(var b in P._pushpins)P._pushpins[b]._updatePosition()}},{key:"defaults",get:function(){return W}}]),P}(De);K._pushpins=[],M.Pushpin=K,M.jQueryLoaded&&M.initializeJqueryWrapper(K,"pushpin","M_Pushpin")}(cash),function(O,W){"use strict";var K={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};O.fn.reverse=[].reverse;var j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));return T.el.M_FloatingActionButton=T,T.options=O.extend({},S.defaults,_),T.isOpen=!1,T.$anchor=T.$el.children("a").first(),T.$menu=T.$el.children("ul").first(),T.$floatingBtns=T.$el.find("ul .btn-floating"),T.$floatingBtnsReverse=T.$el.find("ul .btn-floating").reverse(),T.offsetY=0,T.offsetX=0,T.$el.addClass("direction-"+T.options.direction),"top"===T.options.direction?T.offsetY=40:"right"===T.options.direction?T.offsetX=-40:"bottom"===T.options.direction?T.offsetY=-40:T.offsetX=40,T._setupEventHandlers(),T}return ke(S,P),H(S,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(_){O(_.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){!this.isOpen||(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var _=this;this.$el.addClass("active");var T=0;this.$floatingBtnsReverse.each(function(U){W({targets:U,opacity:1,scale:[.4,1],translateY:[_.offsetY,0],translateX:[_.offsetX,0],duration:275,delay:T,easing:"easeInOutQuad"}),T+=40})}},{key:"_animateOutFAB",value:function(){var _=this;this.$floatingBtnsReverse.each(function(T){W.remove(T),W({targets:T,opacity:0,scale:.4,translateY:_.offsetY,translateX:_.offsetX,duration:175,easing:"easeOutQuad",complete:function(){_.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var T,_=this,U=window.innerWidth,X=window.innerHeight,ae=this.el.getBoundingClientRect(),G=O('<div class="fab-backdrop"></div>'),ee=this.$anchor.css("background-color");this.$anchor.append(G),this.offsetX=ae.left-U/2+ae.width/2,this.offsetY=X-ae.bottom,T=U/G[0].clientWidth,this.btnBottom=ae.bottom,this.btnLeft=ae.left,this.btnWidth=ae.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),G.css({"background-color":ee}),setTimeout(function(){_.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),_.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){_.$el.css({overflow:"hidden","background-color":ee}),G.css({transform:"scale("+T+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),_.$menu.children("li").children("a").css({opacity:1}),_._handleDocumentClickBound=_._handleDocumentClick.bind(_),window.addEventListener("scroll",_._handleCloseBound,!0),document.body.addEventListener("click",_._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var _=this,T=window.innerWidth,U=window.innerHeight,X=this.$el.find(".fab-backdrop"),ae=this.$anchor.css("background-color");this.offsetX=this.btnLeft-T/2+this.btnWidth/2,this.offsetY=U-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),X.css({transform:"scale(0)","background-color":ae}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){X.remove(),_.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-_.offsetX+"px,0,0)"}),_.$anchor.css({overflow:"",transform:"translate3d(0,"+_.offsetY+"px,0)"}),setTimeout(function(){_.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),_.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_FloatingActionButton}},{key:"defaults",get:function(){return K}}]),S}(De);M.FloatingActionButton=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(O){"use strict";var W={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"\u2039",nextMonth:"\u203a",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},K=function(j){function P(S,b){Re(this,P);var _=xe(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,P,S,b));_.el.M_Datepicker=_,_.options=O.extend({},P.defaults,b),!!b&&b.hasOwnProperty("i18n")&&"object"==typeof b.i18n&&(_.options.i18n=O.extend({},P.defaults.i18n,b.i18n)),_.options.minDate&&_.options.minDate.setHours(0,0,0,0),_.options.maxDate&&_.options.maxDate.setHours(0,0,0,0),_.id=M.guid(),_._setupVariables(),_._insertHTMLIntoDOM(),_._setupModal(),_._setupEventHandlers(),_.options.defaultDate||(_.options.defaultDate=new Date(Date.parse(_.el.value)));var T=_.options.defaultDate;return P._isDate(T)?_.options.setDefaultDate?(_.setDate(T,!0),_.setInputValue()):_.gotoDate(T):_.gotoDate(new Date),_.isOpen=!1,_}return ke(P,j),H(P,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),O(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var b=this.calendarEl.querySelector(".orig-select-year");b&&M.FormSelect.getInstance(b).destroy();var _=this.calendarEl.querySelector(".orig-select-month");_&&M.FormSelect.getInstance(_).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(O(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var b=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){b.isOpen=!1}})}},{key:"toString",value:function(b){var _=this;return b=b||this.options.format,P._isDate(this.date)?b.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map(function(X){return _.formats[X]?_.formats[X]():X}).join(""):""}},{key:"setDate",value:function(b,_){if(!b)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof b&&(b=new Date(Date.parse(b))),P._isDate(b)){var T=this.options.minDate,U=this.options.maxDate;P._isDate(T)&&b<T?b=T:P._isDate(U)&&b>U&&(b=U),this.date=new Date(b.getTime()),this._renderDateDisplay(),P._setToStartOfDay(this.date),this.gotoDate(this.date),!_&&"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var b=P._isDate(this.date)?this.date:new Date,_=this.options.i18n,T=_.weekdaysShort[b.getDay()],U=_.monthsShort[b.getMonth()],X=b.getDate();this.yearTextEl.innerHTML=b.getFullYear(),this.dateTextEl.innerHTML=T+", "+U+" "+X}},{key:"gotoDate",value:function(b){var _=!0;if(P._isDate(b)){if(this.calendars){var T=new Date(this.calendars[0].year,this.calendars[0].month,1),U=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),X=b.getTime();U.setMonth(U.getMonth()+1),U.setDate(U.getDate()-1),_=X<T.getTime()||U.getTime()<X}_&&(this.calendars=[{month:b.getMonth(),year:b.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(b){return b.month<0&&(b.year-=Math.ceil(Math.abs(b.month)/12),b.month+=12),b.month>11&&(b.year+=Math.floor(Math.abs(b.month)/12),b.month-=12),b}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(b,_,T){var U=this.options,X=new Date,ae=P._getDaysInMonth(b,_),G=new Date(b,_,1).getDay(),ee=[],le=[];P._setToStartOfDay(X),U.firstDay>0&&(G-=U.firstDay)<0&&(G+=7);for(var ge=0===_?11:_-1,we=11===_?0:_+1,Ie=0===_?b-1:b,He=11===_?b+1:b,rt=P._getDaysInMonth(Ie,ge),St=ae+G,bt=St;bt>7;)bt-=7;St+=7-bt;for(var Ct=!1,_t=0,Xt=0;_t<St;_t++){var ln=new Date(b,_,_t-G+1),Rn=!!P._isDate(this.date)&&P._compareDates(ln,this.date),an=P._compareDates(ln,X),ki=-1!==U.events.indexOf(ln.toDateString()),yn=_t<G||_t>=ae+G,Wt=_t-G+1,en=_,Tn=b,si=U.startRange&&P._compareDates(U.startRange,ln),oi=U.endRange&&P._compareDates(U.endRange,ln),Je=U.startRange&&U.endRange&&U.startRange<ln&&ln<U.endRange,hn=U.minDate&&ln<U.minDate||U.maxDate&&ln>U.maxDate||U.disableWeekends&&P._isWeekend(ln)||U.disableDayFn&&U.disableDayFn(ln);yn&&(_t<G?(Wt=rt+Wt,en=ge,Tn=Ie):(Wt-=ae,en=we,Tn=He)),le.push(this.renderDay({day:Wt,month:en,year:Tn,hasEvent:ki,isSelected:Rn,isToday:an,isDisabled:hn,isEmpty:yn,isStartRange:si,isEndRange:oi,isInRange:Je,showDaysInNextAndPreviousMonths:U.showDaysInNextAndPreviousMonths})),7==++Xt&&(ee.push(this.renderRow(le,U.isRTL,Ct)),le=[],Xt=0,Ct=!1)}return this.renderTable(U,ee,T)}},{key:"renderDay",value:function(b){var _=[],T="false";if(b.isEmpty){if(!b.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';_.push("is-outside-current-month"),_.push("is-selection-disabled")}return b.isDisabled&&_.push("is-disabled"),b.isToday&&_.push("is-today"),b.isSelected&&(_.push("is-selected"),T="true"),b.hasEvent&&_.push("has-event"),b.isInRange&&_.push("is-inrange"),b.isStartRange&&_.push("is-startrange"),b.isEndRange&&_.push("is-endrange"),'<td data-day="'+b.day+'" class="'+_.join(" ")+'" aria-selected="'+T+'"><button class="datepicker-day-button" type="button" data-year="'+b.year+'" data-month="'+b.month+'" data-day="'+b.day+'">'+b.day+"</button></td>"}},{key:"renderRow",value:function(b,_,T){return'<tr class="datepicker-row'+(T?" is-selected":"")+'">'+(_?b.reverse():b).join("")+"</tr>"}},{key:"renderTable",value:function(b,_,T){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+T+'">'+this.renderHead(b)+this.renderBody(_)+"</table></div>"}},{key:"renderHead",value:function(b){var _=void 0,T=[];for(_=0;_<7;_++)T.push('<th scope="col"><abbr title="'+this.renderDayName(b,_)+'">'+this.renderDayName(b,_,!0)+"</abbr></th>");return"<thead><tr>"+(b.isRTL?T.reverse():T).join("")+"</tr></thead>"}},{key:"renderBody",value:function(b){return"<tbody>"+b.join("")+"</tbody>"}},{key:"renderTitle",value:function(b,_,T,U,X,ae){var rt,St,G=void 0,ee=void 0,le=void 0,ge=this.options,we=T===ge.minYear,Ie=T===ge.maxYear,He='<div id="'+ae+'" class="datepicker-controls" role="heading" aria-live="assertive">',bt=!0,Ct=!0;for(le=[],G=0;G<12;G++)le.push('<option value="'+(T===X?G-_:12+G-_)+'"'+(G===U?' selected="selected"':"")+(we&&G<ge.minMonth||Ie&&G>ge.maxMonth?'disabled="disabled"':"")+">"+ge.i18n.months[G]+"</option>");for(rt='<select class="datepicker-select orig-select-month" tabindex="-1">'+le.join("")+"</select>",O.isArray(ge.yearRange)?(G=ge.yearRange[0],ee=ge.yearRange[1]+1):(G=T-ge.yearRange,ee=1+T+ge.yearRange),le=[];G<ee&&G<=ge.maxYear;G++)G>=ge.minYear&&le.push('<option value="'+G+'" '+(G===T?'selected="selected"':"")+">"+G+"</option>");return St='<select class="datepicker-select orig-select-year" tabindex="-1">'+le.join("")+"</select>",He+='<button class="month-prev'+(bt?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',He+='<div class="selects-container">',He+=ge.showMonthAfterYear?St+rt:rt+St,He+="</div>",we&&(0===U||ge.minMonth>=U)&&(bt=!1),Ie&&(11===U||ge.maxMonth<=U)&&(Ct=!1),(He+='<button class="month-next'+(Ct?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(b){if(this.isOpen||b){var ee,_=this.options,T=_.minYear,U=_.maxYear,X=_.minMonth,ae=_.maxMonth,G="";this._y<=T&&(this._y=T,!isNaN(X)&&this._m<X&&(this._m=X)),this._y>=U&&(this._y=U,!isNaN(ae)&&this._m>ae&&(this._m=ae)),ee="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var le=0;le<1;le++)this._renderDateDisplay(),G+=this.renderTitle(this,le,this.calendars[le].year,this.calendars[le].month,this.calendars[0].year,ee)+this.render(this.calendars[le].year,this.calendars[le].month,ee);this.destroySelects(),this.calendarEl.innerHTML=G;var ge=this.calendarEl.querySelector(".orig-select-year"),we=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(ge,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(we,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),ge.addEventListener("change",this._handleYearChange.bind(this)),we.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var b=this;this.$modalEl=O(P._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return b.date.getDate()},dd:function(){var _=b.date.getDate();return(_<10?"0":"")+_},ddd:function(){return b.options.i18n.weekdaysShort[b.date.getDay()]},dddd:function(){return b.options.i18n.weekdays[b.date.getDay()]},m:function(){return b.date.getMonth()+1},mm:function(){var _=b.date.getMonth()+1;return(_<10?"0":"")+_},mmm:function(){return b.options.i18n.monthsShort[b.date.getMonth()]},mmmm:function(){return b.options.i18n.months[b.date.getMonth()]},yy:function(){return(""+b.date.getFullYear()).slice(2)},yyyy:function(){return b.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(b){b.which===M.keys.ENTER&&(b.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(b){if(this.isOpen){var _=O(b.target);_.hasClass("is-disabled")||(!_.hasClass("datepicker-day-button")||_.hasClass("is-empty")||_.parent().hasClass("is-disabled")?_.closest(".month-prev").length?this.prevMonth():_.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(b.target.getAttribute("data-year"),b.target.getAttribute("data-month"),b.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(b){this.gotoMonth(b.target.value)}},{key:"_handleYearChange",value:function(b){this.gotoYear(b.target.value)}},{key:"gotoMonth",value:function(b){isNaN(b)||(this.calendars[0].month=parseInt(b,10),this.adjustCalendars())}},{key:"gotoYear",value:function(b){isNaN(b)||(this.calendars[0].year=parseInt(b,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(b){var _=void 0;b.firedBy!==this&&(_=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),P._isDate(_)&&this.setDate(_))}},{key:"renderDayName",value:function(b,_,T){for(_+=b.firstDay;_>=7;)_-=7;return T?b.i18n.weekdaysAbbrev[_]:b.i18n.weekdays[_]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(b,_){return ne(P.__proto__||Object.getPrototypeOf(P),"init",this).call(this,this,b,_)}},{key:"_isDate",value:function(b){return/Date/.test(Object.prototype.toString.call(b))&&!isNaN(b.getTime())}},{key:"_isWeekend",value:function(b){var _=b.getDay();return 0===_||6===_}},{key:"_setToStartOfDay",value:function(b){P._isDate(b)&&b.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(b,_){return[31,P._isLeapYear(b)?29:28,31,30,31,30,31,31,30,31,30,31][_]}},{key:"_isLeapYear",value:function(b){return b%4==0&&b%100!=0||b%400==0}},{key:"_compareDates",value:function(b,_){return b.getTime()===_.getTime()}},{key:"_setToStartOfDay",value:function(b){P._isDate(b)&&b.setHours(0,0,0,0)}},{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_Datepicker}},{key:"defaults",get:function(){return W}}]),P}(De);K._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=K,M.jQueryLoaded&&M.initializeJqueryWrapper(K,"datepicker","M_Datepicker")}(cash),function(O){"use strict";var W={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},K=function(j){function P(S,b){Re(this,P);var _=xe(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,P,S,b));return _.el.M_Timepicker=_,_.options=O.extend({},P.defaults,b),_.id=M.guid(),_._insertHTMLIntoDOM(),_._setupModal(),_._setupVariables(),_._setupEventHandlers(),_._clockSetup(),_._pickerSetup(),_}return ke(P,j),H(P,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),O(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),O(this.spanHours).on("click",this.showView.bind(this,"hours")),O(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(b){b.which===M.keys.ENTER&&(b.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(b){b.preventDefault();var _=this.plate.getBoundingClientRect(),T_y=_.top;this.x0=_.left+this.options.dialRadius,this.y0=T_y+this.options.dialRadius,this.moved=!1;var U=P._Pos(b);this.dx=U.x-this.x0,this.dy=U.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(b){b.preventDefault();var _=P._Pos(b),T=_.x-this.x0,U=_.y-this.y0;this.moved=!0,this.setHand(T,U,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(b){var _=this;b.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var T=P._Pos(b),U=T.x-this.x0,X=T.y-this.y0;this.moved&&U===this.dx&&X===this.dy&&this.setHand(U,X),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(O(this.minutesView).addClass("timepicker-dial-out"),setTimeout(function(){_.done()},this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=O(P._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var b=document.querySelector(this.options.container);this.options.container&&b?this.$modalEl.appendTo(b):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var b=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof b.options.onCloseEnd&&b.options.onCloseEnd.call(b),b.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var b=O('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&b.css({visibility:""});var _=O('<div class="confirmation-btns"></div>');O('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(_).on("click",this.close.bind(this)),O('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(_).on("click",this.done.bind(this)),_.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=O('<div class="am-btn">AM</div>'),this.$pmBtn=O('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var b=this.options.dialRadius,_=this.options.tickRadius,T=2*b,U=P._createSVGEl("svg");U.setAttribute("class","timepicker-svg"),U.setAttribute("width",T),U.setAttribute("height",T);var X=P._createSVGEl("g");X.setAttribute("transform","translate("+b+","+b+")");var ae=P._createSVGEl("circle");ae.setAttribute("class","timepicker-canvas-bearing"),ae.setAttribute("cx",0),ae.setAttribute("cy",0),ae.setAttribute("r",4);var G=P._createSVGEl("line");G.setAttribute("x1",0),G.setAttribute("y1",0);var ee=P._createSVGEl("circle");ee.setAttribute("class","timepicker-canvas-bg"),ee.setAttribute("r",_),X.appendChild(G),X.appendChild(ee),X.appendChild(ae),U.appendChild(X),this._canvas.appendChild(U),this.hand=G,this.bg=ee,this.bearing=ae,this.g=X}},{key:"_buildHoursView",value:function(){var b=O('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var _=1;_<13;_+=1){var T=b.clone(),U=_/6*Math.PI,X=this.options.outerRadius;T.css({left:this.options.dialRadius+Math.sin(U)*X-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(U)*X-this.options.tickRadius+"px"}),T.html(0===_?"00":_),this.hoursView.appendChild(T[0])}else for(var ae=0;ae<24;ae+=1){var G=b.clone(),ee=ae/6*Math.PI,ge=ae>0&&ae<13?this.options.innerRadius:this.options.outerRadius;G.css({left:this.options.dialRadius+Math.sin(ee)*ge-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(ee)*ge-this.options.tickRadius+"px"}),G.html(0===ae?"00":ae),this.hoursView.appendChild(G[0])}}},{key:"_buildMinutesView",value:function(){for(var b=O('<div class="timepicker-tick"></div>'),_=0;_<60;_+=5){var T=b.clone(),U=_/30*Math.PI;T.css({left:this.options.dialRadius+Math.sin(U)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(U)*this.options.outerRadius-this.options.tickRadius+"px"}),T.html(P._addLeadingZero(_)),this.minutesView.appendChild(T[0])}}},{key:"_handleAmPmClick",value:function(b){var _=O(b.target);this.amOrPm=_.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var b=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==b[1]&&(this.amOrPm=b[1].toUpperCase().indexOf("AM")>0?"AM":"PM",b[1]=b[1].replace("AM","").replace("PM","")),"now"===b[0]){var _=new Date(+new Date+this.options.fromNow);b=[_.getHours(),_.getMinutes()],this.options.twelveHour&&(this.amOrPm=b[0]>=12&&b[0]<24?"PM":"AM")}this.hours=+b[0]||0,this.minutes=+b[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=P._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(b,_){"minutes"===b&&O(this.hoursView).css("visibility");var T="hours"===b,U=T?this.hoursView:this.minutesView,X=T?this.minutesView:this.hoursView;this.currentView=b,O(this.spanHours).toggleClass("text-primary",T),O(this.spanMinutes).toggleClass("text-primary",!T),X.classList.add("timepicker-dial-out"),O(U).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(_),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){O(X).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(b){var _=this.currentView,T=this[_],U="hours"===_,ae=T*(Math.PI/(U?6:30)),G=U&&T>0&&T<13?this.options.innerRadius:this.options.outerRadius,ee=Math.sin(ae)*G,le=-Math.cos(ae)*G,ge=this;b?(O(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){O(ge.canvas).removeClass("timepicker-canvas-out"),ge.setHand(ee,le)},b)):this.setHand(ee,le)}},{key:"setHand",value:function(b,_,T){var U=this,X=Math.atan2(b,-_),ae="hours"===this.currentView,G=Math.PI/(ae||T?6:30),ee=Math.sqrt(b*b+_*_),le=ae&&ee<(this.options.outerRadius+this.options.innerRadius)/2,ge=le?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(ge=this.options.outerRadius),X<0&&(X=2*Math.PI+X);var we=Math.round(X/G);X=we*G,this.options.twelveHour?ae?0===we&&(we=12):(T&&(we*=5),60===we&&(we=0)):ae?(12===we&&(we=0),we=le?0===we?12:we:0===we?0:we+12):(T&&(we*=5),60===we&&(we=0)),this[this.currentView]!==we&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){U.vibrateTimer=null},100))),this[this.currentView]=we,ae?this.spanHours.innerHTML=we:this.spanMinutes.innerHTML=P._addLeadingZero(we);var Ie=Math.sin(X)*(ge-this.options.tickRadius),He=-Math.cos(X)*(ge-this.options.tickRadius),rt=Math.sin(X)*ge,St=-Math.cos(X)*ge;this.hand.setAttribute("x2",Ie),this.hand.setAttribute("y2",He),this.bg.setAttribute("cx",rt),this.bg.setAttribute("cy",St)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){!this.isOpen||(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(b,_){var T=this.el.value,U=_?"":P._addLeadingZero(this.hours)+":"+P._addLeadingZero(this.minutes);this.time=U,!_&&this.options.twelveHour&&(U=U+" "+this.amOrPm),this.el.value=U,U!==T&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(b,_){return ne(P.__proto__||Object.getPrototypeOf(P),"init",this).call(this,this,b,_)}},{key:"_addLeadingZero",value:function(b){return(b<10?"0":"")+b}},{key:"_createSVGEl",value:function(b){return document.createElementNS("http://www.w3.org/2000/svg",b)}},{key:"_Pos",value:function(b){return b.targetTouches&&b.targetTouches.length>=1?{x:b.targetTouches[0].clientX,y:b.targetTouches[0].clientY}:{x:b.clientX,y:b.clientY}}},{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_Timepicker}},{key:"defaults",get:function(){return W}}]),P}(De);K._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=K,M.jQueryLoaded&&M.initializeJqueryWrapper(K,"timepicker","M_Timepicker")}(cash),function(O){"use strict";var W={},K=function(j){function P(S,b){Re(this,P);var _=xe(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,P,S,b));return _.el.M_CharacterCounter=_,_.options=O.extend({},P.defaults,b),_.isInvalid=!1,_.isValidLength=!1,_._setupCounter(),_._setupEventHandlers(),_}return ke(P,j),H(P,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),O(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){O(this.counterEl).remove()}},{key:"updateCounter",value:function(){var b=+this.$el.attr("data-length"),_=this.el.value.length;this.isValidLength=_<=b;var T=_;b&&(T+="/"+b,this._validateInput()),O(this.counterEl).html(T)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):!this.isValidLength&&!this.isInvalid&&(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(b,_){return ne(P.__proto__||Object.getPrototypeOf(P),"init",this).call(this,this,b,_)}},{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_CharacterCounter}},{key:"defaults",get:function(){return W}}]),P}(De);M.CharacterCounter=K,M.jQueryLoaded&&M.initializeJqueryWrapper(K,"characterCounter","M_CharacterCounter")}(cash),function(O){"use strict";var W={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},K=function(j){function P(S,b){Re(this,P);var _=xe(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,P,S,b));return _.el.M_Carousel=_,_.options=O.extend({},P.defaults,b),_.hasMultipleSlides=_.$el.find(".carousel-item").length>1,_.showIndicators=_.options.indicators&&_.hasMultipleSlides,_.noWrap=_.options.noWrap||!_.hasMultipleSlides,_.pressed=!1,_.dragged=!1,_.offset=_.target=0,_.images=[],_.itemWidth=_.$el.find(".carousel-item").first().innerWidth(),_.itemHeight=_.$el.find(".carousel-item").first().innerHeight(),_.dim=2*_.itemWidth+_.options.padding||1,_._autoScrollBound=_._autoScroll.bind(_),_._trackBound=_._track.bind(_),_.options.fullWidth&&(_.options.dist=0,_._setCarouselHeight(),_.showIndicators&&_.$el.find(".carousel-fixed-item").addClass("with-indicators")),_.$indicators=O('<ul class="indicators"></ul>'),_.$el.find(".carousel-item").each(function(T,U){if(_.images.push(T),_.showIndicators){var X=O('<li class="indicator-item"></li>');0===U&&X[0].classList.add("active"),_.$indicators.append(X)}}),_.showIndicators&&_.$el.append(_.$indicators),_.count=_.images.length,_.options.numVisible=Math.min(_.count,_.options.numVisible),_.xform="transform",["webkit","Moz","O","ms"].every(function(T){var U=T+"Transform";return void 0===document.body.style[U]||(_.xform=U,!1)}),_._setupEventHandlers(),_._scroll(_.offset),_}return ke(P,j),H(P,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var b=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(T,U){T.addEventListener("click",b._handleIndicatorClickBound)}));var _=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=_.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var b=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(_,T){_.removeEventListener("click",b._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(b){"mousedown"===b.type&&O(b.target).is("img")&&b.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(b),this.referenceY=this._ypos(b),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(b){var _=void 0,T=void 0,U=void 0;if(this.pressed)if(_=this._xpos(b),T=this._ypos(b),U=this.reference-_,Math.abs(this.referenceY-T)<30&&!this.verticalDragged)(U>2||U<-2)&&(this.dragged=!0,this.reference=_,this._scroll(this.offset+U));else{if(this.dragged)return b.preventDefault(),b.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return b.preventDefault(),b.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(b){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(b.preventDefault(),b.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(b){if(this.dragged)return b.preventDefault(),b.stopPropagation(),!1;if(!this.options.fullWidth){var _=O(b.target).closest(".carousel-item").index();0!=this._wrap(this.center)-_&&(b.preventDefault(),b.stopPropagation()),this._cycleTo(_)}}},{key:"_handleIndicatorClick",value:function(b){b.stopPropagation();var _=O(b.target).closest(".indicator-item");_.length&&this._cycleTo(_.index())}},{key:"_handleResize",value:function(b){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(b){var _=this,T=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),U=T.find("img").first();if(U.length)if(U[0].complete){var X=U.height();if(X>0)this.$el.css("height",X+"px");else{var ae=U[0].naturalWidth,G=U[0].naturalHeight,ee=this.$el.width()/ae*G;this.$el.css("height",ee+"px")}}else U.one("load",function(ge,we){_.$el.css("height",ge.offsetHeight+"px")});else if(!b){var le=T.height();this.$el.css("height",le+"px")}}},{key:"_xpos",value:function(b){return b.targetTouches&&b.targetTouches.length>=1?b.targetTouches[0].clientX:b.clientX}},{key:"_ypos",value:function(b){return b.targetTouches&&b.targetTouches.length>=1?b.targetTouches[0].clientY:b.clientY}},{key:"_wrap",value:function(b){return b>=this.count?b%this.count:b<0?this._wrap(this.count+b%this.count):b}},{key:"_track",value:function(){var b,_,T;_=(b=Date.now())-this.timestamp,this.timestamp=b,T=this.offset-this.frame,this.frame=this.offset,this.velocity=1e3*T/(1+_)*.8+.2*this.velocity}},{key:"_autoScroll",value:function(){var b=void 0,_=void 0;this.amplitude&&(b=Date.now()-this.timestamp,(_=this.amplitude*Math.exp(-b/this.options.duration))>2||_<-2?(this._scroll(this.target-_),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(b){var _=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){_.$el.removeClass("scrolling")},this.options.duration);var U,X,ae,G,T=void 0,ee=void 0,le=void 0,ge=void 0,we=void 0,Ie=void 0,He=this.center,rt=1/this.options.numVisible;if(this.offset="number"==typeof b?b:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),G=-(ae=(X=this.offset-this.center*this.dim)<0?1:-1)*X*2/this.dim,U=this.count>>1,this.options.fullWidth?(le="translateX(0)",Ie=1):(le="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",le+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",Ie=1-rt*G),this.showIndicators){var St=this.center%this.count,bt=this.$indicators.find(".indicator-item.active");bt.index()!==St&&(bt.removeClass("active"),this.$indicators.find(".indicator-item").eq(St)[0].classList.add("active"))}for((!this.noWrap||this.center>=0&&this.center<this.count)&&(ee=this.images[this._wrap(this.center)],O(ee).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),ee.classList.add("active")),this._updateItemStyle(ee,Ie,0,le+" translateX("+-X/2+"px) translateX("+ae*this.options.shift*G*T+"px) translateZ("+this.options.dist*G+"px)")),T=1;T<=U;++T)this.options.fullWidth?(ge=this.options.dist,we=T===U&&X<0?1-G:1):(ge=this.options.dist*(2*T+G*ae),we=1-rt*(2*T+G*ae)),(!this.noWrap||this.center+T<this.count)&&(ee=this.images[this._wrap(this.center+T)],this._updateItemStyle(ee,we,-T,le+" translateX("+(this.options.shift+(this.dim*T-X)/2)+"px) translateZ("+ge+"px)")),this.options.fullWidth?(ge=this.options.dist,we=T===U&&X>0?1-G:1):(ge=this.options.dist*(2*T-G*ae),we=1-rt*(2*T-G*ae)),(!this.noWrap||this.center-T>=0)&&(ee=this.images[this._wrap(this.center-T)],this._updateItemStyle(ee,we,-T,le+" translateX("+((-this.dim*T-X)/2-this.options.shift)+"px) translateZ("+ge+"px)"));(!this.noWrap||this.center>=0&&this.center<this.count)&&(ee=this.images[this._wrap(this.center)],this._updateItemStyle(ee,Ie,0,le+" translateX("+-X/2+"px) translateX("+ae*this.options.shift*G+"px) translateZ("+this.options.dist*G+"px)"));var Rn=this.$el.find(".carousel-item").eq(this._wrap(this.center));He!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,Rn[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,Rn[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(b,_,T,U){b.style[this.xform]=U,b.style.zIndex=T,b.style.opacity=_,b.style.visibility="visible"}},{key:"_cycleTo",value:function(b,_){var T=this.center%this.count-b;this.noWrap||(T<0?Math.abs(T+this.count)<Math.abs(T)&&(T+=this.count):T>0&&Math.abs(T-this.count)<T&&(T-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),T<0?this.target+=this.dim*Math.abs(T):T>0&&(this.target-=this.dim*T),"function"==typeof _&&(this.oneTimeCallback=_),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(b){(void 0===b||isNaN(b))&&(b=1);var _=this.center+b;if(_>=this.count||_<0){if(this.noWrap)return;_=this._wrap(_)}this._cycleTo(_)}},{key:"prev",value:function(b){(void 0===b||isNaN(b))&&(b=1);var _=this.center-b;if(_>=this.count||_<0){if(this.noWrap)return;_=this._wrap(_)}this._cycleTo(_)}},{key:"set",value:function(b,_){if((void 0===b||isNaN(b))&&(b=0),b>this.count||b<0){if(this.noWrap)return;b=this._wrap(b)}this._cycleTo(b,_)}}],[{key:"init",value:function(b,_){return ne(P.__proto__||Object.getPrototypeOf(P),"init",this).call(this,this,b,_)}},{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_Carousel}},{key:"defaults",get:function(){return W}}]),P}(De);M.Carousel=K,M.jQueryLoaded&&M.initializeJqueryWrapper(K,"carousel","M_Carousel")}(cash),function(O){"use strict";var W={onOpen:void 0,onClose:void 0},K=function(j){function P(S,b){Re(this,P);var _=xe(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,P,S,b));return _.el.M_TapTarget=_,_.options=O.extend({},P.defaults,b),_.isOpen=!1,_.$origin=O("#"+_.$el.attr("data-target")),_._setup(),_._calculatePositioning(),_._setupEventHandlers(),_}return ke(P,j),H(P,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var b=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=b.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(b){this.open()}},{key:"_handleOriginClick",value:function(b){this.close()}},{key:"_handleResize",value:function(b){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(b){O(b.target).closest(".tap-target-wrapper").length||(this.close(),b.preventDefault(),b.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=O(this.wrapper).find(".tap-target-wave")[0],this.originEl=O(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],O(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(O(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var b="fixed"===this.$origin.css("position");if(!b)for(var _=this.$origin.parents(),T=0;T<_.length&&!(b="fixed"==O(_[T]).css("position"));T++);var U=this.$origin.outerWidth(),X=this.$origin.outerHeight(),ae=b?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,G=b?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,ee=window.innerWidth,le=window.innerHeight,ge=ee/2,we=le/2,Ie=G<=ge,He=G>ge,rt=ae<=we,St=ae>we,bt=G>=.25*ee&&G<=.75*ee,Ct=this.$el.outerWidth(),_t=this.$el.outerHeight(),Xt=ae+X/2-_t/2,ln=G+U/2-Ct/2,Rn=b?"fixed":"absolute",an=bt?Ct:Ct/2+U,ki=_t/2,yn=rt?_t/2:0,en=Ie&&!bt?Ct/2-U:0,si=U,oi=St?"bottom":"top",Je=2*U,hn=Je,Et=_t/2-hn/2,ti=Ct/2-Je/2,st={};st.top=rt?Xt+"px":"",st.right=He?ee-ln-Ct+"px":"",st.bottom=St?le-Xt-_t+"px":"",st.left=Ie?ln+"px":"",st.position=Rn,O(this.wrapper).css(st),O(this.contentEl).css({width:an+"px",height:ki+"px",top:yn+"px",right:"0px",bottom:"0px",left:en+"px",padding:si+"px",verticalAlign:oi}),O(this.waveEl).css({top:Et+"px",left:ti+"px",width:Je+"px",height:hn+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){!this.isOpen||("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(b,_){return ne(P.__proto__||Object.getPrototypeOf(P),"init",this).call(this,this,b,_)}},{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_TapTarget}},{key:"defaults",get:function(){return W}}]),P}(De);M.TapTarget=K,M.jQueryLoaded&&M.initializeJqueryWrapper(K,"tapTarget","M_TapTarget")}(cash),function(O){"use strict";var W={classes:"",dropdownOptions:{}},K=function(j){function P(S,b){Re(this,P);var _=xe(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,P,S,b));return _.$el.hasClass("browser-default")?xe(_):(_.el.M_FormSelect=_,_.options=O.extend({},P.defaults,b),_.isMultiple=_.$el.prop("multiple"),_.el.tabIndex=-1,_._keysSelected={},_._valueDict={},_._setupDropdown(),_._setupEventHandlers(),_)}return ke(P,j),H(P,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var b=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),O(this.dropdownOptions).find("li:not(.optgroup)").each(function(_){_.addEventListener("click",b._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var b=this;O(this.dropdownOptions).find("li:not(.optgroup)").each(function(_){_.removeEventListener("click",b._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(b){this._setValueToInput()}},{key:"_handleOptionClick",value:function(b){b.preventDefault();var _=O(b.target).closest("li")[0],T=_.id;if(!O(_).hasClass("disabled")&&!O(_).hasClass("optgroup")&&T.length){var U=!0;if(this.isMultiple){var X=O(this.dropdownOptions).find("li.disabled.selected");X.length&&(X.removeClass("selected"),X.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(X[0].id)),U=this._toggleEntryFromArray(T)}else O(this.dropdownOptions).find("li").removeClass("selected"),O(_).toggleClass("selected",U);O(this._valueDict[T].el).prop("selected")!==U&&(O(this._valueDict[T].el).prop("selected",U),this.$el.trigger("change"))}b.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var b=this;this.wrapper=document.createElement("div"),O(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(O(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),O(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(U){if(O(U).is("option")){var X;X=b.isMultiple?b._appendOptionWithIcon(b.$el,U,"multiple"):b._appendOptionWithIcon(b.$el,U),b._addOptionToValueDict(U,X)}else if(O(U).is("optgroup")){var ae=O(U).children("option");O(b.dropdownOptions).append(O('<li class="optgroup"><span>'+U.getAttribute("label")+"</span></li>")[0]),ae.each(function(G){var ee=b._appendOptionWithIcon(b.$el,G,"optgroup-option");b._addOptionToValueDict(G,ee)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),O(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&O(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var _=O('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(_[0]),!this.el.disabled){var T=O.extend({},this.options.dropdownOptions);T.onOpenEnd=function(U){var X=O(b.dropdownOptions).find(".selected").first();if(X.length&&(M.keyDown=!0,b.dropdown.focusedIndex=X.index(),b.dropdown._focusFocusedItem(),M.keyDown=!1,b.dropdown.isScrollable)){var ae=X[0].getBoundingClientRect().top-b.dropdownOptions.getBoundingClientRect().top;b.dropdownOptions.scrollTop=ae-=b.dropdownOptions.clientHeight/2}},this.isMultiple&&(T.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,T)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(b,_){var T=Object.keys(this._valueDict).length,U=this.dropdownOptions.id+T,X={};_.id=U,X.el=b,X.optionEl=_,this._valueDict[U]=X}},{key:"_removeDropdown",value:function(){O(this.wrapper).find(".caret").remove(),O(this.input).remove(),O(this.dropdownOptions).remove(),O(this.wrapper).before(this.$el),O(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(b,_,T){var U=_.disabled?"disabled ":"",X="optgroup-option"===T?"optgroup-option ":"",ae=this.isMultiple?'<label><input type="checkbox"'+U+'"/><span>'+_.innerHTML+"</span></label>":_.innerHTML,G=O("<li></li>"),ee=O("<span></span>");ee.html(ae),G.addClass(U+" "+X),G.append(ee);var le=_.getAttribute("data-icon");if(le){var ge=O('<img alt="" src="'+le+'">');G.prepend(ge)}return O(this.dropdownOptions).append(G[0]),G[0]}},{key:"_toggleEntryFromArray",value:function(b){var _=!this._keysSelected.hasOwnProperty(b),T=O(this._valueDict[b].optionEl);return _?this._keysSelected[b]=!0:delete this._keysSelected[b],T.toggleClass("selected",_),T.find('input[type="checkbox"]').prop("checked",_),T.prop("selected",_),_}},{key:"_setValueToInput",value:function(){var b=[];if(this.$el.find("option").each(function(U){if(O(U).prop("selected")){var X=O(U).text();b.push(X)}}),!b.length){var T=this.$el.find("option:disabled").eq(0);T.length&&""===T[0].value&&b.push(T.text())}this.input.value=b.join(", ")}},{key:"_setSelectedStates",value:function(){for(var b in this._keysSelected={},this._valueDict){var _=this._valueDict[b],T=O(_.el).prop("selected");O(_.optionEl).find('input[type="checkbox"]').prop("checked",T),T?(this._activateOption(O(this.dropdownOptions),O(_.optionEl)),this._keysSelected[b]=!0):O(_.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(b,_){_&&(this.isMultiple||b.find("li.selected").removeClass("selected"),O(_).addClass("selected"))}},{key:"getSelectedValues",value:function(){var b=[];for(var _ in this._keysSelected)b.push(this._valueDict[_].el.value);return b}}],[{key:"init",value:function(b,_){return ne(P.__proto__||Object.getPrototypeOf(P),"init",this).call(this,this,b,_)}},{key:"getInstance",value:function(b){return(b.jquery?b[0]:b).M_FormSelect}},{key:"defaults",get:function(){return W}}]),P}(De);M.FormSelect=K,M.jQueryLoaded&&M.initializeJqueryWrapper(K,"formSelect","M_FormSelect")}(cash),function(O,W){"use strict";var K={},j=function(P){function S(b,_){Re(this,S);var T=xe(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,S,b,_));return T.el.M_Range=T,T.options=O.extend({},S.defaults,_),T._mousedown=!1,T._setupThumb(),T._setupEventHandlers(),T}return ke(S,P),H(S,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){O(this.value).html(this.$el.val()),O(this.thumb).hasClass("active")||this._showRangeBubble();var _=this._calcRangeOffset();O(this.thumb).addClass("active").css("left",_+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(_){if(O(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),O(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==_.type){var T=this._calcRangeOffset();O(this.thumb).addClass("active").css("left",T+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){O(this.thumb).hasClass("active")||this._showRangeBubble();var _=this._calcRangeOffset();O(this.thumb).addClass("active").css("left",_+"px"),O(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var T=7+parseInt(this.$el.css("padding-left"))+"px";O(this.thumb).hasClass("active")&&(W.remove(this.thumb),W({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:T,duration:100})),O(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),O(this.thumb).addClass("thumb"),O(this.value).addClass("value"),O(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){O(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var T=-7+parseInt(O(this.thumb).parent().css("padding-left"))+"px";W.remove(this.thumb),W({targets:this.thumb,height:30,width:30,top:-30,marginLeft:T,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var _=this.$el.width()-15,T=parseFloat(this.$el.attr("max"))||100,U=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-U)/(T-U)*_}}],[{key:"init",value:function(_,T){return ne(S.__proto__||Object.getPrototypeOf(S),"init",this).call(this,this,_,T)}},{key:"getInstance",value:function(_){return(_.jquery?_[0]:_).M_Range}},{key:"defaults",get:function(){return K}}]),S}(De);M.Range=j,M.jQueryLoaded&&M.initializeJqueryWrapper(j,"range","M_Range"),j.init(O("input[type=range]"))}(cash,M.anime)},8305:(vt,$e,Q)=>{"use strict";Q.d($e,{y:()=>de});var r=Q(3113),ne=Q(7908),H=Q(4816),xe=Q(4623);var De=Q(5367),Le=Q(5044),Ze=Q(8706);let de=(()=>{class Ye{constructor(W){W&&(this._subscribe=W)}lift(W){const K=new Ye;return K.source=this,K.operator=W,K}subscribe(W,K,j){const P=function(Ye){return Ye&&Ye instanceof r.Lv||function(Ye){return Ye&&(0,Le.m)(Ye.next)&&(0,Le.m)(Ye.error)&&(0,Le.m)(Ye.complete)}(Ye)&&(0,ne.Nn)(Ye)}(W)?W:new r.Hp(W,K,j);return(0,Ze.x)(()=>{const{operator:S,source:b}=this;P.add(S?S.call(P,b):b?this._subscribe(P):this._trySubscribe(P))}),P}_trySubscribe(W){try{return this._subscribe(W)}catch(K){W.error(K)}}forEach(W,K){return new(K=ue(K))((j,P)=>{let S;S=this.subscribe(b=>{try{W(b)}catch(_){P(_),null==S||S.unsubscribe()}},P,j)})}_subscribe(W){var K;return null===(K=this.source)||void 0===K?void 0:K.subscribe(W)}[H.L](){return this}pipe(...W){return function(Ye){return 0===Ye.length?xe.y:1===Ye.length?Ye[0]:function(W){return Ye.reduce((K,j)=>j(K),W)}}(W)(this)}toPromise(W){return new(W=ue(W))((K,j)=>{let P;this.subscribe(S=>P=S,S=>j(S),()=>K(P))})}}return Ye.create=O=>new Ye(O),Ye})();function ue(Ye){var O;return null!==(O=null!=Ye?Ye:De.v.Promise)&&void 0!==O?O:Promise}},273:(vt,$e,Q)=>{"use strict";Q.d($e,{x:()=>De});var r=Q(8305),ne=Q(7908);const xe=(0,Q(4893).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=Q(3980),Re=Q(8706);let De=(()=>{class Ze extends r.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Ae=new Le(this,this);return Ae.operator=ue,Ae}_throwIfClosed(){if(this.closed)throw new xe}next(ue){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Ae=this.observers.slice();for(const Ge of Ae)Ge.next(ue)}})}error(ue){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(ue)}})}complete(){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Ae,isStopped:Ge,observers:Ye}=this;return Ae||Ge?ne.Lc:(Ye.push(ue),new ne.w0(()=>(0,ke.P)(Ye,ue)))}_checkFinalizedStatuses(ue){const{hasError:Ae,thrownError:Ge,isStopped:Ye}=this;Ae?ue.error(Ge):Ye&&ue.complete()}asObservable(){const ue=new r.y;return ue.source=this,ue}}return Ze.create=(de,ue)=>new Le(de,ue),Ze})();class Le extends De{constructor(de,ue){super(),this.destination=de,this.source=ue}next(de){var ue,Ae;null===(Ae=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Ae||Ae.call(ue,de)}error(de){var ue,Ae;null===(Ae=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Ae||Ae.call(ue,de)}complete(){var de,ue;null===(ue=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===ue||ue.call(de)}_subscribe(de){var ue,Ae;return null!==(Ae=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(de))&&void 0!==Ae?Ae:ne.Lc}}},3113:(vt,$e,Q)=>{"use strict";Q.d($e,{Hp:()=>Ge,Lv:()=>Ae});var r=Q(5044),ne=Q(7908),H=Q(5367),xe=Q(5160);function ke(){}const Re=Ze("C",void 0,void 0);function Ze(j,P,S){return{kind:j,value:P,error:S}}var de=Q(2496),ue=Q(8706);class Ae extends ne.w0{constructor(P){super(),this.isStopped=!1,P?(this.destination=P,(0,ne.Nn)(P)&&P.add(this)):this.destination=K}static create(P,S,b){return new Ge(P,S,b)}next(P){this.isStopped?W(Ze("N",P,void 0),this):this._next(P)}error(P){this.isStopped?W(Ze("E",void 0,P),this):(this.isStopped=!0,this._error(P))}complete(){this.isStopped?W(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(P){this.destination.next(P)}_error(P){try{this.destination.error(P)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ge extends Ae{constructor(P,S,b){let _;if(super(),(0,r.m)(P))_=P;else if(P){let T;({next:_,error:S,complete:b}=P),this&&H.v.useDeprecatedNextContext?(T=Object.create(P),T.unsubscribe=()=>this.unsubscribe()):T=P,_=null==_?void 0:_.bind(T),S=null==S?void 0:S.bind(T),b=null==b?void 0:b.bind(T)}this.destination={next:_?Ye(_):ke,error:Ye(null!=S?S:O),complete:b?Ye(b):ke}}}function Ye(j,P){return(...S)=>{try{j(...S)}catch(b){H.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(b):(0,xe.h)(b)}}}function O(j){throw j}function W(j,P){const{onStoppedNotification:S}=H.v;S&&de.z.setTimeout(()=>S(j,P))}const K={closed:!0,next:ke,error:O,complete:ke}},7908:(vt,$e,Q)=>{"use strict";Q.d($e,{Lc:()=>Re,w0:()=>ke,Nn:()=>De});var r=Q(5044);const H=(0,Q(4893).d)(Ze=>function(ue){Ze(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Ae,Ge)=>`${Ge+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var xe=Q(3980);class ke{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Ye of ue)Ye.remove(this);else ue.remove(this);const{initialTeardown:Ae}=this;if((0,r.m)(Ae))try{Ae()}catch(Ye){de=Ye instanceof H?Ye.errors:[Ye]}const{_teardowns:Ge}=this;if(Ge){this._teardowns=null;for(const Ye of Ge)try{Le(Ye)}catch(O){de=null!=de?de:[],O instanceof H?de=[...de,...O.errors]:de.push(O)}}if(de)throw new H(de)}}add(de){var ue;if(de&&de!==this)if(this.closed)Le(de);else{if(de instanceof ke){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._teardowns=null!==(ue=this._teardowns)&&void 0!==ue?ue:[]).push(de)}}_hasParent(de){const{_parentage:ue}=this;return ue===de||Array.isArray(ue)&&ue.includes(de)}_addParent(de){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(de),ue):ue?[ue,de]:de}_removeParent(de){const{_parentage:ue}=this;ue===de?this._parentage=null:Array.isArray(ue)&&(0,xe.P)(ue,de)}remove(de){const{_teardowns:ue}=this;ue&&(0,xe.P)(ue,de),de instanceof ke&&de._removeParent(this)}}ke.EMPTY=(()=>{const Ze=new ke;return Ze.closed=!0,Ze})();const Re=ke.EMPTY;function De(Ze){return Ze instanceof ke||Ze&&"closed"in Ze&&(0,r.m)(Ze.remove)&&(0,r.m)(Ze.add)&&(0,r.m)(Ze.unsubscribe)}function Le(Ze){(0,r.m)(Ze)?Ze():Ze.unsubscribe()}},5367:(vt,$e,Q)=>{"use strict";Q.d($e,{v:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(vt,$e,Q)=>{"use strict";Q.d($e,{E:()=>ne});const ne=new(Q(8305).y)(ke=>ke.complete())},5947:(vt,$e,Q)=>{"use strict";Q.d($e,{D:()=>_});var r=Q(9985),ne=Q(4763),H=Q(5222),Re=Q(8305),Le=Q(5497),Ze=Q(5044),de=Q(8395);function Ae(T,U){if(!T)throw new Error("Iterable cannot be null");return new Re.y(X=>{(0,de.f)(X,U,()=>{const ae=T[Symbol.asyncIterator]();(0,de.f)(X,U,()=>{ae.next().then(G=>{G.done?X.complete():X.next(G.value)})},0,!0)})})}var Ge=Q(1073),Ye=Q(2442),O=Q(1537),W=Q(2317),K=Q(9908),j=Q(3754),P=Q(7751);function _(T,U){return U?function(T,U){if(null!=T){if((0,Ge.c)(T))return function(T,U){return(0,r.Xf)(T).pipe((0,H.R)(U),(0,ne.Q)(U))}(T,U);if((0,O.z)(T))return function(T,U){return new Re.y(X=>{let ae=0;return U.schedule(function(){ae===T.length?X.complete():(X.next(T[ae++]),X.closed||this.schedule())})})}(T,U);if((0,Ye.t)(T))return function(T,U){return(0,r.Xf)(T).pipe((0,H.R)(U),(0,ne.Q)(U))}(T,U);if((0,K.D)(T))return Ae(T,U);if((0,W.T)(T))return function(T,U){return new Re.y(X=>{let ae;return(0,de.f)(X,U,()=>{ae=T[Le.h](),(0,de.f)(X,U,()=>{let G,ee;try{({value:G,done:ee}=ae.next())}catch(le){return void X.error(le)}ee?X.complete():X.next(G)},0,!0)}),()=>(0,Ze.m)(null==ae?void 0:ae.return)&&ae.return()})}(T,U);if((0,P.L)(T))return function(T,U){return Ae((0,P.Q)(T),U)}(T,U)}throw(0,j.z)(T)}(T,U):(0,r.Xf)(T)}},9985:(vt,$e,Q)=>{"use strict";Q.d($e,{Xf:()=>Ge});var r=Q(9162),ne=Q(1537),H=Q(2442),xe=Q(8305),ke=Q(1073),Re=Q(9908),De=Q(3754),Le=Q(2317),Ze=Q(7751),de=Q(5044),ue=Q(5160),Ae=Q(4816);function Ge(b){if(b instanceof xe.y)return b;if(null!=b){if((0,ke.c)(b))return function(b){return new xe.y(_=>{const T=b[Ae.L]();if((0,de.m)(T.subscribe))return T.subscribe(_);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(b);if((0,ne.z)(b))return function(b){return new xe.y(_=>{for(let T=0;T<b.length&&!_.closed;T++)_.next(b[T]);_.complete()})}(b);if((0,H.t)(b))return function(b){return new xe.y(_=>{b.then(T=>{_.closed||(_.next(T),_.complete())},T=>_.error(T)).then(null,ue.h)})}(b);if((0,Re.D)(b))return j(b);if((0,Le.T)(b))return function(b){return new xe.y(_=>{for(const T of b)if(_.next(T),_.closed)return;_.complete()})}(b);if((0,Ze.L)(b))return function(b){return j((0,Ze.Q)(b))}(b)}throw(0,De.z)(b)}function j(b){return new xe.y(_=>{(function(b,_){var T,U,X,ae;return(0,r.mG)(this,void 0,void 0,function*(){try{for(T=(0,r.KL)(b);!(U=yield T.next()).done;)if(_.next(U.value),_.closed)return}catch(G){X={error:G}}finally{try{U&&!U.done&&(ae=T.return)&&(yield ae.call(T))}finally{if(X)throw X.error}}_.complete()})})(b,_).catch(T=>_.error(T))})}},3719:(vt,$e,Q)=>{"use strict";Q.d($e,{T:()=>Re});var r=Q(5373),ne=Q(9985),H=Q(5583),xe=Q(8830),ke=Q(5947);function Re(...De){const Le=(0,xe.yG)(De),Ze=(0,xe._6)(De,1/0),de=De;return de.length?1===de.length?(0,ne.Xf)(de[0]):(0,r.J)(Ze)((0,ke.D)(de,Le)):H.E}},8889:(vt,$e,Q)=>{"use strict";Q.d($e,{Q:()=>ne});var r=Q(3113);class ne extends r.Lv{constructor(xe,ke,Re,De,Le){super(xe),this.onFinalize=Le,this._next=ke?function(Ze){try{ke(Ze)}catch(de){xe.error(de)}}:super._next,this._error=De?function(Ze){try{De(Ze)}catch(de){xe.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(Ze){xe.error(Ze)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}},4753:(vt,$e,Q)=>{"use strict";Q.d($e,{U:()=>H});var r=Q(9947),ne=Q(8889);function H(xe,ke){return(0,r.e)((Re,De)=>{let Le=0;Re.subscribe(new ne.Q(De,Ze=>{De.next(xe.call(ke,Ze,Le++))}))})}},5373:(vt,$e,Q)=>{"use strict";Q.d($e,{J:()=>H});var r=Q(5724),ne=Q(4623);function H(xe=1/0){return(0,r.z)(ne.y,xe)}},5724:(vt,$e,Q)=>{"use strict";Q.d($e,{z:()=>Le});var r=Q(4753),ne=Q(9985),H=Q(9947),ke=(Q(8395),Q(8889)),De=Q(5044);function Le(Ze,de,ue=1/0){return(0,De.m)(de)?Le((Ae,Ge)=>(0,r.U)((Ye,O)=>de(Ae,Ye,Ge,O))((0,ne.Xf)(Ze(Ae,Ge))),ue):("number"==typeof de&&(ue=de),(0,H.e)((Ae,Ge)=>function(Ze,de,ue,Ae,Ge,Ye,O,W){const K=[];let j=0,P=0,S=!1;const b=()=>{S&&!K.length&&!j&&de.complete()},_=U=>j<Ae?T(U):K.push(U),T=U=>{j++;let X=!1;(0,ne.Xf)(ue(U,P++)).subscribe(new ke.Q(de,ae=>{de.next(ae)},()=>{X=!0},void 0,()=>{if(X)try{for(j--;K.length&&j<Ae;){const ae=K.shift();T(ae)}b()}catch(ae){de.error(ae)}}))};return Ze.subscribe(new ke.Q(de,_,()=>{S=!0,b()})),()=>{}}(Ae,Ge,Ze,ue)))}},4763:(vt,$e,Q)=>{"use strict";Q.d($e,{Q:()=>xe});var r=Q(8395),ne=Q(9947),H=Q(8889);function xe(ke,Re=0){return(0,ne.e)((De,Le)=>{De.subscribe(new H.Q(Le,Ze=>(0,r.f)(Le,ke,()=>Le.next(Ze),Re),()=>(0,r.f)(Le,ke,()=>Le.complete(),Re),Ze=>(0,r.f)(Le,ke,()=>Le.error(Ze),Re)))})}},3174:(vt,$e,Q)=>{"use strict";Q.d($e,{B:()=>Re});var r=Q(5947),ne=Q(9468),H=Q(273),xe=Q(3113),ke=Q(9947);function Re(Le={}){const{connector:Ze=(()=>new H.x),resetOnError:de=!0,resetOnComplete:ue=!0,resetOnRefCountZero:Ae=!0}=Le;return Ge=>{let Ye=null,O=null,W=null,K=0,j=!1,P=!1;const S=()=>{null==O||O.unsubscribe(),O=null},b=()=>{S(),Ye=W=null,j=P=!1},_=()=>{const T=Ye;b(),null==T||T.unsubscribe()};return(0,ke.e)((T,U)=>{K++,!P&&!j&&S();const X=W=null!=W?W:Ze();U.add(()=>{K--,0===K&&!P&&!j&&(O=De(_,Ae))}),X.subscribe(U),Ye||(Ye=new xe.Hp({next:ae=>X.next(ae),error:ae=>{P=!0,S(),O=De(b,de,ae),X.error(ae)},complete:()=>{j=!0,S(),O=De(b,ue),X.complete()}}),(0,r.D)(T).subscribe(Ye))})(Ge)}}function De(Le,Ze,...de){return!0===Ze?(Le(),null):!1===Ze?null:Ze(...de).pipe((0,ne.q)(1)).subscribe(()=>Le())}},5222:(vt,$e,Q)=>{"use strict";Q.d($e,{R:()=>ne});var r=Q(9947);function ne(H,xe=0){return(0,r.e)((ke,Re)=>{Re.add(H.schedule(()=>ke.subscribe(Re),xe))})}},9468:(vt,$e,Q)=>{"use strict";Q.d($e,{q:()=>xe});var r=Q(5583),ne=Q(9947),H=Q(8889);function xe(ke){return ke<=0?()=>r.E:(0,ne.e)((Re,De)=>{let Le=0;Re.subscribe(new H.Q(De,Ze=>{++Le<=ke&&(De.next(Ze),ke<=Le&&De.complete())}))})}},7384:(vt,$e,Q)=>{"use strict";Q.d($e,{b:()=>ke});var r=Q(5044),ne=Q(9947),H=Q(8889),xe=Q(4623);function ke(Re,De,Le){const Ze=(0,r.m)(Re)||De||Le?{next:Re,error:De,complete:Le}:Re;return Ze?(0,ne.e)((de,ue)=>{var Ae;null===(Ae=Ze.subscribe)||void 0===Ae||Ae.call(Ze);let Ge=!0;de.subscribe(new H.Q(ue,Ye=>{var O;null===(O=Ze.next)||void 0===O||O.call(Ze,Ye),ue.next(Ye)},()=>{var Ye;Ge=!1,null===(Ye=Ze.complete)||void 0===Ye||Ye.call(Ze),ue.complete()},Ye=>{var O;Ge=!1,null===(O=Ze.error)||void 0===O||O.call(Ze,Ye),ue.error(Ye)},()=>{var Ye,O;Ge&&(null===(Ye=Ze.unsubscribe)||void 0===Ye||Ye.call(Ze)),null===(O=Ze.finalize)||void 0===O||O.call(Ze)}))}):xe.y}},2869:(vt,$e,Q)=>{"use strict";Q.d($e,{o:()=>ke});var r=Q(7908);class ne extends r.w0{constructor(De,Le){super()}schedule(De,Le=0){return this}}const H={setInterval(...Re){const{delegate:De}=H;return((null==De?void 0:De.setInterval)||setInterval)(...Re)},clearInterval(Re){const{delegate:De}=H;return((null==De?void 0:De.clearInterval)||clearInterval)(Re)},delegate:void 0};var xe=Q(3980);class ke extends ne{constructor(De,Le){super(De,Le),this.scheduler=De,this.work=Le,this.pending=!1}schedule(De,Le=0){if(this.closed)return this;this.state=De;const Ze=this.id,de=this.scheduler;return null!=Ze&&(this.id=this.recycleAsyncId(de,Ze,Le)),this.pending=!0,this.delay=Le,this.id=this.id||this.requestAsyncId(de,this.id,Le),this}requestAsyncId(De,Le,Ze=0){return H.setInterval(De.flush.bind(De,this),Ze)}recycleAsyncId(De,Le,Ze=0){if(null!=Ze&&this.delay===Ze&&!1===this.pending)return Le;H.clearInterval(Le)}execute(De,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ze=this._execute(De,Le);if(Ze)return Ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,Le){let de,Ze=!1;try{this.work(De)}catch(ue){Ze=!0,de=ue||new Error("Scheduled action threw falsy error")}if(Ze)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:De,scheduler:Le}=this,{actions:Ze}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,xe.P)(Ze,this),null!=De&&(this.id=this.recycleAsyncId(Le,De,null)),this.delay=null,super.unsubscribe()}}}},8843:(vt,$e,Q)=>{"use strict";Q.d($e,{v:()=>H});var r=Q(1733);class ne{constructor(ke,Re=ne.now){this.schedulerActionCtor=ke,this.now=Re}schedule(ke,Re=0,De){return new this.schedulerActionCtor(this,ke).schedule(De,Re)}}ne.now=r.l.now;class H extends ne{constructor(ke,Re=ne.now){super(ke,Re),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ke){const{actions:Re}=this;if(this._active)return void Re.push(ke);let De;this._active=!0;do{if(De=ke.execute(ke.state,ke.delay))break}while(ke=Re.shift());if(this._active=!1,De){for(;ke=Re.shift();)ke.unsubscribe();throw De}}}},2210:(vt,$e,Q)=>{"use strict";Q.d($e,{z:()=>H});var r=Q(2869);const H=new(Q(8843).v)(r.o)},1733:(vt,$e,Q)=>{"use strict";Q.d($e,{l:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},2496:(vt,$e,Q)=>{"use strict";Q.d($e,{z:()=>r});const r={setTimeout(...ne){const{delegate:H}=r;return((null==H?void 0:H.setTimeout)||setTimeout)(...ne)},clearTimeout(ne){const{delegate:H}=r;return((null==H?void 0:H.clearTimeout)||clearTimeout)(ne)},delegate:void 0}},5497:(vt,$e,Q)=>{"use strict";Q.d($e,{h:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(vt,$e,Q)=>{"use strict";Q.d($e,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},8830:(vt,$e,Q)=>{"use strict";Q.d($e,{_6:()=>Re,jO:()=>xe,yG:()=>ke});var r=Q(5044);function H(De){return De[De.length-1]}function xe(De){return(0,r.m)(H(De))?De.pop():void 0}function ke(De){return function(De){return De&&(0,r.m)(De.schedule)}(H(De))?De.pop():void 0}function Re(De,Le){return"number"==typeof H(De)?De.pop():Le}},3980:(vt,$e,Q)=>{"use strict";function r(ne,H){if(ne){const xe=ne.indexOf(H);0<=xe&&ne.splice(xe,1)}}Q.d($e,{P:()=>r})},4893:(vt,$e,Q)=>{"use strict";function r(ne){const xe=ne(ke=>{Error.call(ke),ke.stack=(new Error).stack});return xe.prototype=Object.create(Error.prototype),xe.prototype.constructor=xe,xe}Q.d($e,{d:()=>r})},8706:(vt,$e,Q)=>{"use strict";Q.d($e,{x:()=>H,O:()=>xe});var r=Q(5367);let ne=null;function H(ke){if(r.v.useDeprecatedSynchronousErrorHandling){const Re=!ne;if(Re&&(ne={errorThrown:!1,error:null}),ke(),Re){const{errorThrown:De,error:Le}=ne;if(ne=null,De)throw Le}}else ke()}function xe(ke){r.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=ke)}},8395:(vt,$e,Q)=>{"use strict";function r(ne,H,xe,ke=0,Re=!1){const De=H.schedule(function(){xe(),Re?ne.add(this.schedule(null,ke)):this.unsubscribe()},ke);if(ne.add(De),!Re)return De}Q.d($e,{f:()=>r})},4623:(vt,$e,Q)=>{"use strict";function r(ne){return ne}Q.d($e,{y:()=>r})},1537:(vt,$e,Q)=>{"use strict";Q.d($e,{z:()=>r});const r=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},9908:(vt,$e,Q)=>{"use strict";Q.d($e,{D:()=>ne});var r=Q(5044);function ne(H){return Symbol.asyncIterator&&(0,r.m)(null==H?void 0:H[Symbol.asyncIterator])}},5044:(vt,$e,Q)=>{"use strict";function r(ne){return"function"==typeof ne}Q.d($e,{m:()=>r})},1073:(vt,$e,Q)=>{"use strict";Q.d($e,{c:()=>H});var r=Q(4816),ne=Q(5044);function H(xe){return(0,ne.m)(xe[r.L])}},2317:(vt,$e,Q)=>{"use strict";Q.d($e,{T:()=>H});var r=Q(5497),ne=Q(5044);function H(xe){return(0,ne.m)(null==xe?void 0:xe[r.h])}},2442:(vt,$e,Q)=>{"use strict";Q.d($e,{t:()=>ne});var r=Q(5044);function ne(H){return(0,r.m)(null==H?void 0:H.then)}},7751:(vt,$e,Q)=>{"use strict";Q.d($e,{Q:()=>H,L:()=>xe});var r=Q(9162),ne=Q(5044);function H(ke){return(0,r.FC)(this,arguments,function*(){const De=ke.getReader();try{for(;;){const{value:Le,done:Ze}=yield(0,r.qq)(De.read());if(Ze)return yield(0,r.qq)(void 0);yield yield(0,r.qq)(Le)}}finally{De.releaseLock()}})}function xe(ke){return(0,ne.m)(null==ke?void 0:ke.getReader)}},9947:(vt,$e,Q)=>{"use strict";Q.d($e,{A:()=>ne,e:()=>H});var r=Q(5044);function ne(xe){return(0,r.m)(null==xe?void 0:xe.lift)}function H(xe){return ke=>{if(ne(ke))return ke.lift(function(Re){try{return xe(Re,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5160:(vt,$e,Q)=>{"use strict";Q.d($e,{h:()=>H});var r=Q(5367),ne=Q(2496);function H(xe){ne.z.setTimeout(()=>{const{onUnhandledError:ke}=r.v;if(!ke)throw xe;ke(xe)})}},3754:(vt,$e,Q)=>{"use strict";function r(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d($e,{z:()=>r})},4229:(vt,$e,Q)=>{"use strict";var r=Q(3668);let ne=null;function H(){return ne}const De=new r.OlP("DocumentToken");let Le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return(0,r.LFG)(ue)},providedIn:"platform"}),n})();const de=new r.OlP("Location Initialized");let ue=(()=>{class n extends Le{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const i=H().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=H().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,a){Ae()?this._history.pushState(t,i,a):this.location.hash=a}replaceState(t,i,a){Ae()?this._history.replaceState(t,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(De))},n.\u0275prov=r.Yz7({token:n,factory:function(){return new ue((0,r.LFG)(De))},providedIn:"platform"}),n})();function Ae(){return!!window.history.pushState}function Ye(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function O(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function W(n){return n&&"?"!==n[0]?"?"+n:n}let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return function(n){const e=(0,r.LFG)(De).location;return new S((0,r.LFG)(Le),e&&e.origin||"")}()},providedIn:"root"}),n})();const P=new r.OlP("appBaseHref");let S=(()=>{class n extends K{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ye(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+W(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${i}${a}`:i}pushState(t,i,a,u){const h=this.prepareExternalUrl(a+W(u));this._platformLocation.pushState(t,i,h)}replaceState(t,i,a,u){const h=this.prepareExternalUrl(a+W(u));this._platformLocation.replaceState(t,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,a;null==(a=(i=this._platformLocation).historyGo)||a.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Le),r.LFG(P,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),b=(()=>{class n extends K{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ye(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,a,u){let h=this.prepareExternalUrl(a+W(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,i,h)}replaceState(t,i,a,u){let h=this.prepareExternalUrl(a+W(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,a;null==(a=(i=this._platformLocation).historyGo)||a.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Le),r.LFG(P,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),_=(()=>{class n{constructor(t,i){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=O(X(a)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+W(i))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,X(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",a=null){this._platformStrategy.pushState(a,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+W(i)),a)}replaceState(t,i="",a=null){this._platformStrategy.replaceState(a,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+W(i)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,a;null==(a=(i=this._platformStrategy).historyGo)||a.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(a=>a(t,i))}subscribe(t,i,a){return this._subject.subscribe({next:t,error:i,complete:a})}}return n.normalizeQueryParams=W,n.joinWithSlash=Ye,n.stripTrailingSlash=O,n.\u0275fac=function(t){return new(t||n)(r.LFG(K),r.LFG(Le))},n.\u0275prov=r.Yz7({token:n,factory:function(){return new _((0,r.LFG)(K),(0,r.LFG)(Le))},providedIn:"root"}),n})();function X(n){return n.replace(/\/index.html$/,"")}var ee=(()=>((ee=ee||{})[ee.Zero=0]="Zero",ee[ee.One=1]="One",ee[ee.Two=2]="Two",ee[ee.Few=3]="Few",ee[ee.Many=4]="Many",ee[ee.Other=5]="Other",ee))();const Je=r.kL8;class Ur{}let Ln=(()=>{class n extends Ur{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(Je(i||this.locale)(t)){case ee.Zero:return"zero";case ee.One:return"one";case ee.Two:return"two";case ee.Few:return"few";case ee.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.soG))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class od{constructor(e,t,i,a){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ns=(()=>{class n{constructor(t,i,a){this._viewContainer=t,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=[];t.forEachOperation((a,u,h)=>{if(null==a.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new od(null,this._ngForOf,-1,-1),null===h?void 0:h),C=new uo(a,g);i.push(C)}else if(null==h)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const g=this._viewContainer.get(u);this._viewContainer.move(g,h);const C=new uo(a,g);i.push(C)}});for(let a=0;a<i.length;a++)this._perViewChange(i[a].view,i[a].record);for(let a=0,u=this._viewContainer.length;a<u;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=u,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,i){t.context.$implicit=i.item}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class uo{constructor(e,t){this.record=e,this.view=t}}let lr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Ml,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ns("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ns("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.s_b),r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ml{constructor(){this.$implicit=null,this.ngIf=null}}function Ns(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let pa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:Ur,useClass:Ln}]}),n})();function Tr(n){return"server"===n}let Yc=(()=>{class n{}return n.\u0275prov=(0,r.Yz7)({token:n,providedIn:"root",factory:()=>new Us((0,r.LFG)(De),window)}),n})();class Us{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const u=a.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}a=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],a-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Gh(this.window.history)||Gh(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Gh(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Er extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Er,ne||(ne=n)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(os=os||document.querySelector("base"),os?os.getAttribute("href"):null);return null==t?null:function(n){Xi=Xi||document.createElement("a"),Xi.setAttribute("href",n);const e=Xi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){os=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[a,u]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(a.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Xi,os=null;const ga=new r.OlP("TRANSITION_ID"),En=[{provide:r.ip1,useFactory:function(n,e,t){return()=>{t.get(r.CZH).donePromise.then(()=>{const i=H(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<a.length;u++)i.remove(a[u])})}},deps:[ga,De,r.zs3],multi:!0}];class Nl{static init(){(0,r.VLi)(new Nl)}addToWindow(e){r.dqk.getAngularTestability=(i,a=!0)=>{const u=e.findTestabilityInTree(i,a);if(null==u)throw new Error("Could not find testability for element.");return u},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(i=>{const a=r.dqk.getAllAngularTestabilities();let u=a.length,h=!1;const g=function(C){h=h||C,u--,0==u&&i(h)};a.forEach(function(C){C.whenStable(g)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:i?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let go=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const ls=new r.OlP("EventManagerPlugins");let $n=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,a){return this._findPluginFor(i).addEventListener(t,i,a)}addGlobalEventListener(t,i,a){return this._findPluginFor(i).addGlobalEventListener(t,i,a)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const a=this._plugins;for(let u=0;u<a.length;u++){const h=a[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(ls),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Fo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const a=H().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,i)}}let mo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Mi=(()=>{class n extends mo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,a){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,a.push(i.appendChild(h))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(_a),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(t,a,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(_a))}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(De))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function _a(n){H().remove(n)}const Zs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zl=/%COMP%/g;function Vs(n,e,t){for(let i=0;i<e.length;i++){let a=e[i];Array.isArray(a)?Vs(n,a,t):(a=a.replace(Zl,n),t.push(a))}return t}function Ir(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Zo=(()=>{class n{constructor(t,i,a){this.eventManager=t,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new _o(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case r.ifc.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new Bl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(t),a}case 1:case r.ifc.ShadowDom:return new va(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const a=Vs(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(r.LFG($n),r.LFG(Mi),r.LFG(r.AFp))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class _o{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Zs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,a){if(a){t=a+":"+t;const u=Zs[a];u?e.setAttributeNS(u,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const a=Zs[i];a?e.removeAttributeNS(a,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,a){a&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,i,a&r.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ir(i)):this.eventManager.addEventListener(e,t,Ir(i))}}class Bl extends _o{constructor(e,t,i,a){super(e),this.component=i;const u=Vs(a+"-"+i.id,i.styles,[]);t.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(Zl,a+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Zl,n)}(a+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class va extends _o{constructor(e,t,i,a){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Vs(a.id,a.styles,[]);for(let h=0;h<u.length;h++){const g=document.createElement("style");g.textContent=u[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nu=(()=>{class n extends Fo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,a){return t.addEventListener(i,a,!1),()=>this.removeEventListener(t,i,a)}removeEventListener(t,i,a){return t.removeEventListener(i,a)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(De))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const al=["alt","control","meta","shift"],vo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Un={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bd=(()=>{class n extends Fo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,a){const u=n.parseEventName(i),h=n.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const i=t.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const u=n._normalizeKey(i.pop());let h="";if(al.forEach(C=>{const A=i.indexOf(C);A>-1&&(i.splice(A,1),h+=C+".")}),h+=u,0!=i.length||0===u.length)return null;const g={};return g.domEventName=a,g.fullKey=h,g}static getEventFullKey(t){let i="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Un.hasOwnProperty(e)&&(e=Un[e]))}return vo[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),al.forEach(u=>{u!=a&&Qh[u](t)&&(i+=u+".")}),i+=a,i}static eventCallback(t,i,a){return u=>{n.getEventFullKey(u)===t&&a.runGuarded(()=>i(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(De))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Ca=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Er.makeCurrent(),Nl.init()},multi:!0},{provide:De,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),Cd=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:ls,useClass:nu,multi:!0,deps:[De,r.R0b,r.Lbi]},{provide:ls,useClass:bd,multi:!0,deps:[De]},[],{provide:Zo,useClass:Zo,deps:[$n,Mi,r.AFp]},{provide:r.FYo,useExisting:Zo},{provide:mo,useExisting:Mi},{provide:Mi,useClass:Mi,deps:[De]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:$n,useClass:$n,deps:[ls,r.R0b]},{provide:class{},useClass:go,deps:[]},[]];let $l=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:r.AFp,useValue:t.appId},{provide:ga,useExisting:r.AFp},En]}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(n,12))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:Cd,imports:[pa,r.hGG]}),n})();"undefined"!=typeof window&&window;var Vn=Q(5947),Br=Q(8830);function Ft(...n){const e=(0,Br.yG)(n);return(0,Vn.D)(n,e)}var Ar=Q(273);class Pi extends Ar.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var bi=Q(8305);const{isArray:ef}=Array,{getPrototypeOf:ws,prototype:au,keys:Id}=Object;function $o(n){if(1===n.length){const e=n[0];if(ef(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&ws(n)===au}(e)){const t=Id(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var bo=Q(4623),$t=Q(4753);const{isArray:zo}=Array;function lu(n){return(0,$t.U)(e=>function(n,e){return zo(e)?n(...e):n(e)}(n,e))}function li(n,e){return n.reduce((t,i,a)=>(t[i]=e[a],t),{})}var fi=Q(8889),wa=Q(8395);function Go(n,e,t){n?(0,wa.f)(t,n,e):e()}const Ts=(0,Q(4893).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Es=Q(5373);function Vr(...n){return(0,Es.J)(1)((0,Vn.D)(n,(0,Br.yG)(n)))}var Ea=Q(9985);function Jl(n){return new bi.y(e=>{(0,Ea.Xf)(n()).subscribe(e)})}var Ia=Q(5583),ul=Q(7908),cr=Q(9947);function Qn(){return(0,cr.e)((n,e)=>{let t=null;n._refCount++;const i=new fi.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const a=n._connection,u=t;t=null,a&&(!u||a===u)&&a.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class dg extends bi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,cr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ul.w0;const t=this.getSubject();e.add(this.source.subscribe(new fi.Q(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ul.w0.EMPTY)}return e}refCount(){return Qn()(this)}}function Ri(n,e){return(0,cr.e)((t,i)=>{let a=null,u=0,h=!1;const g=()=>h&&!a&&i.complete();t.subscribe(new fi.Q(i,C=>{null==a||a.unsubscribe();let A=0;const L=u++;(0,Ea.Xf)(n(C,L)).subscribe(a=new fi.Q(i,B=>i.next(e?e(C,B,L,A++):B),()=>{a=null,g()}))},()=>{h=!0,g()}))})}var uu=Q(9468);function Xl(...n){const e=(0,Br.yG)(n);return(0,cr.e)((t,i)=>{(e?Vr(n,t,e):Vr(n,t)).subscribe(i)})}function nf(n,e,t,i,a){return(u,h)=>{let g=t,C=e,A=0;u.subscribe(new fi.Q(h,L=>{const B=A++;C=g?n(C,L,B):(g=!0,L),i&&h.next(C)},a&&(()=>{g&&h.next(C),h.complete()})))}}function du(n,e){return(0,cr.e)(nf(n,e,arguments.length>=2,!0))}function Hs(n,e){return(0,cr.e)((t,i)=>{let a=0;t.subscribe(new fi.Q(i,u=>n.call(e,u,a++)&&i.next(u)))})}function qr(n){return(0,cr.e)((e,t)=>{let u,i=null,a=!1;i=e.subscribe(new fi.Q(t,void 0,void 0,h=>{u=(0,Ea.Xf)(n(h,qr(n)(e))),i?(i.unsubscribe(),i=null,u.subscribe(t)):a=!0})),a&&(i.unsubscribe(),i=null,u.subscribe(t))})}var tr=Q(5724),pi=Q(5044);function js(n,e){return(0,pi.m)(e)?(0,tr.z)(n,e,1):(0,tr.z)(n,1)}function Aa(n){return n<=0?()=>Ia.E:(0,cr.e)((e,t)=>{let i=[];e.subscribe(new fi.Q(t,a=>{i.push(a),n<i.length&&i.shift()},()=>{for(const a of i)t.next(a);t.complete()},void 0,()=>{i=null}))})}function Ad(n=xd){return(0,cr.e)((e,t)=>{let i=!1;e.subscribe(new fi.Q(t,a=>{i=!0,t.next(a)},()=>i?t.complete():t.error(n())))})}function xd(){return new Ts}function ur(n){return(0,cr.e)((e,t)=>{let i=!1;e.subscribe(new fi.Q(t,a=>{i=!0,t.next(a)},()=>{i||t.next(n),t.complete()}))})}function xr(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Hs((a,u)=>n(a,u,i)):bo.y,(0,uu.q)(1),t?ur(e):Ad(()=>new Ts))}var gi=Q(7384);function dr(n){return(0,cr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class cs{constructor(e,t){this.id=e,this.url=t}}class Ko extends cs{constructor(e,t,i="imperative",a=null){super(e,t),this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xa extends cs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hu extends cs{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dd extends cs{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rf extends cs{constructor(e,t,i,a){super(e,t),this.urlAfterRedirects=i,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hr extends cs{constructor(e,t,i,a){super(e,t),this.urlAfterRedirects=i,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fu extends cs{constructor(e,t,i,a,u){super(e,t),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Da extends cs{constructor(e,t,i,a){super(e,t),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hg extends cs{constructor(e,t,i,a){super(e,t),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wo{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sf{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yo{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const nn="primary";class Sa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function To(n){return new Sa(n)}const ka="ngNavigationCancelingError";function Qo(n){const e=Error("NavigationCancelingError: "+n);return e[ka]=!0,e}function D(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const a={};for(let u=0;u<i.length;u++){const h=i[u],g=n[u];if(h.startsWith(":"))a[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,i.length),posParams:a}}function V(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let a;for(let u=0;u<t.length;u++)if(a=t[u],!ie(n[a],e[a]))return!1;return!0}function ie(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((a,u)=>i[u]===a)}return n===e}function Ee(n){return Array.prototype.concat.apply([],n)}function Ue(n){return n.length>0?n[n.length-1]:null}function dt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function it(n){return(0,r.CqO)(n)?n:(0,r.QGY)(n)?(0,Vn.D)(Promise.resolve(n)):Ft(n)}const zn={exact:function Eo(n,e,t){if(!$s(n.segments,e.segments)||!$r(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Eo(n.children[i],e.children[i],t))return!1;return!0},subset:hr},ni={exact:function(n,e){return V(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ie(n[t],e[t]))},ignored:()=>!0};function Li(n,e,t){return zn[t.paths](n.root,e.root,t.matrixParams)&&ni[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function hr(n,e,t){return Vi(n,e,e.segments,t)}function Vi(n,e,t,i){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!$s(a,t)||e.hasChildren()||!$r(a,t,i))}if(n.segments.length===t.length){if(!$s(n.segments,t)||!$r(n.segments,t,i))return!1;for(const a in e.children)if(!n.children[a]||!hr(n.children[a],e.children[a],i))return!1;return!0}{const a=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!($s(n.segments,a)&&$r(n.segments,a,i)&&n.children[nn])&&Vi(n.children[nn],e,u,i)}}function $r(n,e,t){return e.every((i,a)=>ni[t](n[a].parameters,i.parameters))}class Ni{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=To(this.queryParams)),this._queryParamMap}toString(){return Oa.serialize(this)}}class bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,dt(t,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pa(this)}}class Ma{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=To(this.parameters)),this._parameterMap}toString(){return Od(this)}}function $s(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class fg{}class pg{parse(e){const t=new df(e);return new Ni(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${mu(e.root,!0)}`,i=function(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(a=>`${_u(t)}=${_u(a)}`).join("&"):`${_u(t)}=${_u(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${i}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Oa=new pg;function Pa(n){return n.segments.map(e=>Od(e)).join("/")}function mu(n,e){if(!n.hasChildren())return Pa(n);if(e){const t=n.children[nn]?mu(n.children[nn],!1):"",i=[];return dt(n.children,(a,u)=>{u!==nn&&i.push(`${u}:${mu(a,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(n,e){let t=[];return dt(n.children,(i,a)=>{a===nn&&(t=t.concat(e(i,a)))}),dt(n.children,(i,a)=>{a!==nn&&(t=t.concat(e(i,a)))}),t}(n,(i,a)=>a===nn?[mu(n.children[nn],!1)]:[`${a}:${mu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nn]?`${Pa(n)}/${t[0]}`:`${Pa(n)}/(${t.join("//")})`}}function cf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _u(n){return cf(n).replace(/%3B/gi,";")}function Sd(n){return cf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kd(n){return decodeURIComponent(n)}function Md(n){return kd(n.replace(/\+/g,"%20"))}function Od(n){return`${Sd(n.path)}${function(n){return Object.keys(n).map(e=>`;${Sd(e)}=${Sd(n[e])}`).join("")}(n.parameters)}`}const Ra=/^[^\/()?;=#]+/;function Rd(n){const e=n.match(Ra);return e?e[0]:""}const gg=/^[^=?&#]+/,yu=/^[^&#]+/;class df{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[nn]=new bn(e,t)),i}parseSegment(){const e=Rd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ma(kd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Rd(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=Rd(this.remaining);a&&(i=a,this.capture(i))}e[kd(t)]=kd(i)}parseQueryParam(e){const t=function(n){const e=n.match(gg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(yu);return e?e[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const a=Md(t),u=Md(i);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(u)}else e[a]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Rd(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let u;i.indexOf(":")>-1?(u=i.substr(0,i.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=nn);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[nn]:new bn([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class vu{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ld(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Ld(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Jo(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Jo(e,this._root).map(t=>t.value)}}function Ld(n,e){if(n===e.value)return e;for(const t of e.children){const i=Ld(n,t);if(i)return i}return null}function Jo(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Jo(n,t);if(i.length)return i.unshift(e),i}return[]}class Xo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function La(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class mg extends vu{constructor(e,t){super(e),this.snapshot=t,hf(this,e)}toString(){return this.snapshot.toString()}}function _g(n,e){const t=function(n,e){const h=new Nd([],{},{},"",{},nn,e,null,n.root,-1,{});return new bg("",new Xo(h,[]))}(n,e),i=new Pi([new Ma("",{})]),a=new Pi({}),u=new Pi({}),h=new Pi({}),g=new Pi(""),C=new qi(i,a,h,g,u,nn,e,t.root);return C.snapshot=t.root,new mg(new Xo(C,[]),t)}class qi{constructor(e,t,i,a,u,h,g,C){this.url=e,this.params=t,this.queryParams=i,this.fragment=a,this.data=u,this.outlet=h,this.component=g,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$t.U)(e=>To(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$t.U)(e=>To(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Io(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const a=t[i],u=t[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(u.component)break;i--}}return function(n){return n.reduce((e,t)=>({params:Lt(Lt({},e.params),t.params),data:Lt(Lt({},e.data),t.data),resolve:Lt(Lt({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Nd{constructor(e,t,i,a,u,h,g,C,A,L,B){this.url=e,this.params=t,this.queryParams=i,this.fragment=a,this.data=u,this.outlet=h,this.component=g,this.routeConfig=C,this._urlSegment=A,this._lastPathIndex=L,this._resolve=B}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=To(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=To(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bg extends vu{constructor(e,t){super(t),this.url=e,hf(this,t)}toString(){return Cg(this._root)}}function hf(n,e){e.value._routerState=n,e.children.forEach(t=>hf(n,t))}function Cg(n){const e=n.children.length>0?` { ${n.children.map(Cg).join(", ")} } `:"";return`${n.value}${e}`}function ff(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,V(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),V(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!V(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),V(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fd(n,e){const t=V(n.params,e.params)&&function(n,e){return $s(n,e)&&n.every((t,i)=>V(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Fd(n.parent,e.parent))}function fl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(i=>{for(const a of t.children)if(n.shouldReuseRoute(i.value,a.value.snapshot))return fl(n,i,a);return fl(n,i)})}(n,e,t);return new Xo(i,a)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(g=>fl(n,g)),h}}const i=function(n){return new qi(new Pi(n.url),new Pi(n.params),new Pi(n.queryParams),new Pi(n.fragment),new Pi(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(u=>fl(n,u));return new Xo(i,a)}}function Ud(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ea(n){return"object"==typeof n&&null!=n&&n.outlets}function bu(n,e,t,i,a){let u={};return i&&dt(i,(h,g)=>{u[g]=Array.isArray(h)?h.map(C=>`${C}`):`${h}`}),new Ni(t.root===n?e:zs(t.root,n,e),u,a)}function zs(n,e,t){const i={};return dt(n.children,(a,u)=>{i[u]=a===e?t:zs(a,e,t)}),new bn(n.segments,i)}class nc{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ud(i[0]))throw new Error("Root segment cannot have matrix parameters");const a=i.find(ea);if(a&&a!==Ue(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zd{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ay(n,e,t){if(n||(n=new bn([],{})),0===n.segments.length&&n.hasChildren())return pl(n,e,t);const i=function(n,e,t){let i=0,a=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(i>=t.length)return u;const h=n.segments[a],g=t[i];if(ea(g))break;const C=`${g}`,A=i<t.length-1?t[i+1]:null;if(a>0&&void 0===C)break;if(C&&A&&"object"==typeof A&&void 0===A.outlets){if(!Vd(C,A,h))return u;i+=2}else{if(!Vd(C,{},h))return u;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(n,e,t),a=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const u=new bn(n.segments.slice(0,i.pathIndex),{});return u.children[nn]=new bn(n.segments.slice(i.pathIndex),n.children),pl(u,0,a)}return i.match&&0===a.length?new bn(n.segments,{}):i.match&&!n.hasChildren()?gl(n,e,t):i.match?pl(n,0,a):gl(n,e,t)}function pl(n,e,t){if(0===t.length)return new bn(n.segments,{});{const i=function(n){return ea(n[0])?n[0].outlets:{[nn]:n}}(t),a={};return dt(i,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(a[h]=ay(n.children[h],e,u))}),dt(n.children,(u,h)=>{void 0===i[h]&&(a[h]=u)}),new bn(n.segments,a)}}function gl(n,e,t){const i=n.segments.slice(0,e);let a=0;for(;a<t.length;){const u=t[a];if(ea(u)){const C=cC(u.outlets);return new bn(i,C)}if(0===a&&Ud(t[0])){i.push(new Ma(n.segments[e].path,Eg(t[0]))),a++;continue}const h=ea(u)?u.outlets[nn]:`${u}`,g=a<t.length-1?t[a+1]:null;h&&g&&Ud(g)?(i.push(new Ma(h,Eg(g))),a+=2):(i.push(new Ma(h,{})),a++)}return new bn(i,{})}function cC(n){const e={};return dt(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=gl(new bn([],{}),0,t))}),e}function Eg(n){const e={};return dt(n,(t,i)=>e[i]=`${t}`),e}function Vd(n,e,t){return n==t.path&&V(e,t.parameters)}class cy{constructor(e,t,i,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=a}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ff(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const a=La(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,a[h],i),delete a[h]}),dt(a,(u,h)=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(e,t,i){const a=e.value,u=t?t.value:null;if(a===u)if(a.component){const h=i.getContext(a.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,i);else u&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),a=i&&e.value.component?i.children:t,u=La(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],a);if(i&&i.outlet){const h=i.outlet.detach(),g=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),a=i&&e.value.component?i.children:t,u=La(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const a=La(t);e.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],i),this.forwardEvent(new gu(u.value.snapshot))}),e.children.length&&this.forwardEvent(new pu(e.value.snapshot))}activateRoutes(e,t,i){const a=e.value,u=t?t.value:null;if(ff(a),a===u)if(a.component){const h=i.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,i);else if(a.component){const h=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const g=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),ff(g.route.value),this.activateChildRoutes(e,null,h.children)}else{const g=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),C=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=C,h.outlet&&h.outlet.activateWith(a,C),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,i)}}class Ig{constructor(e,t){this.routes=e,this.module=t}}function w(n){return"function"==typeof n}function y(n){return n instanceof Ni}const je=Symbol("INITIAL_VALUE");function ft(){return Ri(n=>function(...n){const e=(0,Br.yG)(n),t=(0,Br.jO)(n),{args:i,keys:a}=$o(n);if(0===i.length)return(0,Vn.D)([],e);const u=new bi.y(function(n,e,t=bo.y){return i=>{Go(e,()=>{const{length:a}=n,u=new Array(a);let h=a,g=a;for(let C=0;C<a;C++)Go(e,()=>{const A=(0,Vn.D)(n[C],e);let L=!1;A.subscribe(new fi.Q(i,B=>{u[C]=B,L||(L=!0,g--),g||i.next(t(u.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,e,a?h=>li(a,h):bo.y));return t?u.pipe(lu(t)):u}(n.map(e=>e.pipe((0,uu.q)(1),Xl(je)))).pipe(du((e,t)=>{let i=!1;return t.reduce((a,u,h)=>a!==je?a:(u===je&&(i=!0),i||!1!==u&&h!==t.length-1&&!y(u)?a:u),e)},je),Hs(e=>e!==je),(0,$t.U)(e=>y(e)?e:!0===e),(0,uu.q)(1)))}class ot{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ut,this.attachRef=null}}class Ut{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ot,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Sn=(()=>{class n{constructor(t,i,a,u,h){this.parentContexts=t,this.location=i,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.attachEvents=new r.vpe,this.detachEvents=new r.vpe,this.name=u||nn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,C=new Wn(t,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Ut),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Wn{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===qi?this.route:e===Ut?this.childContexts:this.parent.get(e,t)}}let fr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&r._UZ(0,"router-outlet")},directives:[Sn],encapsulation:2}),n})();function ta(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];gf(i,Ag(e,i))}}function gf(n,e){n.children&&ta(n.children,e)}function Ag(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Na(n){const e=n.children&&n.children.map(Na),t=e?es(Lt({},n),{children:e}):Lt({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nn&&(t.component=fr),t}function Gn(n){return n.outlet||nn}function ic(n,e){const t=n.filter(i=>Gn(i)===e);return t.push(...n.filter(i=>Gn(i)!==e)),t}const qd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function rc(n,e,t){var g;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Lt({},qd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||D)(t,n,e);if(!a)return Lt({},qd);const u={};dt(a.posParams,(C,A)=>{u[A]=C.path});const h=a.consumed.length>0?Lt(Lt({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:h,positionalParamSegments:null!=(g=a.posParams)?g:{}}}function wi(n,e,t,i,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(i=>yf(n,e,i)&&Gn(i)!==nn)}(n,t,i)){const h=new bn(e,function(n,e,t,i){const a={};a[nn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Gn(u)!==nn){const h=new bn([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[Gn(u)]=h}return a}(n,e,i,new bn(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(i=>yf(n,e,i))}(n,t,i)){const h=new bn(n.segments,function(n,e,t,i,a,u){const h={};for(const g of i)if(yf(n,t,g)&&!a[Gn(g)]){const C=new bn([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[Gn(g)]=C}return Lt(Lt({},a),h)}(n,e,t,i,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new bn(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function yf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function uC(n,e,t,i){return!!(Gn(n)===i||i!==nn&&yf(e,t,n))&&("**"===n.path||rc(e,n,t).matched)}function hy(n,e,t){return 0===e.length&&!n.children[t]}class vf{constructor(e){this.segmentGroup=e||null}}class fy{constructor(e){this.urlTree=e}}function xg(n){return new bi.y(e=>e.error(new vf(n)))}function dC(n){return new bi.y(e=>e.error(new fy(n)))}function $I(n){return new bi.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class fC{constructor(e,t,i,a,u){this.configLoader=t,this.urlSerializer=i,this.urlTree=a,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=wi(this.urlTree.root,[],[],this.config).segmentGroup,t=new bn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,nn).pipe((0,$t.U)(u=>this.createUrlTree(pC(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qr(u=>{if(u instanceof fy)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof vf?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,nn).pipe((0,$t.U)(a=>this.createUrlTree(pC(a),e.queryParams,e.fragment))).pipe(qr(a=>{throw a instanceof vf?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const a=e.segments.length>0?new bn([],{[nn]:e}):e;return new Ni(a,t,i)}expandSegmentGroup(e,t,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,$t.U)(u=>new bn([],u))):this.expandSegment(e,i,t,i.segments,a,!0)}expandChildren(e,t,i){const a=[];for(const u of Object.keys(i.children))"primary"===u?a.unshift(u):a.push(u);return(0,Vn.D)(a).pipe(js(u=>{const h=i.children[u],g=ic(t,u);return this.expandSegmentGroup(e,g,h,u).pipe((0,$t.U)(C=>({segment:C,outlet:u})))}),du((u,h)=>(u[h.outlet]=h.segment,u),{}),function(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Hs((a,u)=>n(a,u,i)):bo.y,Aa(1),t?ur(e):Ad(()=>new Ts))}())}expandSegment(e,t,i,a,u,h){return(0,Vn.D)(i).pipe(js(g=>this.expandSegmentAgainstRoute(e,t,i,g,a,u,h).pipe(qr(A=>{if(A instanceof vf)return Ft(null);throw A}))),xr(g=>!!g),qr((g,C)=>{if(g instanceof Ts||"EmptyError"===g.name){if(hy(t,a,u))return Ft(new bn([],{}));throw new vf(t)}throw g}))}expandSegmentAgainstRoute(e,t,i,a,u,h,g){return uC(a,t,u,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,u,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,a,u,h):xg(t):xg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,a,u,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,a,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,a){const u=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?dC(u):this.lineralizeSegments(i,u).pipe((0,tr.z)(h=>{const g=new bn(h,{});return this.expandSegment(e,g,t,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,a,u,h){const{matched:g,consumedSegments:C,lastChild:A,positionalParamSegments:L}=rc(t,a,u);if(!g)return xg(t);const B=this.applyRedirectCommands(C,a.redirectTo,L);return a.redirectTo.startsWith("/")?dC(B):this.lineralizeSegments(a,B).pipe((0,tr.z)(re=>this.expandSegment(e,t,i,re.concat(u.slice(A)),h,!1)))}matchSegmentAgainstRoute(e,t,i,a,u){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Ft(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,$t.U)(re=>(i._loadedConfig=re,new bn(a,{})))):Ft(new bn(a,{}));const{matched:h,consumedSegments:g,lastChild:C}=rc(t,i,a);if(!h)return xg(t);const A=a.slice(C);return this.getChildConfig(e,i,a).pipe((0,tr.z)(B=>{const re=B.module,he=B.routes,{segmentGroup:Ce,slicedSegments:Ve}=wi(t,g,A,he),Ke=new bn(Ce.segments,Ce.children);if(0===Ve.length&&Ke.hasChildren())return this.expandChildren(re,he,Ke).pipe((0,$t.U)(yt=>new bn(g,yt)));if(0===he.length&&0===Ve.length)return Ft(new bn(g,{}));const At=Gn(i)===u;return this.expandSegment(re,Ke,he,Ve,At?nn:u,!0).pipe((0,$t.U)(Vt=>new bn(g.concat(Vt.segments),Vt.children)))}))}getChildConfig(e,t,i){return t.children?Ft(new Ig(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ft(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,tr.z)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,$t.U)(u=>(t._loadedConfig=u,u))):(n=t,new bi.y(e=>e.error(Qo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):Ft(new Ig([],e))}runCanLoadGuards(e,t,i){const a=t.canLoad;return a&&0!==a.length?Ft(a.map(h=>{const g=e.get(h);let C;if((n=g)&&w(n.canLoad))C=g.canLoad(t,i);else{if(!w(g))throw new Error("Invalid CanLoad guard");C=g(t,i)}var n;return it(C)})).pipe(ft(),(0,gi.b)(h=>{if(!y(h))return;const g=Qo(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,$t.U)(h=>!0===h)):Ft(!0)}lineralizeSegments(e,t){let i=[],a=t.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return Ft(i);if(a.numberOfChildren>1||!a.children[nn])return $I(e.redirectTo);a=a.children[nn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,a){const u=this.createSegmentGroup(e,t.root,i,a);return new Ni(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return dt(e,(a,u)=>{if("string"==typeof a&&a.startsWith(":")){const g=a.substring(1);i[u]=t[g]}else i[u]=a}),i}createSegmentGroup(e,t,i,a){const u=this.createSegments(e,t.segments,i,a);let h={};return dt(t.children,(g,C)=>{h[C]=this.createSegmentGroup(e,g,i,a)}),new bn(u,h)}createSegments(e,t,i,a){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,a):this.findOrReturn(u,i))}findPosParam(e,t,i){const a=i[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let i=0;for(const a of t){if(a.path===e.path)return t.splice(i),a;i++}return e}}function pC(n){const e={};for(const i of Object.keys(n.children)){const u=pC(n.children[i]);(u.segments.length>0||u.hasChildren())&&(e[i]=u)}return function(n){if(1===n.numberOfChildren&&n.children[nn]){const e=n.children[nn];return new bn(n.segments.concat(e.segments),e.children)}return n}(new bn(n.segments,e))}class bf{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Dg{constructor(e,t){this.component=e,this.route=t}}function WI(n,e,t){const i=n._root;return Cf(i,e?e._root:null,t,[i.value])}function Sg(n,e,t){const i=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Cf(n,e,t,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=La(e);return n.children.forEach(h=>{(function(n,e,t,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const C=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!$s(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$s(n.url,e.url)||!V(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fd(n,e)||!V(n.queryParams,e.queryParams);default:return!Fd(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);C?a.canActivateChecks.push(new bf(i)):(u.data=h.data,u._resolvedData=h._resolvedData),Cf(n,e,u.component?g?g.children:null:t,i,a),C&&g&&g.outlet&&g.outlet.isActivated&&a.canDeactivateChecks.push(new Dg(g.outlet.component,h))}else h&&oc(e,g,a),a.canActivateChecks.push(new bf(i)),Cf(n,null,u.component?g?g.children:null:t,i,a)})(h,u[h.value.outlet],t,i.concat([h.value]),a),delete u[h.value.outlet]}),dt(u,(h,g)=>oc(h,t.getContext(g),a)),a}function oc(n,e,t){const i=La(n),a=n.value;dt(i,(u,h)=>{oc(u,a.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Dg(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class jd{}function na(n){return new bi.y(e=>e.error(n))}class jO{constructor(e,t,i,a,u,h){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=wi(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,nn);if(null===t)return null;const i=new Nd([],Object.freeze({}),Object.freeze(Lt({},this.urlTree.queryParams)),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Xo(i,t),u=new bg(this.url,a);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,i=Io(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const u of Object.keys(t.children)){const h=t.children[u],g=ic(e,u),C=this.processSegmentGroup(g,h,u);if(null===C)return null;i.push(...C)}const a=kg(i);return a.sort((e,t)=>e.value.outlet===nn?-1:t.value.outlet===nn?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,i,a){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,i,a);if(null!==h)return h}return hy(t,i,a)?[]:null}processSegmentAgainstRoute(e,t,i,a){if(e.redirectTo||!uC(e,t,i,a))return null;let u,h=[],g=[];if("**"===e.path){const he=i.length>0?Ue(i).parameters:{};u=new Nd(i,he,Object.freeze(Lt({},this.urlTree.queryParams)),this.urlTree.fragment,$d(e),Gn(e),e.component,e,CC(t),gy(t)+i.length,my(e))}else{const he=rc(t,e,i);if(!he.matched)return null;h=he.consumedSegments,g=i.slice(he.lastChild),u=new Nd(h,he.parameters,Object.freeze(Lt({},this.urlTree.queryParams)),this.urlTree.fragment,$d(e),Gn(e),e.component,e,CC(t),gy(t)+h.length,my(e))}const C=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:L}=wi(t,h,g,C.filter(he=>void 0===he.redirectTo),this.relativeLinkResolution);var n;if(0===L.length&&A.hasChildren()){const he=this.processChildren(C,A);return null===he?null:[new Xo(u,he)]}if(0===C.length&&0===L.length)return[new Xo(u,[])];const B=Gn(e)===a,re=this.processSegment(C,A,L,B?nn:a);return null===re?null:[new Xo(u,re)]}}function Fa(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function kg(n){const e=[],t=new Set;for(const i of n){if(!Fa(i)){e.push(i);continue}const a=e.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==a?(a.children.push(...i.children),t.add(a)):e.push(i)}for(const i of t){const a=kg(i.children);e.push(new Xo(i.value,a))}return e.filter(i=>!t.has(i))}function CC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gy(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function $d(n){return n.data||{}}function my(n){return n.resolve||{}}function ac(n){return Ri(e=>{const t=n(e);return t?(0,Vn.D)(t).pipe((0,$t.U)(()=>e)):Ft(e)})}class nA extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const wf=new r.OlP("ROUTES");class IC{constructor(e,t,i,a){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,$t.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=u.create(e);return new Ig(Ee(h.injector.get(wf,void 0,r.XFs.Self|r.XFs.Optional)).map(Na),h)}),qr(u=>{throw t._loader$=void 0,u}));return t._loader$=new dg(a,()=>new Ar.x).pipe(Qn()),t._loader$}loadModuleFactory(e){return it(e()).pipe((0,tr.z)(t=>t instanceof r.YKP?Ft(t):(0,Vn.D)(this.compiler.compileModuleAsync(t))))}}class rA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function sA(n){throw n}function oA(n,e,t){return e.parse("/")}function AC(n,e){return Ft(null)}const xC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},by={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mi=(()=>{class n{constructor(t,i,a,u,h,g,C){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=a,this.location=u,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ar.x,this.errorHandler=sA,this.malformedUriErrorHandler=oA,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:AC,afterPreactivation:AC},this.urlHandlingStrategy=new rA,this.routeReuseStrategy=new nA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(r.h0i),this.console=h.get(r.c2e);const B=h.get(r.R0b);this.isNgZoneEnabled=B instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new Ni(new bn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new IC(h,g,re=>this.triggerEvent(new wo(re)),re=>this.triggerEvent(new dl(re))),this.routerState=_g(this.currentUrlTree,this.rootComponentType),this.transitions=new Pi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Hs(a=>0!==a.id),(0,$t.U)(a=>es(Lt({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ri(a=>{let u=!1,h=!1;return Ft(a).pipe((0,gi.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?es(Lt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ri(g=>{const C=this.browserUrlTree.toString(),A=!this.navigated||g.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Mg(g.source)&&(this.browserUrlTree=g.extractedUrl),Ft(g).pipe(Ri(B=>{const re=this.transitions.getValue();return i.next(new Ko(B.id,this.serializeUrl(B.extractedUrl),B.source,B.restoredState)),re!==this.transitions.getValue()?Ia.E:Promise.resolve(B)}),function(n,e,t,i){return Ri(a=>function(n,e,t,i,a){return new fC(n,e,t,i,a).apply()}(n,e,t,a.extractedUrl,i).pipe((0,$t.U)(u=>es(Lt({},a),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,gi.b)(B=>{this.currentNavigation=es(Lt({},this.currentNavigation),{finalUrl:B.urlAfterRedirects})}),function(n,e,t,i,a){return(0,tr.z)(u=>function(n,e,t,i,a="emptyOnly",u="legacy"){try{const h=new jO(n,e,t,i,a,u).recognize();return null===h?na(new jd):Ft(h)}catch(h){return na(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),i,a).pipe((0,$t.U)(h=>es(Lt({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,B=>this.serializeUrl(B),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,gi.b)(B=>{if("eager"===this.urlUpdateStrategy){if(!B.extras.skipLocationChange){const he=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);this.setBrowserUrl(he,B)}this.browserUrlTree=B.urlAfterRedirects}const re=new rf(B.id,this.serializeUrl(B.extractedUrl),this.serializeUrl(B.urlAfterRedirects),B.targetSnapshot);i.next(re)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:re,extractedUrl:he,source:Ce,restoredState:Ve,extras:Ke}=g,At=new Ko(re,this.serializeUrl(he),Ce,Ve);i.next(At);const xt=_g(he,this.rootComponentType).snapshot;return Ft(es(Lt({},g),{targetSnapshot:xt,urlAfterRedirects:he,extras:es(Lt({},Ke),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),Ia.E}),ac(g=>{const{targetSnapshot:C,id:A,extractedUrl:L,rawUrl:B,extras:{skipLocationChange:re,replaceUrl:he}}=g;return this.hooks.beforePreactivation(C,{navigationId:A,appliedUrlTree:L,rawUrlTree:B,skipLocationChange:!!re,replaceUrl:!!he})}),(0,gi.b)(g=>{const C=new Hr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(C)}),(0,$t.U)(g=>es(Lt({},g),{guards:WI(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(n,e){return(0,tr.z)(t=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?Ft(es(Lt({},t),{guardsResult:!0})):function(n,e,t,i){return(0,Vn.D)(n).pipe((0,tr.z)(a=>function(n,e,t,i,a){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ft(u.map(g=>{const C=Sg(g,e,a);let A;if(function(n){return n&&w(n.canDeactivate)}(C))A=it(C.canDeactivate(n,e,t,i));else{if(!w(C))throw new Error("Invalid CanDeactivate guard");A=it(C(n,e,t,i))}return A.pipe(xr())})).pipe(ft()):Ft(!0)}(a.component,a.route,t,e,i)),xr(a=>!0!==a,!0))}(h,i,a,n).pipe((0,tr.z)(g=>g&&function(n){return"boolean"==typeof n}(g)?function(n,e,t,i){return(0,Vn.D)(e).pipe(js(a=>Vr(function(n,e){return null!==n&&e&&e(new sf(n)),Ft(!0)}(a.route.parent,i),function(n,e){return null!==n&&e&&e(new Yo(n)),Ft(!0)}(a.route,i),function(n,e,t){const i=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Jl(()=>Ft(h.guards.map(C=>{const A=Sg(C,h.node,t);let L;if(function(n){return n&&w(n.canActivateChild)}(A))L=it(A.canActivateChild(i,n));else{if(!w(A))throw new Error("Invalid CanActivateChild guard");L=it(A(i,n))}return L.pipe(xr())})).pipe(ft())));return Ft(u).pipe(ft())}(n,a.path,t),function(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ft(!0);const a=i.map(u=>Jl(()=>{const h=Sg(u,e,t);let g;if(function(n){return n&&w(n.canActivate)}(h))g=it(h.canActivate(e,n));else{if(!w(h))throw new Error("Invalid CanActivate guard");g=it(h(e,n))}return g.pipe(xr())}));return Ft(a).pipe(ft())}(n,a.route,t))),xr(a=>!0!==a,!0))}(i,u,n,e):Ft(g)),(0,$t.U)(g=>es(Lt({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,gi.b)(g=>{if(y(g.guardsResult)){const A=Qo(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw A.url=g.guardsResult,A}const C=new fu(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(C)}),Hs(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),ac(g=>{if(g.guards.canActivateChecks.length)return Ft(g).pipe((0,gi.b)(C=>{const A=new Da(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(A)}),Ri(C=>{let A=!1;return Ft(C).pipe(function(n,e){return(0,tr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=t;if(!a.length)return Ft(t);let u=0;return(0,Vn.D)(a).pipe(js(h=>function(n,e,t,i){return function(n,e,t,i){const a=Object.keys(n);if(0===a.length)return Ft({});const u={};return(0,Vn.D)(a).pipe((0,tr.z)(h=>function(n,e,t,i){const a=Sg(n,e,i);return it(a.resolve?a.resolve(e,t):a(e,t))}(n[h],e,t,i).pipe((0,gi.b)(g=>{u[h]=g}))),Aa(1),(0,tr.z)(()=>Object.keys(u).length===a.length?Ft(u):Ia.E))}(n._resolve,n,e,i).pipe((0,$t.U)(u=>(n._resolvedData=u,n.data=Lt(Lt({},n.data),Io(n,t).resolve),null)))}(h.route,i,n,e)),(0,gi.b)(()=>u++),Aa(1),(0,tr.z)(h=>u===a.length?Ft(t):Ia.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,gi.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,gi.b)(C=>{const A=new hg(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(A)}))}),ac(g=>{const{targetSnapshot:C,id:A,extractedUrl:L,rawUrl:B,extras:{skipLocationChange:re,replaceUrl:he}}=g;return this.hooks.afterPreactivation(C,{navigationId:A,appliedUrlTree:L,rawUrlTree:B,skipLocationChange:!!re,replaceUrl:!!he})}),(0,$t.U)(g=>{const C=function(n,e,t){const i=fl(n,e._root,t?t._root:void 0);return new mg(i,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return es(Lt({},g),{targetRouterState:C})}),(0,gi.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,$t.U)(i=>(new cy(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,gi.b)({next(){u=!0},complete(){u=!0}}),dr(()=>{var g;u||h||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null==(g=this.currentNavigation)?void 0:g.id)===a.id&&(this.currentNavigation=null)}),qr(g=>{if(h=!0,function(n){return n&&n[ka]}(g)){const C=y(g.url);C||(this.navigated=!0,this.restoreHistory(a,!0));const A=new hu(a.id,this.serializeUrl(a.extractedUrl),g.message);i.next(A),C?setTimeout(()=>{const L=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),B={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mg(a.source)};this.scheduleNavigation(L,"imperative",null,B,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const C=new Dd(a.id,this.serializeUrl(a.extractedUrl),g);i.next(C);try{a.resolve(this.errorHandler(g))}catch(A){a.reject(A)}}return Ia.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Lt(Lt({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var g;const a={replaceUrl:!0},u=(null==(g=t.state)?void 0:g.navigationId)?t.state:null;if(u){const C=Lt({},u);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(a.state=C)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ta(t),this.config=t.map(Na),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:a,queryParams:u,fragment:h,queryParamsHandling:g,preserveFragment:C}=i,A=a||this.routerState.root,L=C?this.currentUrlTree.fragment:h;let B=null;switch(g){case"merge":B=Lt(Lt({},this.currentUrlTree.queryParams),u);break;case"preserve":B=this.currentUrlTree.queryParams;break;default:B=u||null}return null!==B&&(B=this.removeEmptyProps(B)),function(n,e,t,i,a){if(0===t.length)return bu(e.root,e.root,e,i,a);const u=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new nc(!0,0,n);let e=0,t=!1;const i=n.reduce((a,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return dt(u.outlets,(C,A)=>{g[A]="string"==typeof C?C.split("/"):C}),[...a,{outlets:g}]}if(u.segmentPath)return[...a,u.segmentPath]}return"string"!=typeof u?[...a,u]:0===h?(u.split("/").forEach((g,C)=>{0==C&&"."===g||(0==C&&""===g?t=!0:".."===g?e++:""!=g&&a.push(g))}),a):[...a,u]},[]);return new nc(t,e,i)}(t);if(u.toRoot())return bu(e.root,new bn([],{}),e,i,a);const h=function(n,e,t){if(n.isAbsolute)return new Zd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Zd(u,u===e.root,0)}const i=Ud(n.commands[0])?0:1;return function(n,e,t){let i=n,a=e,u=t;for(;u>a;){if(u-=a,i=i.parent,!i)throw new Error("Invalid number of '../'");a=i.segments.length}return new Zd(i,!1,a-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(u,e,n),g=h.processChildren?pl(h.segmentGroup,h.index,u.commands):ay(h.segmentGroup,h.index,u.commands);return bu(h.segmentGroup,g,e,i,a)}(A,this.currentUrlTree,t,B,null!=L?L:null)}navigateByUrl(t,i={skipLocationChange:!1}){const a=y(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return i}isActive(t,i){let a;if(a=!0===i?Lt({},xC):!1===i?Lt({},by):i,y(t))return Li(this.currentUrlTree,t,a);const u=this.parseUrl(t);return Li(this.currentUrlTree,u,a)}removeEmptyProps(t){return Object.keys(t).reduce((i,a)=>{const u=t[a];return null!=u&&(i[a]=u),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new xa(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,a,u,h){var At,xt,Vt;if(this.disposed)return Promise.resolve(!1);const g=this.transitions.value,C=Mg(i)&&g&&!Mg(g.source),A=g.rawUrl.toString()===t.toString(),L=g.id===(null==(At=this.currentNavigation)?void 0:At.id);if(C&&A&&L)return Promise.resolve(!0);let re,he,Ce;h?(re=h.resolve,he=h.reject,Ce=h.promise):Ce=new Promise((yt,An)=>{re=yt,he=An});const Ve=++this.navigationId;let Ke;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Ke=a&&a.\u0275routerPageId?a.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!=(xt=this.browserPageId)?xt:0:(null!=(Vt=this.browserPageId)?Vt:0)+1):Ke=0,this.setTransition({id:Ve,targetPageId:Ke,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:re,reject:he,promise:Ce,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ce.catch(yt=>Promise.reject(yt))}setBrowserUrl(t,i){const a=this.urlSerializer.serialize(t),u=Lt(Lt({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",u):this.location.go(a,"",u)}restoreHistory(t,i=!1){var a,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(a=this.currentNavigation)?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null==(u=this.currentNavigation)?void 0:u.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const a=new hu(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){r.$Z()},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function Mg(n){return"imperative"!==n}let Og=(()=>{class n{constructor(t,i,a,u,h){this.router=t,this.route=i,this.tabIndexAttribute=a,this.renderer=u,this.el=h,this.commands=null,this.onChanges=new Ar.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,a=this.el.nativeElement;null!==t?i.setAttribute(a,"tabindex",t):i.removeAttribute(a,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Cu(this.skipLocationChange),replaceUrl:Cu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(mi),r.Y36(qi),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&r.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[r.TTD]}),n})();function Cu(n){return""===n||!!n}class wy{}class Tf{preload(e,t){return Ft(null)}}let SC=(()=>{class n{constructor(t,i,a,u){this.router=t,this.injector=a,this.preloadingStrategy=u,this.loader=new IC(a,i,C=>t.triggerEvent(new wo(C)),C=>t.triggerEvent(new dl(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(Hs(t=>t instanceof xa),js(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const a=[];for(const u of i)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(t,u)):u.children&&a.push(this.processRoutes(t,u.children));return(0,Vn.D)(a).pipe((0,Es.J)(),(0,$t.U)(u=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Ft(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,tr.z)(u=>(i._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(mi),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(wy))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Rg=(()=>{class n{constructor(t,i,a={}){this.router=t,this.viewportScroller=i,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new jr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){r.$Z()},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const lc=new r.OlP("ROUTER_CONFIGURATION"),Lg=new r.OlP("ROUTER_FORROOT_GUARD"),kC=[_,{provide:fg,useClass:pg},{provide:mi,useFactory:function(n,e,t,i,a,u,h={},g,C){const A=new mi(null,n,e,t,i,a,Ee(u));return g&&(A.urlHandlingStrategy=g),C&&(A.routeReuseStrategy=C),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,A),h.enableTracing&&A.events.subscribe(L=>{var B,re;null==(B=console.group)||B.call(console,`Router Event: ${L.constructor.name}`),console.log(L.toString()),console.log(L),null==(re=console.groupEnd)||re.call(console)}),A},deps:[fg,Ut,_,r.zs3,r.Sil,wf,lc,[class{},new r.FiY],[class{},new r.FiY]]},Ut,{provide:qi,useFactory:function(n){return n.routerState.root},deps:[mi]},SC,Tf,class{preload(e,t){return t().pipe(qr(()=>Ft(null)))}},{provide:lc,useValue:{enableTracing:!1}}];function Ng(){return new r.PXZ("Router",mi)}let Ef=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[kC,Fg(t),{provide:Lg,useFactory:OC,deps:[[mi,new r.FiY,new r.tp0]]},{provide:lc,useValue:i||{}},{provide:K,useFactory:Ty,deps:[Le,[new r.tBr(P),new r.FiY],lc]},{provide:Rg,useFactory:MC,deps:[mi,Yc,lc]},{provide:wy,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Tf},{provide:r.PXZ,multi:!0,useFactory:Ng},[Ey,{provide:r.ip1,multi:!0,useFactory:uA,deps:[Ey]},{provide:Ug,useFactory:RC,deps:[Ey]},{provide:r.tb,multi:!0,useExisting:Ug}]]}}static forChild(t){return{ngModule:n,providers:[Fg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Lg,8),r.LFG(mi,8))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function MC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Rg(n,e,t)}function Ty(n,e,t={}){return t.useHash?new b(n,e):new S(n,e)}function OC(n){return"guarded"}function Fg(n){return[{provide:r.deG,multi:!0,useValue:n},{provide:wf,multi:!0,useValue:n}]}let Ey=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ar.x}appInitializer(){return this.injector.get(de,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const a=new Promise(g=>i=g),u=this.injector.get(mi),h=this.injector.get(lc);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),i(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Ft(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),u.initialNavigation()):i(!0),a})}bootstrapListener(t){const i=this.injector.get(lc),a=this.injector.get(SC),u=this.injector.get(Rg),h=this.injector.get(mi),g=this.injector.get(r.z2F);t===g.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),u.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.zs3))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function uA(n){return n.appInitializer.bind(n)}function RC(n){return n.bootstrapListener.bind(n)}const Ug=new r.OlP("Router Initializer");var Ne=Q(8239);class NC{}const ml="*";function As(n,e=null){return{type:4,styles:e,timings:n}}function UC(n,e=null){return{type:3,steps:n,options:e}}function Iy(n,e=null){return{type:2,steps:n,options:e}}function xs(n){return{type:6,styles:n,offset:null}}function ZC(n){return{type:5,steps:n}}function hA(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Zg(n,e=null){return{type:8,animation:n,options:e}}function Ay(n=null){return{type:9,options:n}}function fA(n,e=null){return{type:10,animation:n,options:e}}function xy(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function Dy(n){Promise.resolve(null).then(n)}class Tu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Dy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Sy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,a=0;const u=this.players.length;0==u?Dy(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==u&&this._onFinish()}),h.onDestroy(()=>{++i==u&&this._onDestroy()}),h.onStart(()=>{++a==u&&this._onStart()})}),this.totalTime=this.players.reduce((h,g)=>Math.max(h,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const a=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(a)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function Se(n,e){return[...e&&"before"===e.animateChildren?[xy("@*",Ay(),{optional:!0})]:[],UC([fA(n),...e&&e.animateChildren&&"together"!==e.animateChildren?[]:[xy("@*",Ay(),{optional:!0})]]),...e&&"after"===e.animateChildren?[xy("@*",Ay(),{optional:!0})]:[]]}function lP(n){return function(n,e){return{type:7,name:n,definitions:e,options:{}}}(n&&n.anchor||"bounceIn",[hA("0 => 1",[xs({visibility:"hidden"}),...Se(Zg(UC([As("{{duration}}ms {{delay}}ms",ZC([xs({transform:"scale3d(0.3, 0.3, 0.3)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:0}),xs({transform:"scale3d(1.1, 1.1, 1.1)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:.2}),xs({transform:"scale3d(0.9, 0.9, 0.9)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:.4}),xs({transform:"scale3d(1.03, 1.03, 1.03)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:.6}),xs({transform:"scale3d(0.97, 0.97, 0.97)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:.8}),xs({transform:"scale3d(1, 1, 1)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:1})])),As("{{duration}}ms {{delay}}ms",ZC([xs({visibility:"visible",opacity:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:0}),xs({opacity:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:.6}),xs({opacity:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:1})]))])),n)],{params:{delay:n&&n.delay||0,duration:n&&n.duration||750}})])}var Xx=Q(3719),am=Q(4763),jf=Q(1733);class eD extends Ar.x{constructor(e=1/0,t=1/0,i=jf.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:h}=this;t||(i.push(e),!a&&i.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:a}=this,u=a.slice();for(let h=0;h<u.length&&!e.closed;h+=i?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:a}=this,u=(a?1:2)*e;if(e<1/0&&u<i.length&&i.splice(0,i.length-u),!a){const h=t.now();let g=0;for(let C=1;C<i.length&&i[C]<=h;C+=2)g=C;g&&i.splice(0,g+1)}}}var lm=Q(3174);function $f(n,e,t){var i,a;let u,h=!1;return n&&"object"==typeof n?(u=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,e=null!==(a=n.windowTime)&&void 0!==a?a:1/0,h=!!n.refCount,t=n.scheduler):u=null!=n?n:1/0,(0,lm.B)({connector:()=>new eD(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function Ti(n,e){return(0,pi.m)(e)?Ri(()=>n,e):Ri(()=>n)}var wT=Q(5222),ui=Q(7233),us=Q(7905);Q(7713);var ds=Q(1572),Jd=Q(1177),Jt=Q(4213),dc=Q(3855);const Rv=new Map,AT={activated:!1,tokenObservers:[]},xT={initialized:!1,enabled:!1};function gr(n){return Rv.get(n)||AT}function So(n,e){Rv.set(n,e)}function um(){return xT}class dm{constructor(e,t,i,a,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new Jt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new Jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const zr=new Jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ST(n){if(!gr(n).activated)throw zr.create("use-before-activation",{appName:n.name})}function Fv(n,e){return fm.apply(this,arguments)}function fm(){return(fm=(0,Ne.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(i["X-Firebase-Client"]=a.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(e),headers:i};let h,g;try{h=yield fetch(n,u)}catch(B){throw zr.create("fetch-network-error",{originalErrorMessage:B.message})}if(200!==h.status)throw zr.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(B){throw zr.create("fetch-parse-error",{originalErrorMessage:B.message})}const C=g.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw zr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const A=1e3*Number(C[1]),L=Date.now();return{token:g.attestationToken,expireTimeMillis:L+A,issuedAtTimeMillis:L}})).apply(this,arguments)}function Xd(n,e){const{projectId:t,appId:i,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Gf="firebase-app-check-store";let pm=null;function Zv(){return pm||(pm=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var a;e(zr.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Gf,{keyPath:"compositeKey"})}}catch(t){e(zr.create("storage-open",{originalErrorMessage:t.message}))}}),pm)}function qv(){return(qv=(0,Ne.Z)(function*(n,e){const i=(yield Zv()).transaction(Gf,"readwrite"),u=i.objectStore(Gf).put({compositeKey:n,value:e});return new Promise((h,g)=>{u.onsuccess=C=>{h()},i.onerror=C=>{var A;g(zr.create("storage-set",{originalErrorMessage:null===(A=C.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const Kf=new dc.Yd("@firebase/app-check");function RT(n,e){return(0,Jt.hl)()?function(n,e){return function(n,e){return qv.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Kf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function LT(){return um().enabled}function NT(){return zv.apply(this,arguments)}function zv(){return(zv=(0,Ne.Z)(function*(){const n=um();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const FT={error:"UNKNOWN_ERROR"};function UT(n){return Jt.US.encodeString(JSON.stringify(n),!1)}function mm(n){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,Ne.Z)(function*(n,e=!1){const t=n.app;ST(t);const i=gr(t);let u,a=i.token;if(!a){const C=yield i.cachedTokenPromise;C&&eh(C)&&(a=C)}if(!e&&a&&eh(a))return{token:a.token};let g,h=!1;if(LT()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Fv(Xd(t,yield NT()),n.platformLoggerProvider).then(A=>(i.exchangeTokenPromise=void 0,A)),h=!0);const C=yield i.exchangeTokenPromise;return yield RT(t,C),So(t,Object.assign(Object.assign({},i),{token:C})),{token:C.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(C=>(i.exchangeTokenPromise=void 0,C)),h=!0),a=yield i.exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?Kf.warn(C.message):Kf.error(C),u=C}return a?(g={token:a.token},So(t,Object.assign(Object.assign({},i),{token:a})),yield RT(t,a)):g=BT(u),h&&ym(t,g),g})).apply(this,arguments)}function Gv(n,e){const t=gr(n),i=t.tokenObservers.filter(a=>a.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),So(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function ZT(n){const{app:e}=n,t=gr(e);let i=t.tokenRefresher;i||(i=function(n){const{app:e}=n;return new dm((0,Ne.Z)(function*(){let i;if(i=gr(e).token?yield mm(n,!0):yield mm(n),i.error)throw i.error}),()=>!0,()=>{const t=gr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),So(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ym(n,e){const t=gr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(a){}}function eh(n){return n.expireTimeMillis-Date.now()>0}function BT(n){return{token:UT(FT),error:n}}class Kv{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=gr(this.app);for(const t of e)Gv(this.app,t.next);return Promise.resolve()}}const KT="app-check-internal";(0,ds._registerComponent)(new Jd.wA("app-check",n=>function(n,e){return new Kv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(KT).initialize()})),(0,ds._registerComponent)(new Jd.wA(KT,n=>function(n){return{getToken:e=>mm(n,e),addTokenListener:e=>function(n,e,t,i){const{app:a}=n,u=gr(a),h={next:t,error:i,type:e};if(So(a,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&eh(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),ZT(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ZT(n))}(n,"INTERNAL",e),removeTokenListener:e=>Gv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ds.registerVersion)("@firebase/app-check","0.5.2");class Jf{constructor(){return(0,ui.vb)("app-check")}}"undefined"!=typeof window&&window;var Tl=Q(7892);const Ou=new r.OlP("angularfire2.auth.use-emulator"),AD=new r.OlP("angularfire2.auth.settings"),t0=new r.OlP("angularfire2.auth.tenant-id"),n1=new r.OlP("angularfire2.auth.langugage-code"),xD=new r.OlP("angularfire2.auth.use-device-language"),bm=new r.OlP("angularfire.auth.persistence"),DD=(n,e,t,i,a,u,h,g)=>(0,us.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=e.runOutsideAngular(()=>n.auth());if(t&&C.useEmulator(...t),i&&(C.tenantId=i),C.languageCode=a,u&&C.useDeviceLanguage(),h)for(const[A,L]of Object.entries(h))C.settings[A]=L;return g&&C.setPersistence(g),C},[t,i,a,u,h,g]);let ra=(()=>{class n{constructor(t,i,a,u,h,g,C,A,L,B,re,he){const Ce=new Ar.x,Ve=Ft(void 0).pipe((0,am.Q)(h.outsideAngular),Ri(()=>u.runOutsideAngular(()=>Promise.resolve().then(Q.bind(Q,2115)))),(0,$t.U)(()=>(0,us.on)(t,u,i)),(0,$t.U)(Ke=>DD(Ke,u,g,A,L,B,C,re)),$f({bufferSize:1,refCount:!1}));if(Tr(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ft(null);else{Ve.pipe(xr()).subscribe();const At=Ve.pipe(Ri(yt=>yt.getRedirectResult().then(An=>An,()=>null)),ui.iC,$f({bufferSize:1,refCount:!1})),xt=Ve.pipe(Ri(yt=>new bi.y(An=>({unsubscribe:u.runOutsideAngular(()=>yt.onAuthStateChanged(ei=>An.next(ei),ei=>An.error(ei),()=>An.complete()))})))),Vt=Ve.pipe(Ri(yt=>new bi.y(An=>({unsubscribe:u.runOutsideAngular(()=>yt.onIdTokenChanged(ei=>An.next(ei),ei=>An.error(ei),()=>An.complete()))}))));this.authState=At.pipe(Ti(xt),(0,wT.R)(h.outsideAngular),(0,am.Q)(h.insideAngular)),this.user=At.pipe(Ti(Vt),(0,wT.R)(h.outsideAngular),(0,am.Q)(h.insideAngular)),this.idToken=this.user.pipe(Ri(yt=>yt?(0,Vn.D)(yt.getIdToken()):Ft(null))),this.idTokenResult=this.user.pipe(Ri(yt=>yt?(0,Vn.D)(yt.getIdTokenResult()):Ft(null))),this.credential=(0,Xx.T)(At,Ce,this.authState.pipe(Hs(yt=>!yt))).pipe((0,$t.U)(yt=>(null==yt?void 0:yt.user)?yt:null),(0,wT.R)(h.outsideAngular),(0,am.Q)(h.insideAngular))}return(0,us.pX)(this,Ve,u,{spy:{apply:(Ke,At,xt)=>{(Ke.startsWith("signIn")||Ke.startsWith("createUser"))&&xt.then(Vt=>Ce.next(Vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(us.Dh),r.LFG(us.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(ui.HU),r.LFG(Ou,8),r.LFG(AD,8),r.LFG(t0,8),r.LFG(n1,8),r.LFG(xD,8),r.LFG(bm,8),r.LFG(Jf,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GR=(()=>{class n{constructor(){Tl.Z.registerVersion("angularfire",ui.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[ra]}),n})(),Pu=(()=>{class n{constructor(t,i){this.firebaseAuth=t,this.router=i,this.isLoggedIn=!1}checkAuth(){var t=this;return(0,Ne.Z)(function*(){return alert("Called Service to CheckAuth"),null!=t.firebaseAuth.currentUser})()}signIn(t,i){var a=this;return(0,Ne.Z)(function*(){yield a.firebaseAuth.signInWithEmailAndPassword(t,i).then(u=>{a.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(u.user)),a.router.navigateByUrl("")}).catch(u=>{console.log("Err: "+u)})})()}authStatus(){var t=this;return(0,Ne.Z)(function*(){t.firebaseAuth.onAuthStateChanged(i=>null!=i)})()}createUser(t,i){var a=this;return(0,Ne.Z)(function*(){a.firebaseAuth.createUserWithEmailAndPassword(t,i).then(u=>{a.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(u.user))}).catch(u=>(console.log("New User Error: "+u),u))})()}signOut(){var t=this;return(0,Ne.Z)(function*(){t.firebaseAuth.signOut(),localStorage.removeItem("user")})()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(ra),r.LFG(mi))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n0=function(){return{duration:50}},r1=function(n){return{value:"",params:n}};function s1(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"img",22),r.NdJ("click",function(){return r.CHM(t),r.oxw().animate()}),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.Q6J("@Push",r.VKq(4,r1,r.DdM(3,n0)))("@bounceOutOnLeave",void 0),r.xp6(1),r.Q6J("@bounceIn",t.animationState)}}function SD(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",23),r.TgZ(1,"div",12),r.TgZ(2,"div",24),r.TgZ(3,"div",25),r.TgZ(4,"div",26),r.TgZ(5,"h3",27),r._uU(6,"Login"),r.qZA(),r.TgZ(7,"h6",28),r._uU(8),r.qZA(),r.TgZ(9,"div"),r.TgZ(10,"div",29),r._UZ(11,"input",30,31),r.TgZ(13,"label",32),r._uU(14,"Email"),r.qZA(),r.qZA(),r._UZ(15,"br"),r.TgZ(16,"div",29),r._UZ(17,"input",33,34),r.TgZ(19,"label",35),r._uU(20,"Password"),r.qZA(),r.qZA(),r._uU(21,"\xa0 "),r.TgZ(22,"span",36),r.TgZ(23,"i"),r._uU(24,"By using Obsidian Rune you agree to the "),r.TgZ(25,"b",37),r.TgZ(26,"i"),r.TgZ(27,"a",38),r._uU(28,"Terms and Conditions."),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(29,"br"),r._UZ(30,"br"),r.TgZ(31,"button",39),r.NdJ("click",function(){r.CHM(t);const a=r.MAs(12),u=r.MAs(18);return r.oxw().SignIn(a.value,u.value)}),r._uU(32,"Login"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(33,"div",12),r.TgZ(34,"h6",36),r.TgZ(35,"i"),r._uU(36,"Don't have an account?"),r.qZA(),r.qZA(),r.TgZ(37,"h6",40),r.NdJ("click",function(){r.CHM(t);const a=r.oxw();return a.loginSet=!a.loginSet,a.registerSet=!a.registerSet}),r.TgZ(38,"div"),r.TgZ(39,"i"),r._uU(40,"Create an account"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(8),r.Oqu(t.errorMsg)}}function kD(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",41),r.TgZ(1,"div",12),r.TgZ(2,"div",24),r.TgZ(3,"div",25),r.TgZ(4,"div",26),r.TgZ(5,"h3",27),r._uU(6,"Create Account"),r.qZA(),r.TgZ(7,"h6",28),r._uU(8),r.qZA(),r.TgZ(9,"div"),r.TgZ(10,"div",29),r._UZ(11,"input",30,42),r.TgZ(13,"label",32),r._uU(14,"Email"),r.qZA(),r.qZA(),r._UZ(15,"br"),r.TgZ(16,"div",29),r._UZ(17,"input",33,43),r.TgZ(19,"label",35),r._uU(20,"Password"),r.qZA(),r.qZA(),r._uU(21,"\xa0 "),r.TgZ(22,"div",29),r._UZ(23,"input",33,44),r.TgZ(25,"label",35),r._uU(26,"Confirm Password"),r.qZA(),r.qZA(),r._uU(27,"\xa0 "),r._UZ(28,"br"),r.TgZ(29,"span",36),r.TgZ(30,"i"),r._uU(31,"By using Obsidian Rune you agree to the "),r.TgZ(32,"b",37),r.TgZ(33,"i"),r.TgZ(34,"a",38),r._uU(35,"Terms and Conditions."),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(36,"br"),r._UZ(37,"br"),r.TgZ(38,"button",39),r.NdJ("click",function(){r.CHM(t);const a=r.MAs(12),u=r.MAs(18),h=r.MAs(24);return r.oxw().SignUp(a.value,u.value,h.value)}),r._uU(39,"Submit"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(40,"div",12),r.TgZ(41,"h6",36),r.TgZ(42,"i"),r._uU(43,"Already have an account?"),r.qZA(),r.qZA(),r.TgZ(44,"h6",45),r.NdJ("click",function(){r.CHM(t);const a=r.oxw();return a.loginSet=!a.loginSet,a.registerSet=!a.registerSet}),r.TgZ(45,"div"),r.TgZ(46,"i"),r._uU(47,"Log into account"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(8),r.Oqu(t.newErrorMsg)}}let MD=(()=>{class n{constructor(t,i){this.firebaseService=t,this.router=i,this.isLoggedIn=!1,this.loginSet=!0,this.registerSet=!1,this.errorMsg="",this.newErrorMsg="",this.state=!1,this.animation="bounceIn",this.animationState=!0,this.animationWithState=!1}ngOnInit(){this.errorMsg="",this.newErrorMsg="",this.loginSet=!0,this.toggleState(),null==this.firebaseService.checkAuth?(this.isLoggedIn=!0,this.router.navigateByUrl("")):this.isLoggedIn=!1}SignIn(t,i){var a=this;return(0,Ne.Z)(function*(){0!=t.length&&0!=i.length?a.firebaseService.signIn(t,i).catch(u=>{a.errorMsg=u}):a.errorMsg="Fill in Both Email and Password"})()}SignUp(t,i,a){var u=this;return(0,Ne.Z)(function*(){i==a?u.firebaseService.createUser(t,i):u.newErrorMsg="Passwords do not match"})()}animate(){this.animationState=!1,setTimeout(()=>{this.animationState=!0,this.animationWithState=!this.animationWithState},109)}toggleState(){this.state=!this.state}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Pu),r.Y36(mi))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-login"]],decls:34,vars:3,consts:[["id","login"],["id","imageSet"],["class","row hide-on-med-and-down center","id","Rui",4,"ngIf"],["id","Logo",1,"row","hide-on-large-only","center"],["src","assets/Ruimel.png",1,"Rui2",2,"width","10%"],["name","fade"],["v-if","show",1,"group"],[1,"title","pulse","center"],[1,"center"],[1,"stitle"],["id","loginSection",4,"ngIf"],["id","signUpSection",4,"ngIf"],[1,"row"],[1,"col","s12","m12","s12"],[1,"eternal"],["id","eternalList",1,"center"],["id","glowText"],["id","glowText2"],["id","glowText3"],["id","glowText4"],["id","glowText5"],["id","Rui",1,"row","hide-on-med-and-down","center"],["src","assets/Ruimel.png",1,"Rui",2,"width","10%",3,"click"],["id","loginSection"],[1,"container"],[1,"col","s12","m6","offset-m3"],[1,"login","card-panel","white-text","z-depth-5",2,"border-radius","20%","background-color","#171A23"],["id","loginTxt",1,"white-text"],["id","ErrorMsg",1,"red-text"],[1,"input-field"],["type","email","id","password",1,"white-text"],["email",""],["for","email",1,"white-text"],["type","password","id","password",1,"white-text"],["password",""],["for","password",1,"white-text"],[1,"white-text"],[1,"blue-text"],["to","/terms/conditions"],[1,"btn","btn-large","black","darken-3","white-text","pulse",2,"border-radius","50%","padding-bottom","10%",3,"click"],["id","registrationRedirect",1,"blue-text",3,"click"],["id","signUpSection"],["newEmail",""],["newPassword",""],["confirmPassword",""],["id","loginRedirect",1,"blue-text",3,"click"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,s1,2,6,"div",2),r.TgZ(3,"div",3),r._UZ(4,"img",4),r.qZA(),r.qZA(),r.TgZ(5,"div",5),r.TgZ(6,"div",6),r.TgZ(7,"h2",7),r._uU(8,"Obsidian Rune"),r.qZA(),r.TgZ(9,"div",8),r.TgZ(10,"h5",9),r.TgZ(11,"i"),r._uU(12,"A Palace of Poetry"),r.qZA(),r.qZA(),r.YNc(13,SD,41,1,"div",10),r.YNc(14,kD,48,1,"div",11),r.qZA(),r.TgZ(15,"div",12),r.TgZ(16,"div",13),r.TgZ(17,"div",14),r.TgZ(18,"ul",15),r.TgZ(19,"li"),r.TgZ(20,"h2",16),r._uU(21,"Night Day Infinity Eternal Connect Time Nocturne Protect Love"),r.qZA(),r.qZA(),r.TgZ(22,"li"),r.TgZ(23,"h2",17),r._uU(24," \u0627\u0644\u0644\u064a\u0644 \u060c \u0627\u0644\u064a\u0648\u0645 \u060c \u0627\u0644\u0644\u0627\u0646\u0647\u0627\u064a\u0629 \u060c \u0627\u0644\u0623\u0628\u062f\u064a\u0629 \u060c \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u060c \u0627\u0644\u0648\u0642\u062a \u060c \u0627\u0644\u0645\u0648\u0633\u064a\u0642\u0649 \u0627\u0644\u0647\u0627\u062f\u0626\u0629 \u060c \u062d\u0645\u0627\u064a\u0629 \u060c \u0627\u0644\u062d\u0628"),r.qZA(),r.qZA(),r.TgZ(25,"li"),r.TgZ(26,"h2",18),r._uU(27,"\u591c\u3001\u65e5\u3001\u7121\u9650\u3001\u6c38\u9060\u3001\u63a5\u7d9a\u3001\u6642\u9593\u3001\u591c\u60f3\u66f2\u3001\u5b88\u308b\u3001\u611b"),r.qZA(),r.qZA(),r.TgZ(28,"li"),r.TgZ(29,"h2",19),r._uU(30,"\u0397\u03bc\u03ad\u03c1\u03b1 \u039d\u03cd\u03c7\u03c4\u03b1\u03c2 \u0386\u03c0\u03b5\u03b9\u03c1\u03b7 \u0391\u03b9\u03ce\u03bd\u03b9\u03b1 \u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7 \u03a7\u03c1\u03cc\u03bd\u03bf\u03c2 \u03a0\u03c1\u03bf\u03c3\u03c4\u03b1\u03c4\u03b5\u03cd\u03c3\u03c4\u03b5 \u03c4\u03b7\u03bd \u0391\u03b3\u03ac\u03c0\u03b7"),r.qZA(),r.qZA(),r.TgZ(31,"li"),r.TgZ(32,"h2",20),r._uU(33,"\u591c\uff0c\u5929\uff0c,\u65e0\u9650\uff0c\u6c38\u6052\uff0c\u8fde\u63a5\uff0c\u65f6\u95f4\uff0c\u591c\u66f2\uff0c\u4fdd\u62a4\uff0c\u7231"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngIf",i.state),r.xp6(11),r.Q6J("ngIf",i.loginSet),r.xp6(1),r.Q6J("ngIf",i.registerSet))},directives:[lr],styles:['@import"https://fonts.googleapis.com/css?family=Allura|Dancing+Script|Parisienne&display=swap";#imageSet[_ngcontent-%COMP%]{position:relative;z-index:20}.group[_ngcontent-%COMP%]{position:relative;top:23%;width:100%;z-index:1}#loginTxt[_ngcontent-%COMP%]{font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}.stitle[_ngcontent-%COMP%]{font-family:"Courier New",Courier,monospace;color:#fff}.title[_ngcontent-%COMP%]{color:#055cd8;font-family:"Parisienne"}#glowText[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:relative;animation-iteration-count:3}#glowTextLag[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:absolute;left:-1000px;overflow:hidden}#glowText2[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example2;animation-duration:50s;position:relative;animation-iteration-count:3}#glowText3[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:relative;animation-iteration-count:3}#glowText4[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example2;animation-duration:50s;position:relative;animation-iteration-count:3}#glowText5[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:relative;animation-iteration-count:3}@keyframes example{0%{left:0%;top:0px}50%{left:50%;top:0px}to{left:0%;top:0px}}@keyframes example2{0%{right:0%;top:0px}50%{right:50%;top:0px}to{right:0%;top:0px}}#login[_ngcontent-%COMP%]{padding-top:0%}.Rui[_ngcontent-%COMP%]{border-radius:50%;z-index:10}.Rui2[_ngcontent-%COMP%]{border-radius:50%;z-index:1}h3[_ngcontent-%COMP%]{color:#7082b6}#loginRedirect[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}#registrationRedirect[_ngcontent-%COMP%]{cursor:pointer;color:#fff}.eternal[_ngcontent-%COMP%]{color:#33394eb3;font-family:"Parisienne";position:fixed;z-index:-1;top:10%;left:1%;width:100%}.fade-enter-active[_ngcontent-%COMP%], .fade-leave-active[_ngcontent-%COMP%]{transition:opacity .5s}.fade-enter[_ngcontent-%COMP%], .fade-leave-to[_ngcontent-%COMP%]{opacity:0}'],data:{animation:[lP()]}}),n})();var OD=Q(1347);function PD(n=jf.l){return(0,$t.U)(e=>({value:e,timestamp:n.now()}))}var o1=Q(2210);function r0(){return(0,cr.e)((n,e)=>{let t,i=!1;n.subscribe(new fi.Q(e,a=>{const u=t;t=a,i&&e.next([u,a]),i=!0}))})}function ep(n,e){return n===e}Q(2115);var It,s0=Q(6293),a1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ba={},o0=o0||{},on=a1||self;function Cm(){}function a0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function tp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var l0="closure_uid_"+(1e9*Math.random()>>>0),np=0;function FD(n,e,t){return n.call.apply(n.bind,arguments)}function c0(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function ii(n,e,t){return(ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FD:c0).apply(null,arguments)}function wm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Hi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,a,u){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[a].apply(i,h)}}function gc(){this.s=this.s,this.o=this.o}var UD={};gc.prototype.s=!1,gc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,l0)&&n[l0]||(n[l0]=++np)}(this);delete UD[n]}},gc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const th=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},l1=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,a="string"==typeof n?n.split(""):n;for(let u=0;u<i;u++)u in a&&e.call(t,a[u],u,n)};function c1(n){return Array.prototype.concat.apply([],arguments)}function nh(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Tm(n){return/^[\s\xa0]*$/.test(n)}var fs,BD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function hs(n,e){return-1!=n.indexOf(e)}function ih(n,e){return n<e?-1:n>e?1:0}e:{var u1=on.navigator;if(u1){var u0=u1.userAgent;if(u0){fs=u0;break e}}fs=""}function Em(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Im(n){const e={};for(const t in n)e[t]=n[t];return e}var d0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d1(n,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)n[t]=i[t];for(let u=0;u<d0.length;u++)t=d0[u],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function h0(n){return h0[" "](n),n}h0[" "]=Cm;var xm,n,f0=hs(fs,"Opera"),mc=hs(fs,"Trident")||hs(fs,"MSIE"),p0=hs(fs,"Edge"),ip=p0||mc,Am=hs(fs,"Gecko")&&!(hs(fs.toLowerCase(),"webkit")&&!hs(fs,"Edge"))&&!(hs(fs,"Trident")||hs(fs,"MSIE"))&&!hs(fs,"Edge"),VD=hs(fs.toLowerCase(),"webkit")&&!hs(fs,"Edge");function h1(){var n=on.document;return n?n.documentMode:void 0}e:{var g0="",Dm=(n=fs,Am?/rv:([^\);]+)(\)|;)/.exec(n):p0?/Edge\/([\d\.]+)/.exec(n):mc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):VD?/WebKit\/(\S+)/.exec(n):f0?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Dm&&(g0=Dm?Dm[1]:""),mc){var rp=h1();if(null!=rp&&rp>parseFloat(g0)){xm=String(rp);break e}}xm=g0}var f1={};function qD(){return e=f1,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=BD(String(xm)).split("."),t=BD("9").split("."),i=Math.max(e.length,t.length);for(let h=0;0==n&&h<i;h++){var a=e[h]||"",u=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;n=ih(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||ih(0==a[2].length,0==u[2].length)||ih(a[2],u[2]),a=a[3],u=u[3]}while(0==n)}return 0<=n}();var e}var HD=on.document&&mc&&(h1()||parseInt(xm,10))||void 0,p1=function(){if(!on.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{on.addEventListener("test",Cm,e),on.removeEventListener("test",Cm,e)}catch(t){}return n}();function Sr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function sp(n,e){if(Sr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Am){e:{try{h0(e.nodeName);var a=!0;break e}catch(u){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:g1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sp.Z.h.call(this)}}Sr.prototype.h=function(){this.defaultPrevented=!0},Hi(sp,Sr);var g1={2:"touch",3:"pen",4:"mouse"};sp.prototype.h=function(){sp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var op="closure_listenable_"+(1e6*Math.random()|0),ps=0;function rh(n,e,t,i,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=a,this.key=++ps,this.ca=this.fa=!1}function km(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Mm(n){this.src=n,this.g={},this.h=0}function m1(n,e){var t=e.type;if(t in n.g){var u,i=n.g[t],a=th(i,e);(u=0<=a)&&Array.prototype.splice.call(i,a,1),u&&(km(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ru(n,e,t,i){for(var a=0;a<n.length;++a){var u=n[a];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==i)return a}return-1}Mm.prototype.add=function(n,e,t,i,a){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=Ru(n,e,i,a);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new rh(e,this.src,u,!!i,a)).fa=t,n.push(e)),e};var _0="closure_lm_"+(1e6*Math.random()|0),ap={};function _1(n,e,t,i,a){if(i&&i.once)return y1(n,e,t,i,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)_1(n,e[u],t,i,a);return null}return t=Lm(t),n&&n[op]?n.N(e,t,tp(i)?!!i.capture:!!i,a):y0(n,e,t,!1,i,a)}function y0(n,e,t,i,a,u){if(!e)throw Error("Invalid event type");var h=tp(a)?!!a.capture:!!a,g=lp(n);if(g||(n[_0]=g=new Mm(n)),(t=g.add(e,t,i,h,u)).proxy)return t;if(i=function(){var e=Rm;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)p1||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),i,a);else if(n.attachEvent)n.attachEvent(v0(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function y1(n,e,t,i,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)y1(n,e[u],t,i,a);return null}return t=Lm(t),n&&n[op]?n.O(e,t,tp(i)?!!i.capture:!!i,a):y0(n,e,t,!0,i,a)}function Om(n,e,t,i,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)Om(n,e[u],t,i,a);else i=tp(i)?!!i.capture:!!i,t=Lm(t),n&&n[op]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ru(u=n.g[e],t,i,a))&&(km(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=lp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ru(e,t,i,a)),(t=-1<n?e[n]:null)&&Pm(t))}function Pm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[op])m1(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(v0(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=lp(e))?(m1(t,n),0==t.h&&(t.src=null,e[_0]=null)):km(n)}}}function v0(n){return n in ap?ap[n]:ap[n]="on"+n}function Rm(n,e){if(n.ca)n=!0;else{e=new sp(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Pm(n),n=t.call(i,e)}return n}function lp(n){return(n=n[_0])instanceof Mm?n:null}var v1="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lm(n){return"function"==typeof n?n:(n[v1]||(n[v1]=function(e){return n.handleEvent(e)}),n[v1])}function mr(){gc.call(this),this.i=new Mm(this),this.P=this,this.I=null}function _r(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Sr(e,n);else if(e instanceof Sr)e.target=e.target||n;else{var a=e;d1(e=new Sr(i,n),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];a=Lu(h,i,!0,e)&&a}if(a=Lu(h=e.g=n,i,!0,e)&&a,a=Lu(h,i,!1,e)&&a,t)for(u=0;u<t.length;u++)a=Lu(h=e.g=t[u],i,!1,e)&&a}function Lu(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var g=h.listener,C=h.ia||h.src;h.fa&&m1(n.i,h),a=!1!==g.call(C,i)&&a}}return a&&!i.defaultPrevented}Hi(mr,gc),mr.prototype[op]=!0,mr.prototype.removeEventListener=function(n,e,t,i){Om(this,n,e,t,i)},mr.prototype.M=function(){if(mr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)km(t[i]);delete n.g[e],n.h--}}this.I=null},mr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},mr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Nm=on.JSON.stringify;function $D(){var n=w0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Zm,Fm=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new zD,n=>n.reset());class zD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function WD(n){on.setTimeout(()=>{throw n},0)}function Um(n,e){Zm||function(){var n=on.Promise.resolve(void 0);Zm=function(){n.then(C1)}}(),C0||(Zm(),C0=!0),w0.add(n,e)}var C0=!1,w0=new class{constructor(){this.h=this.g=null}add(e,t){const i=Fm.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function C1(){for(var n;n=$D();){try{n.h.call(n.g)}catch(t){WD(t)}var e=Fm;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}C0=!1}function Bm(n,e){mr.call(this),this.h=n||1,this.g=e||on,this.j=ii(this.kb,this),this.l=Date.now()}function T0(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Vm(n,e,t){if("function"==typeof n)t&&(n=ii(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ii(n.handleEvent,n)}return 2147483647<Number(e)?-1:on.setTimeout(n,e||0)}function w1(n){n.g=Vm(()=>{n.g=null,n.i&&(n.i=!1,w1(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hi(Bm,mr),(It=Bm.prototype).da=!1,It.S=null,It.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_r(this,"tick"),this.da&&(T0(this),this.start()))}},It.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){Bm.Z.M.call(this),T0(this),delete this.g};class T1 extends gc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:w1(this)}M(){super.M(),this.g&&(on.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sh(n){gc.call(this),this.h=n,this.g={}}Hi(sh,gc);var E0=[];function I0(n,e,t,i){Array.isArray(t)||(t&&(E0[0]=t.toString()),t=E0);for(var a=0;a<t.length;a++){var u=_1(e,t[a],i||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function E1(n){Em(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pm(e)},n),n.g={}}function qm(){this.g=!0}function cp(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<a.length;h++)a[h]=""}}}return Nm(t)}catch(g){return e}}(n,t)+(i?" "+i:"")})}sh.prototype.M=function(){sh.Z.M.call(this),E1(this)},sh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qm.prototype.Aa=function(){this.g=!1},qm.prototype.info=function(){};var oh={},KD=null;function A0(){return KD=KD||new mr}function YD(n){Sr.call(this,oh.Ma,n)}function up(n){const e=A0();_r(e,new YD(e,n))}function A1(n,e){Sr.call(this,oh.STAT_EVENT,n),this.stat=e}function gs(n){const e=A0();_r(e,new A1(e,n))}function QD(n,e){Sr.call(this,oh.Na,n),this.size=e}function Hm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return on.setTimeout(function(){n()},e)}oh.Ma="serverreachability",Hi(YD,Sr),oh.STAT_EVENT="statevent",Hi(A1,Sr),oh.Na="timingevent",Hi(QD,Sr);var x0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},x1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function D0(){}function JD(){}D0.prototype.h=null;var k0,jm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function S0(){Sr.call(this,"d")}function S1(){Sr.call(this,"c")}function M0(){}function Nu(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new sh(this),this.P=k1,this.W=new Bm(n=ip?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fu}function Fu(){this.i=null,this.g="",this.h=!1}Hi(S0,Sr),Hi(S1,Sr),Hi(M0,D0),M0.prototype.g=function(){return new XMLHttpRequest},M0.prototype.i=function(){return{}},k0=new M0;var k1=45e3,O0={},$m={};function dp(n,e,t){n.K=1,n.v=V0(_c(e)),n.s=t,n.U=!0,P0(n,null)}function P0(n,e){n.F=Date.now(),ah(n),n.A=_c(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),H0(t.h,"t",i),n.C=0,t=n.l.H,n.h=new Fu,n.g=yp(n.l,t?e:null,!n.s),0<n.O&&(n.L=new T1(ii(n.Ia,n,n.g),n.O)),I0(n.V,n.g,"readystatechange",n.gb),e=n.H?Im(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),up(1),function(n,e,t,i,a,u){n.info(function(){if(n.g)if(u)for(var h="",g=u.split("&"),C=0;C<g.length;C++){var A=g[C].split("=");if(1<A.length){var L=A[0];A=A[1];var B=L.split("_");h=2<=B.length&&"type"==B[1]?h+(L+"=")+A+"&":h+(L+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function R0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function L0(n,e,t){let a,i=!0;for(;!n.I&&n.C<t.length;){if(a=XR(n,t),a==$m){4==e&&(n.o=4,gs(14),i=!1),cp(n.j,n.m,null,"[Incomplete Response]");break}if(a==O0){n.o=4,gs(15),cp(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}cp(n.j,n.m,a,null),M1(n,a)}R0(n)&&a!=$m&&a!=O0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gs(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),G1(e),e.L=!0,gs(11))):(cp(n.j,n.m,t,"[Invalid Chunked Response]"),lh(n),zm(n))}function XR(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?$m:(t=Number(e.substring(t,i)),isNaN(t)?O0:(i+=1)+t>e.length?$m:(e=e.substr(i,t),n.C=i+t,e))}function ah(n){n.Y=Date.now()+n.P,hp(n,n.P)}function hp(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hm(ii(n.eb,n),e)}function fp(n){n.B&&(on.clearTimeout(n.B),n.B=null)}function zm(n){0==n.l.G||n.I||nr(n.l,n)}function lh(n){fp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,T0(n.W),E1(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function M1(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ym(t.i,n)))if(t.I=n.N,!n.J&&Ym(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(A){i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Hm(ii(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;dh(t),K0(t)}W1(t),gs(18)}if(1>=Km(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else bc(t,11)}else if((n.J||t.g==n)&&dh(t),!Tm(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let A=a[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const L=A[3];null!=L&&(t.ma=L,t.h.info("VER="+t.ma));const B=A[4];null!=B&&(t.za=B,t.h.info("SVER="+t.za));const re=A[5];null!=re&&"number"==typeof re&&0<re&&(t.K=i=1.5*re,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const he=n.g;if(he){const Ce=he.g?he.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var u=i.i;!u.g&&(hs(Ce,"spdy")||hs(Ce,"quic")||hs(Ce,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Qm(u,u.h),u.h=null))}if(i.D){const Ve=he.g?he.g.getResponseHeader("X-HTTP-Session-Id"):null;Ve&&(i.sa=Ve,_i(i.F,i.D,Ve))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((i=t).oa=Y1(i,i.H?i.la:null,i.W),h.J){Jm(i.i,h);var g=h,C=i.K;C&&g.setTimeout(C),g.B&&(fp(g),ah(g)),i.g=h}else pS(i);0<t.l.length&&Q0(t)}else"stop"!=A[0]&&"close"!=A[0]||bc(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?bc(t,7):j1(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}up(4)}catch(A){}}function O1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(a0(n)||"string"==typeof n)l1(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(a0(n)||"string"==typeof n){t=[];for(var i=n.length,a=0;a<i;a++)t.push(a)}else for(a in t=[],i=0,n)t[i++]=a;i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(a0(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),a=i.length;for(var u=0;u<a;u++)e.call(void 0,i[u],t&&t[u],n)}}function Uu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Uu)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function N0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];ch(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)ch(a,i=n.g[e])||(n.g[t++]=i,a[i]=1),e++;n.g.length=t}}function ch(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(It=Nu.prototype).setTimeout=function(n){this.P=n},It.gb=function(n){n=n.target;const e=this.L;e&&3==Va(n)?e.l():this.Ia(n)},It.Ia=function(n){try{if(n==this.g)e:{const L=Va(this.g);var e=this.g.Da();const B=this.g.ba();if(!(3>L)&&(3!=L||ip||this.g&&(this.h.h||this.g.ga()||q1(this.g)))){this.I||4!=L||7==e||up(8==e||0>=B?3:2),fp(this);var t=this.g.ba();this.N=t;t:if(R0(this)){var i=q1(this.g);n="";var a=i.length,u=4==Va(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){lh(this),zm(this);var h="";break t}this.h.i=new on.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:u&&e==a-1});i.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,i,a,u,h){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,L,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,C=this.g;if((g=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tm(g)){var A=g;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,gs(12),lh(this),zm(this);break e}cp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,M1(this,t)}this.U?(L0(this,L,h),ip&&this.i&&3==L&&(I0(this.V,this.W,"tick",this.fb),this.W.start())):(cp(this.j,this.m,h,null),M1(this,h)),4==L&&lh(this),this.i&&!this.I&&(4==L?nr(this.l,this):(this.i=!1,ah(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,gs(12)):(this.o=0,gs(13)),lh(this),zm(this)}}}catch(L){}},It.fb=function(){if(this.g){var n=Va(this.g),e=this.g.ga();this.C<e.length&&(fp(this),L0(this,n,e),this.i&&4!=n&&ah(this))}},It.cancel=function(){this.I=!0,lh(this)},It.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(up(3),gs(17)),lh(this),this.o=2,zm(this)):hp(this,this.Y-n)},(It=Uu.prototype).R=function(){N0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},It.T=function(){return N0(this),this.g.concat()},It.get=function(n,e){return ch(this.h,n)?this.h[n]:e},It.set=function(n,e){ch(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},It.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var a=t[i],u=this.get(a);n.call(e,u,a,this)}};var eS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Zu){this.g=void 0!==e?e:n.g,U0(this,n.j),this.s=n.s,Wm(this,n.i),Z0(this,n.m),this.l=n.l,e=n.h;var t=new Vu;t.i=e.i,e.g&&(t.g=new Uu(e.g),t.h=e.h),B0(this,t),this.o=n.o}else n&&(t=String(n).match(eS))?(this.g=!!e,U0(this,t[1]||"",!0),this.s=Bu(t[2]||""),Wm(this,t[3]||"",!0),Z0(this,t[4]),this.l=Bu(t[5]||"",!0),B0(this,t[6]||"",!0),this.o=Bu(t[7]||"")):(this.g=!!e,this.h=new Vu(null,this.g))}function _c(n){return new Zu(n)}function U0(n,e,t){n.j=t?Bu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Wm(n,e,t){n.i=t?Bu(e,!0):e}function Z0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function B0(n,e,t){e instanceof Vu?(n.h=e,function(n,e){e&&!n.j&&(yc(n),n.i=null,n.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(R1(this,i),H0(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=pp(e,Gs)),n.h=new Vu(e,n.g))}function _i(n,e,t){n.h.set(e,t)}function V0(n){return _i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,nS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function nS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Zu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pp(e,P1,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pp(e,P1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(pp(t,"/"==t.charAt(0)?iS:q0,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pp(t,rS)),n.join("")};var P1=/[#\/\?@]/g,q0=/[#\?:]/g,iS=/[#\?]/g,Gs=/[#\?@]/g,rS=/#/g;function Vu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function yc(n){n.g||(n.g=new Uu,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),a=null;if(0<=i){var u=n[t].substring(0,i);a=n[t].substring(i+1)}else u=n[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function R1(n,e){yc(n),e=qu(n,e),ch(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ch((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&N0(n)))}function Gm(n,e){return yc(n),e=qu(n,e),ch(n.g.h,e)}function H0(n,e,t){R1(n,e),0<t.length&&(n.i=null,n.g.set(qu(n,e),nh(t)),n.h+=t.length)}function qu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function j0(n){this.l=n||oS,n=on.PerformanceNavigationTiming?0<(n=on.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(on.g&&on.g.Ea&&on.g.Ea()&&on.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=Vu.prototype).add=function(n,e){yc(this),this.i=null,n=qu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){yc(this),this.g.forEach(function(t,i){l1(t,function(a){n.call(e,a,i,this)},this)},this)},It.T=function(){yc(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var a=n[i],u=0;u<a.length;u++)t.push(e[i]);return t},It.R=function(n){yc(this);var e=[];if("string"==typeof n)Gm(this,n)&&(e=c1(e,this.g.get(qu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=c1(e,n[t])}return e},It.set=function(n,e){return yc(this),this.i=null,Gm(this,n=qu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],a=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var h=a;""!==i[u]&&(h+="="+encodeURIComponent(String(i[u]))),n.push(h)}}return this.i=n.join("&")};var oS=10;function N1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Km(n){return n.h?1:n.g?n.g.size:0}function Ym(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Qm(n,e){n.g?n.g.add(e):n.h=e}function Jm(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function F1(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return nh(n.i)}function Ks(){}function aS(){this.g=new Ks}function tL(n,e,t){const i=t||"";try{O1(n,function(a,u){let h=a;tp(a)&&(h=Nm(a)),e.push(i+u+"="+encodeURIComponent(h))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function $0(n,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch(u){}}function gp(n){this.l=n.$b||null,this.j=n.ib||!1}function Xm(n,e){mr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=z0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}j0.prototype.cancel=function(){if(this.i=F1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ks.prototype.stringify=function(n){return on.JSON.stringify(n,void 0)},Ks.prototype.parse=function(n){return on.JSON.parse(n,void 0)},Hi(gp,D0),gp.prototype.g=function(){return new Xm(this.l,this.j)},gp.prototype.i=function(n){return function(){return n}}({}),Hi(Xm,mr);var z0=0;function cS(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function mp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,uh(n)}function uh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=Xm.prototype).open=function(n,e){if(this.readyState!=z0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,uh(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||on).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mp(this)),this.readyState=z0},It.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,uh(this)),this.g&&(this.readyState=3,uh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==on.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cS(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},It.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mp(this):uh(this),3==this.readyState&&cS(this)}},It.Ua=function(n){this.g&&(this.response=this.responseText=n,mp(this))},It.Ta=function(n){this.g&&(this.response=n,mp(this))},It.ha=function(){this.g&&mp(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var uS=on.JSON.parse;function ji(n){mr.call(this),this.headers=new Uu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=W0,this.K=this.L=!1}Hi(ji,mr);var W0="",dS=/^https?$/i,nL=["POST","PUT"];function Z1(n){return"content-type"==n.toLowerCase()}function B1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,V1(n),vc(n)}function V1(n){n.D||(n.D=!0,_r(n,"complete"),_r(n,"error"))}function G0(n){if(n.h&&void 0!==o0&&(!n.C[1]||4!=Va(n)||2!=n.ba()))if(n.v&&4==Va(n))Vm(n.Fa,0,n);else if(_r(n,"readystatechange"),4==Va(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===g){var a=String(n.H).match(eS)[1]||null;if(!a&&on.self&&on.self.location){var u=on.self.location.protocol;a=u.substr(0,u.length-1)}i=!dS.test(a?a.toLowerCase():"")}t=i}if(t)_r(n,"complete"),_r(n,"success");else{n.m=6;try{var h=2<Va(n)?n.g.statusText:""}catch(C){h=""}n.j=h+" ["+n.ba()+"]",V1(n)}}finally{vc(n)}}}function vc(n,e){if(n.g){e_(n);const t=n.g,i=n.C[0]?Cm:null;n.g=null,n.C=null,e||_r(n,"ready");try{t.onreadystatechange=i}catch(a){}}}function e_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(on.clearTimeout(n.A),n.A=null)}function Va(n){return n.g?n.g.readyState:0}function q1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case W0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function H1(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function(n){let e="";return Em(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_i(n,e,t))}function t_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function hS(n){this.za=0,this.l=[],this.h=new qm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=t_("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=t_("baseRetryDelayMs",5e3,n),this.$a=t_("retryDelaySeedMs",1e4,n),this.Ya=t_("forwardChannelMaxRetries",2,n),this.ra=t_("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new j0(n&&n.concurrentRequestLimit),this.Ca=new aS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function j1(n){if(n_(n),3==n.G){var e=n.V++,t=_c(n.F);_i(t,"SID",n.J),_i(t,"RID",e),_i(t,"TYPE","terminate"),_p(n,t),(e=new Nu(n,n.h,e,void 0)).K=2,e.v=V0(_c(t)),t=!1,on.navigator&&on.navigator.sendBeacon&&(t=on.navigator.sendBeacon(e.v.toString(),"")),!t&&on.Image&&((new Image).src=e.v,t=!0),t||(e.g=yp(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ah(e)}J0(n)}function K0(n){n.g&&(G1(n),n.g.cancel(),n.g=null)}function n_(n){K0(n),n.u&&(on.clearTimeout(n.u),n.u=null),dh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&on.clearTimeout(n.m),n.m=null)}function Y0(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Q0(n)}function Q0(n){N1(n.i)||n.m||(n.m=!0,Um(n.Ha,n),n.C=0)}function $1(n,e){var t;t=e?e.m:n.V++;const i=_c(n.F);_i(i,"SID",n.J),_i(i,"RID",t),_i(i,"AID",n.U),_p(n,i),n.o&&n.s&&H1(i,n.o,n.s),t=new Nu(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=z1(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Qm(n.i,t),dp(t,i,e)}function _p(n,e){n.j&&O1({},function(t,i){_i(e,i,t)})}function z1(n,e,t){t=Math.min(n.l.length,t);var i=n.j?ii(n.j.Oa,n.j,n):null;e:{var a=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=a[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let g=!0;for(let C=0;C<t;C++){let A=a[C].h;const L=a[C].g;if(A-=u,0>A)u=Math.max(0,a[C].h-100),g=!1;else try{tL(L,h,"req"+A+"_")}catch(B){i&&i(L)}}if(g){i=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function pS(n){n.g||n.u||(n.Y=1,Um(n.Ga,n),n.A=0)}function W1(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Hm(ii(n.Ga,n),gS(n,n.A)),n.A++,0))}function G1(n){null!=n.B&&(on.clearTimeout(n.B),n.B=null)}function K1(n){n.g=new Nu(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=_c(n.oa);_i(e,"RID","rpc"),_i(e,"SID",n.J),_i(e,"CI",n.N?"0":"1"),_i(e,"AID",n.U),_p(n,e),_i(e,"TYPE","xmlhttp"),n.o&&n.s&&H1(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=V0(_c(e)),t.s=null,t.U=!0,P0(t,n)}function dh(n){null!=n.v&&(on.clearTimeout(n.v),n.v=null)}function nr(n,e){var t=null;if(n.g==e){dh(n),G1(n),n.g=null;var i=2}else{if(!Ym(n.i,e))return;t=e.D,Jm(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;_r(i=A0(),new QD(i,t,e,a)),Q0(n)}else pS(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==i&&function(n,e){return!(Km(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Hm(ii(n.Ha,n,e),gS(n,n.C)),n.C++,0)))}(n,e)||2==i&&W1(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:bc(n,5);break;case 4:bc(n,10);break;case 3:bc(n,6);break;default:bc(n,2)}}function gS(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function bc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=ii(n.jb,n);t||(t=new Zu("//www.google.com/images/cleardot.gif"),on.location&&"http"==on.location.protocol||U0(t,"https"),V0(t)),function(n,e){const t=new qm;if(on.Image){const i=new Image;i.onload=wm($0,t,i,"TestLoadImage: loaded",!0,e),i.onerror=wm($0,t,i,"TestLoadImage: error",!1,e),i.onabort=wm($0,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=wm($0,t,i,"TestLoadImage: timeout",!1,e),on.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else gs(2);n.G=0,n.j&&n.j.va(e),J0(n),n_(n)}function J0(n){n.G=0,n.I=-1,n.j&&((0!=F1(n.i).length||0!=n.l.length)&&(n.i.i.length=0,nh(n.l),n.l.length=0),n.j.ua())}function Y1(n,e,t){let i=function(n){return n instanceof Zu?_c(n):new Zu(n,void 0)}(t);if(""!=i.i)e&&Wm(i,e+"."+i.i),Z0(i,i.m);else{const a=on.location;i=function(n,e,t,i){var a=new Zu(null,void 0);return n&&U0(a,n),e&&Wm(a,e),t&&Z0(a,t),i&&(a.l=i),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Em(n.aa,function(a,u){_i(i,u,a)}),t=n.sa,(e=n.D)&&t&&_i(i,e,t),_i(i,"VER",n.ma),_p(n,i),i}function yp(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ji(t&&n.Ba&&!n.qa?new gp({ib:!0}):n.qa)).L=n.H,e}function Q1(){}function i_(){if(mc&&!(10<=Number(HD)))throw Error("Environmental error: no available transport.")}function Ss(n,e){mr.call(this),this.g=new hS(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Tm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wc(this)}function Cc(n){S0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function X0(){S1.call(this),this.status=1}function wc(n){this.g=n}(It=ji.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():k0.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:k0),this.g.onreadystatechange=ii(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void B1(this,u)}n=t||"";const a=new Uu(this.headers);i&&O1(i,function(u,h){a.set(h,u)}),i=function(n){e:{var e=Z1;const t=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in i&&e.call(void 0,i[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=on.FormData&&n instanceof on.FormData,!(0<=th(nL,e))||i||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{e_(this),0<this.B&&((this.K=function(n){return mc&&qD()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ii(this.pa,this)):this.A=Vm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){B1(this,u)}},It.pa=function(){void 0!==o0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_r(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_r(this,"complete"),_r(this,"abort"),vc(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vc(this,!0)),ji.Z.M.call(this)},It.Fa=function(){this.s||(this.F||this.v||this.l?G0(this):this.cb())},It.cb=function(){G0(this)},It.ba=function(){try{return 2<Va(this)?this.g.status:-1}catch(n){return-1}},It.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},It.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),uS(e)}},It.Da=function(){return this.m},It.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=hS.prototype).ma=8,It.G=1,It.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},It.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Nu(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Im(u),d1(u,this.P)):u=this.P),null===this.o&&(a.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=z1(this,a,e),_i(t=_c(this.F),"RID",n),_i(t,"CVER",22),this.D&&_i(t,"X-HTTP-Session-Id",this.D),_p(this,t),this.o&&u&&H1(t,this.o,u),Qm(this.i,a),this.Ra&&_i(t,"TYPE","init"),this.ja?(_i(t,"$req",e),_i(t,"SID","null"),a.$=!0,dp(a,t,null)):dp(a,t,e),this.G=2}}else 3==this.G&&(n?$1(this,n):0==this.l.length||N1(this.i)||$1(this))},It.Ga=function(){if(this.u=null,K1(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Hm(ii(this.bb,this),n)}},It.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,gs(10),K0(this),K1(this))},It.ab=function(){null!=this.v&&(this.v=null,K0(this),W1(this),gs(19))},It.jb=function(n){n?(this.h.info("Successfully pinged google.com"),gs(2)):(this.h.info("Failed to ping google.com"),gs(1))},(It=Q1.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Oa=function(){},i_.prototype.g=function(n,e){return new Ss(n,e)},Hi(Ss,mr),Ss.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Um(ii(n.hb,n,e))),gs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Y1(n,null,n.W),Q0(n)},Ss.prototype.close=function(){j1(this.g)},Ss.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Y0(this.g,e)}else this.v?((e={}).__data__=Nm(n),Y0(this.g,e)):Y0(this.g,n)},Ss.prototype.M=function(){this.g.j=null,delete this.j,j1(this.g),delete this.g,Ss.Z.M.call(this)},Hi(Cc,S0),Hi(X0,S1),Hi(wc,Q1),wc.prototype.xa=function(){_r(this.g,"a")},wc.prototype.wa=function(n){_r(this.g,new Cc(n))},wc.prototype.va=function(n){_r(this.g,new X0(n))},wc.prototype.ua=function(){_r(this.g,"b")},i_.prototype.createWebChannel=i_.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,x0.NO_ERROR=0,x0.TIMEOUT=8,x0.HTTP_ERROR=6,x1.COMPLETE="complete",JD.EventType=jm,jm.OPEN="a",jm.CLOSE="b",jm.ERROR="c",jm.MESSAGE="d",mr.prototype.listen=mr.prototype.N,ji.prototype.listenOnce=ji.prototype.O,ji.prototype.getLastError=ji.prototype.La,ji.prototype.getLastErrorCode=ji.prototype.Da,ji.prototype.getStatus=ji.prototype.ba,ji.prototype.getResponseJson=ji.prototype.Qa,ji.prototype.getResponseText=ji.prototype.ga,ji.prototype.send=ji.prototype.ea;var eb=Ba.createWebChannelTransport=function(){return new i_},mS=Ba.getStatEventTarget=function(){return A0()},hh=Ba.ErrorCode=x0,_S=Ba.EventType=x1,tb=Ba.Event=oh,nb=Ba.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yr=Ba.FetchXmlHttpFactory=gp,ib=Ba.WebChannel=JD,yS=Ba.XhrIo=ji;const J1="@firebase/firestore";class Wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let El="9.6.0";const Tc=new dc.Yd("@firebase/firestore");function X1(){return Tc.logLevel}function at(n,...e){if(Tc.logLevel<=dc.in.DEBUG){const t=e.map(rb);Tc.debug(`Firestore (${El}): ${n}`,...t)}}function $i(n,...e){if(Tc.logLevel<=dc.in.ERROR){const t=e.map(rb);Tc.error(`Firestore (${El}): ${n}`,...t)}}function vp(n,...e){if(Tc.logLevel<=dc.in.WARN){const t=e.map(rb);Tc.warn(`Firestore (${El}): ${n}`,...t)}}function rb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Nt(n="Unexpected state"){const e=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: `+n;throw $i(e),new Error(e)}function Gt(n,e){n||Nt()}function gt(n,e){return n}const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wr.UNAUTHENTICATED))}shutdown(){}}class tE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class r_{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const u=A=>this.i!==a?(a=this.i,t(A)):Promise.resolve();let h=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ir,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const A=h;e.enqueueRetryable((0,Ne.Z)(function*(){yield A.promise,yield u(i.currentUser)}))},C=A=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(A=>C(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?C(A):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ir)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Gt("string"==typeof i.accessToken),new bp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gt(null===e||"string"==typeof e),new Wr(e)}}class bS{constructor(e,t,i){this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class CS{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new bS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wS{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=a=>{e.enqueueRetryable(()=>{return null!=(u=a).error&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`),t(u.token);var u})};const i=a=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gt("string"==typeof t.token),new nE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ys{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.p(i),this.T=i=>t.writeSequenceNumber(i))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function TS(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}Ys.I=-1;class iE{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=TS(40);for(let u=0;u<a.length;++u)i.length<20&&a[u]<t&&(i+=e.charAt(a[u]%e.length))}return i}}function xn(n,e){return n<e?-1:n>e?1:0}function fh(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}function rE(n){return n+"\0"}class vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new vr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gn(e)}static min(){return new gn(new vr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Cp(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ES(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Il{constructor(e,t,i){void 0===t?t=0:t>e.length&&Nt(),void 0===i?i=e.length-t:i>e.length-t&&Nt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Il.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Il?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const u=e.get(a),h=t.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pt extends Il{construct(e,t,i){return new Pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new tt(Be.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Pt(t)}static emptyPath(){return new Pt([])}}const Ec=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Il{construct(e,t,i){return new Ai(e,t,i)}static isValidIdentifier(e){return Ec.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const u=()=>{if(0===i.length)throw new tt(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;a<e.length;){const g=e[a];if("\\"===g){if(a+1===e.length)throw new tt(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const C=e[a+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new tt(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=C,a+=2}else"`"===g?(h=!h,a++):"."!==g||h?(i+=g,a++):(u(),a++)}if(u(),h)throw new tt(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(t)}static emptyPath(){return new Ai([])}}class Ha{constructor(e){this.fields=e,e.sort(Ai.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Dt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new Dt(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const sE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ic(n){if(Gt(!!n),"string"==typeof n){let e=0;const t=sE.exec(n);if(Gt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zi(n.seconds),nanos:zi(n.nanos)}}function zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hu(n){return"string"==typeof n?Dt.fromBase64String(n):Dt.fromUint8Array(n)}function sb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ob(n){const e=n.mapValue.fields.__previous_value__;return sb(e)?ob(e):e}function Gr(n){const e=Ic(n.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}function Al(n){return null==n}function ja(n){return 0===n&&1/n==-1/0}function ab(n){return"number"==typeof n&&Number.isInteger(n)&&!ja(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(Pt.fromString(e))}static fromName(e){return new Mt(Pt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Pt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new Pt(e.slice()))}}function ph(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sb(n)?4:10:Nt()}function $a(n,e){const t=ph(n);if(t!==ph(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gr(n).isEqual(Gr(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Ic(i.timestampValue),h=Ic(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Hu(n.bytesValue).isEqual(Hu(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return zi(i.geoPointValue.latitude)===zi(a.geoPointValue.latitude)&&zi(i.geoPointValue.longitude)===zi(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return zi(i.integerValue)===zi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=zi(i.doubleValue),h=zi(a.doubleValue);return u===h?ja(u)===ja(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return fh(n.arrayValue.values||[],e.arrayValue.values||[],$a);case 10:return function(i,a){const u=i.mapValue.fields||{},h=a.mapValue.fields||{};if(Cp(u)!==Cp(h))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===h[g]||!$a(u[g],h[g])))return!1;return!0}(n,e);default:return Nt()}var a}function wp(n,e){return void 0!==(n.values||[]).find(t=>$a(t,e))}function kr(n,e){const t=ph(n),i=ph(e);if(t!==i)return xn(t,i);switch(t){case 0:return 0;case 1:return xn(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=zi(a.integerValue||a.doubleValue),g=zi(u.integerValue||u.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return yi(n.timestampValue,e.timestampValue);case 4:return yi(Gr(n),Gr(e));case 5:return xn(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Hu(a),g=Hu(u);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),g=u.split("/");for(let C=0;C<h.length&&C<g.length;C++){const A=xn(h[C],g[C]);if(0!==A)return A}return xn(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=xn(zi(a.latitude),zi(u.latitude));return 0!==h?h:xn(zi(a.longitude),zi(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,u){const h=a.values||[],g=u.values||[];for(let C=0;C<h.length&&C<g.length;++C){const A=kr(h[C],g[C]);if(A)return A}return xn(h.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,u){const h=a.fields||{},g=Object.keys(h),C=u.fields||{},A=Object.keys(C);g.sort(),A.sort();for(let L=0;L<g.length&&L<A.length;++L){const B=xn(g[L],A[L]);if(0!==B)return B;const re=kr(h[g[L]],C[A[L]]);if(0!==re)return re}return xn(g.length,A.length)}(n.mapValue,e.mapValue);default:throw Nt()}}function yi(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xn(n,e);const t=Ic(n),i=Ic(e),a=xn(t.seconds,i.seconds);return 0!==a?a:xn(t.nanos,i.nanos)}function Qs(n){return s_(n)}function s_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=Ic(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hu(n.bytesValue).toBase64():"referenceValue"in n?Mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=s_(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const g of a)h?h=!1:u+=",",u+=`${g}:${s_(i.fields[g])}`;return u+"}"}(n.mapValue):Nt();var e}function o_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function a_(n){return!!n&&"integerValue"in n}function Tp(n){return!!n&&"arrayValue"in n}function ju(n){return!!n&&"nullValue"in n}function gh(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function l_(n){return!!n&&"mapValue"in n}function sa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return qa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=sa(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sa(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!l_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(t)}setAll(e){let t=Ai.emptyPath(),i={},a=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const C=this.getFieldsMap(t);this.applyChanges(C,i,a),i={},a=[],t=g.popLast()}h?i[g.lastSegment()]=sa(h):a.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,a)}delete(e){const t=this.field(e.popLast());l_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $a(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];l_(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){qa(t,(a,u)=>e[a]=u);for(const a of i)delete e[a]}clone(){return new Kr(sa(this.value))}}function lb(n){const e=[];return qa(n.fields,(t,i)=>{const a=new Ai([t]);if(l_(i)){const u=lb(i.mapValue).fields;if(0===u.length)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Ha(e)}class ri{constructor(e,t,i,a,u){this.key=e,this.documentType=t,this.version=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new ri(e,0,gn.min(),Kr.empty(),0)}static newFoundDocument(e,t,i){return new ri(e,1,t,i,0)}static newNoDocument(e,t){return new ri(e,2,t,Kr.empty(),0)}static newUnknownDocument(e,t){return new ri(e,3,t,Kr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ri&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new ri(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ep{constructor(e,t=null,i=[],a=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=u,this.startAt=h,this.endAt=g,this.R=null}}function c_(n,e=null,t=[],i=[],a=null,u=null,h=null){return new Ep(n,e,t,i,a,u,h)}function mh(n){const e=gt(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+Qs(n.value)}(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),Al(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=ub(e.startAt)),e.endAt&&(t+="|ub:",t+=ub(e.endAt)),e.R=t}return e.R}function u_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!AS(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(i=e.filters[a]).op||!t.field.isEqual(i.field)||!$a(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cE(n.startAt,e.startAt)&&cE(n.endAt,e.endAt)}function $u(n){return Mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Yr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,i):new aE(e,t,i):"array-contains"===t?new cb(e,i):"in"===t?new oL(e,i):"not-in"===t?new aL(e,i):"array-contains-any"===t?new rn(e,i):new Yr(e,t,i)}static P(e,t,i){return"in"===t?new d_(e,i):new IS(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(kr(t,this.value)):null!==t&&ph(this.value)===ph(t)&&this.v(kr(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class aE extends Yr{constructor(e,t,i){super(e,t,i),this.key=Mt.fromName(i.referenceValue)}matches(e){const t=Mt.comparator(e.key,this.key);return this.v(t)}}class d_ extends Yr{constructor(e,t){super(e,"in",t),this.keys=h_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class IS extends Yr{constructor(e,t){super(e,"not-in",t),this.keys=h_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function h_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Mt.fromName(i.referenceValue))}class cb extends Yr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tp(t)&&wp(t.arrayValue,this.value)}}class oL extends Yr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wp(this.value.arrayValue,t)}}class aL extends Yr{constructor(e,t){super(e,"not-in",t)}matches(e){if(wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wp(this.value.arrayValue,t)}}class rn extends Yr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>wp(this.value.arrayValue,i))}}class f_{constructor(e,t){this.position=e,this.before=t}}function ub(n){return`${n.before?"b":"a"}:${n.position.map(e=>Qs(e)).join(",")}`}class Ip{constructor(e,t="asc"){this.field=e,this.dir=t}}function AS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function lE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const u=e[a],h=n.position[a];if(i=u.field.isKeyField()?Mt.comparator(Mt.fromName(h.referenceValue),t.key):kr(h,t.data.field(u.field)),"desc"===u.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function cE(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$a(n.position[t],e.position[t]))return!1;return!0}class xl{constructor(e,t=null,i=[],a=[],u=null,h="F",g=null,C=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=C,this.S=null,this.D=null}}function uE(n,e,t,i,a,u,h,g){return new xl(n,e,t,i,a,u,h,g)}function Qr(n){return new xl(n)}function p_(n){return!Al(n.limit)&&"F"===n.limitType}function g_(n){return!Al(n.limit)&&"L"===n.limitType}function db(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function hb(n){for(const e of n.filters)if(e.V())return e.field;return null}function zu(n){return null!==n.collectionGroup}function yh(n){const e=gt(n);if(null===e.S){e.S=[];const t=hb(e),i=db(e);if(null!==t&&null===i)t.isKeyField()||e.S.push(new Ip(t)),e.S.push(new Ip(Ai.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.S.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Ip(Ai.keyField(),u))}}}return e.S}function ko(n){const e=gt(n);if(!e.D)if("F"===e.limitType)e.D=c_(e.path,e.collectionGroup,yh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of yh(e))t.push(new Ip(u.field,"desc"===u.dir?"asc":"desc"));const i=e.endAt?new f_(e.endAt.position,!e.endAt.before):null,a=e.startAt?new f_(e.startAt.position,!e.startAt.before):null;e.D=c_(e.path,e.collectionGroup,t,e.filters,e.limit,i,a)}return e.D}function dE(n,e,t){return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function m_(n,e){return u_(ko(n),ko(e))&&n.limitType===e.limitType}function xS(n){return`${mh(ko(n))}|lt:${n.limitType}`}function fb(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Qs(i.value)}`;var i}).join(", ")}]`),Al(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: "+ub(n.startAt)),n.endAt&&(e+=", endAt: "+ub(n.endAt)),`Target(${e})`}(ko(n))}; limitType=${n.limitType})`}function Wi(n,e){return e.isFoundDocument()&&function(t,i){const a=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Mt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,i){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,e)&&function(t,i){for(const a of t.filters)if(!a.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!lE(t.startAt,yh(t),i)||t.endAt&&lE(t.endAt,yh(t),i)));var t,i}function hE(n){return(e,t)=>{let i=!1;for(const a of yh(n)){const u=DS(a,e,t);if(0!==u)return u;i=i||a.field.isKeyField()}return 0}}function DS(n,e,t){const i=n.field.isKeyField()?Mt.comparator(e.key,t.key):function(a,u,h){const g=u.data.field(a),C=h.data.field(a);return null!==g&&null!==C?kr(g,C):Nt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Nt()}}function __(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(e)?"-0":e}}function fE(n){return{integerValue:""+n}}function pE(n,e){return ab(e)?fE(e):__(n,e)}class y_{constructor(){this._=void 0}}function SS(n,e,t){return n instanceof Ac?function(i,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Wu?mE(n,e):n instanceof xc?v_(n,e):function(i,a){const u=gE(i,a),h=MS(u)+MS(i.N);return a_(u)&&a_(i.N)?fE(h):__(i.k,h)}(n,e)}function kS(n,e,t){return n instanceof Wu?mE(n,e):n instanceof xc?v_(n,e):t}function gE(n,e){return n instanceof vh?a_(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ac extends y_{}class Wu extends y_{constructor(e){super(),this.elements=e}}function mE(n,e){const t=_E(e);for(const i of n.elements)t.some(a=>$a(a,i))||t.push(i);return{arrayValue:{values:t}}}class xc extends y_{constructor(e){super(),this.elements=e}}function v_(n,e){let t=_E(e);for(const i of n.elements)t=t.filter(a=>!$a(a,i));return{arrayValue:{values:t}}}class vh extends y_{constructor(e,t){super(),this.k=e,this.N=t}}function MS(n){return zi(n.integerValue||n.doubleValue)}function _E(n){return Tp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ap{constructor(e,t){this.field=e,this.transform=t}}class PS{constructor(e,t){this.version=e,this.transformResults=t}}class Gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Dc{}function RS(n,e,t){n instanceof Ch?function(i,a,u){const h=i.value.clone(),g=bE(i.fieldTransforms,a,u.transformResults);h.setAll(g),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Sc?function(i,a,u){if(!b_(i.precondition,a))return void a.convertToUnknownDocument(u.version);const h=bE(i.fieldTransforms,a,u.transformResults),g=a.data;g.setAll(vE(i)),g.setAll(h),a.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pb(n,e,t){var a;n instanceof Ch?function(i,a,u){if(!b_(i.precondition,a))return;const h=i.value.clone(),g=CE(i.fieldTransforms,u,a);h.setAll(g),a.convertToFoundDocument(LS(a),h).setHasLocalMutations()}(n,e,t):n instanceof Sc?function(i,a,u){if(!b_(i.precondition,a))return;const h=CE(i.fieldTransforms,u,a),g=a.data;g.setAll(vE(i)),g.setAll(h),a.convertToFoundDocument(LS(a),g).setHasLocalMutations()}(n,e,t):b_(n.precondition,a=e)&&a.convertToNoDocument(gn.min())}function yE(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),u=gE(i.transform,a||null);null!=u&&(null==t&&(t=Kr.empty()),t.set(i.field,u))}return t||null}function bh(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&fh(t,i,(a,u)=>function(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Wu&&i instanceof Wu||t instanceof xc&&i instanceof xc?fh(t.elements,i.elements,$a):t instanceof vh&&i instanceof vh?$a(t.N,i.N):t instanceof Ac&&i instanceof Ac);var t,i}(a,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function LS(n){return n.isFoundDocument()?n.version:gn.min()}class Ch extends Dc{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}}class Sc extends Dc{constructor(e,t,i,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=u,this.type=1}}function vE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function bE(n,e,t){const i=new Map;Gt(n.length===t.length);for(let a=0;a<t.length;a++){const u=n[a],h=u.transform,g=e.data.field(u.field);i.set(u.field,kS(h,g,t[a]))}return i}function CE(n,e,t){const i=new Map;for(const a of n){const u=a.transform,h=t.data.field(a.field);i.set(a.field,SS(u,h,e))}return i}class xp extends Dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class C_ extends Dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class NS{constructor(e){this.count=e}}var Ki,Pn;function FS(n){switch(n){default:return Nt();case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0}}function US(n){if(void 0===n)return $i("GRPC error has no .code"),Be.UNKNOWN;switch(n){case Ki.OK:return Be.OK;case Ki.CANCELLED:return Be.CANCELLED;case Ki.UNKNOWN:return Be.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return Be.INTERNAL;case Ki.UNAVAILABLE:return Be.UNAVAILABLE;case Ki.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case Ki.NOT_FOUND:return Be.NOT_FOUND;case Ki.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case Ki.ABORTED:return Be.ABORTED;case Ki.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case Ki.DATA_LOSS:return Be.DATA_LOSS;default:return Nt()}}(Pn=Ki||(Ki={}))[Pn.OK=0]="OK",Pn[Pn.CANCELLED=1]="CANCELLED",Pn[Pn.UNKNOWN=2]="UNKNOWN",Pn[Pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pn[Pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pn[Pn.NOT_FOUND=5]="NOT_FOUND",Pn[Pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pn[Pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pn[Pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pn[Pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pn[Pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pn[Pn.ABORTED=10]="ABORTED",Pn[Pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pn[Pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pn[Pn.INTERNAL=13]="INTERNAL",Pn[Pn.UNAVAILABLE=14]="UNAVAILABLE",Pn[Pn.DATA_LOSS=15]="DATA_LOSS";class Fi{constructor(e,t){this.comparator=e,this.root=t||Mr.EMPTY}insert(e,t){return new Fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new Fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new w_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new w_(this.root,e,this.comparator,!1)}getReverseIterator(){return new w_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new w_(this.root,e,this.comparator,!0)}}class w_{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,t,i,a,u){this.key=e,this.value=t,this.color=null!=i?i:Mr.RED,this.left=null!=a?a:Mr.EMPTY,this.right=null!=u?u:Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,u){return new Mr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=a?a:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const u=i(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Mr.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1,Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(n,e,t,i,a){return this}insert(n,e,t){return new Mr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xi{constructor(e){this.comparator=e,this.data=new Fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof xi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xi(this.comparator);return t.data=e,t}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ZS=new Fi(Mt.comparator);function Mo(){return ZS}const TE=new Fi(Mt.comparator);function Dp(){return TE}const BS=new Fi(Mt.comparator);function Or(){return BS}const EE=new xi(Mt.comparator);function wn(...n){let e=EE;for(const t of n)e=e.add(t);return e}const gb=new xi(xn);function T_(){return gb}class wh{constructor(e,t,i,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,E_.createSynthesizedTargetChangeForCurrentChange(e,t)),new wh(gn.min(),i,T_(),Mo(),wn())}}class E_{constructor(e,t,i,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new E_(Dt.EMPTY_BYTE_STRING,t,wn(),wn(),wn())}}class I_{constructor(e,t,i,a){this.$=e,this.removedTargetIds=t,this.key=i,this.F=a}}class IE{constructor(e,t){this.targetId=e,this.O=t}}class AE{constructor(e,t,i=Dt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Th{constructor(){this.M=0,this.L=DE(),this.B=Dt.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=wn(),t=wn(),i=wn();return this.L.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Nt()}}),new E_(this.B,this.U,e,t,i)}H(){this.q=!1,this.L=DE()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class xE{constructor(e){this.et=e,this.nt=new Map,this.st=Mo(),this.it=VS(),this.rt=new xi(xn)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const i=this.ht(t);switch(e.state){case 0:this.lt(t)&&i.W(e.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(e.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(t);break;case 3:this.lt(t)&&(i.tt(),i.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),i.W(e.resumeToken));break;default:Nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((i,a)=>{this.lt(a)&&t(a)})}dt(e){const t=e.targetId,i=e.O.count,a=this.wt(t);if(a){const u=a.target;if($u(u))if(0===i){const h=new Mt(u.path);this.ct(t,h,ri.newNoDocument(h,gn.min()))}else Gt(1===i);else this._t(t)!==i&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((u,h)=>{const g=this.wt(h);if(g){if(u.current&&$u(g.target)){const C=new Mt(g.target.path);null!==this.st.get(C)||this.yt(h,C)||this.ct(h,C,ri.newNoDocument(C,e))}u.j&&(t.set(h,u.G()),u.H())}});let i=wn();this.it.forEach((u,h)=>{let g=!0;h.forEachWhile(C=>{const A=this.wt(C);return!A||2===A.purpose||(g=!1,!1)}),g&&(i=i.add(u))});const a=new wh(e,t,this.rt,this.st,i);return this.st=Mo(),this.it=VS(),this.rt=new xi(xn),a}at(e,t){if(!this.lt(e))return;const i=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,i),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.lt(e))return;const a=this.ht(e);this.yt(e,t)?a.J(t,1):a.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),i&&(this.st=this.st.insert(t,i))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new Th,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new xi(xn),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||at("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new Th),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function VS(){return new Fi(Mt.comparator)}function DE(){return new Fi(Mt.comparator)}const lL={asc:"ASCENDING",desc:"DESCENDING"},cL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class uL{constructor(e,t){this.databaseId=e,this.C=t}}function Gu(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(n,e){return n.C?e.toBase64():e.toUint8Array()}function qS(n,e){return Gu(n,e.toTimestamp())}function br(n){return Gt(!!n),gn.fromTimestamp(function(e){const t=Ic(e);return new vr(t.seconds,t.nanos)}(n))}function kE(n,e){return(t=n,new Pt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ME(n){const e=Pt.fromString(n);return Gt(wb(e)),e}function Sp(n,e){return kE(n.databaseId,e.path)}function za(n,e){const t=ME(e);if(t.get(1)!==n.databaseId.projectId)throw new tt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new tt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Mt(OE(t))}function Js(n,e){return kE(n.databaseId,e)}function HS(n){const e=ME(n);return 4===e.length?Pt.emptyPath():OE(e)}function Eh(n){return new Pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OE(n){return Gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function mb(n,e,t){return{name:Sp(n,e),fields:t.value.mapValue.fields}}function _b(n,e,t){const i=za(n,e.name),a=br(e.updateTime),u=new Kr({mapValue:{fields:e.fields}}),h=ri.newFoundDocument(i,a,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Ih(n,e){let t;if(e instanceof Ch)t={update:mb(n,e.key,e.value)};else if(e instanceof xp)t={delete:Sp(n,e.key)};else if(e instanceof Sc)t={update:mb(n,e.key,e.data),updateMask:D_(e.fieldMask)};else{if(!(e instanceof C_))return Nt();t={verify:Sp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof Ac)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Wu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof vh)return{fieldPath:u.field.canonicalString(),increment:h.N};throw Nt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:qS(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Nt()),t;var a}function A_(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Gi.updateTime(br(a.updateTime)):void 0!==a.exists?Gi.exists(a.exists):Gi.none():Gi.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(u,h){let g=null;"setToServerValue"in h?(Gt("REQUEST_TIME"===h.setToServerValue),g=new Ac):"appendMissingElements"in h?g=new Wu(h.appendMissingElements.values||[]):"removeAllFromArray"in h?g=new xc(h.removeAllFromArray.values||[]):"increment"in h?g=new vh(u,h.increment):Nt();const C=Ai.fromServerFormat(h.fieldPath);return new Ap(C,g)}(n,a)):[];var a;if(e.update){const a=za(n,e.update.name),u=new Kr({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Ha((e.updateMask.fieldPaths||[]).map(A=>Ai.fromServerFormat(A)));return new Sc(a,u,h,t,i)}return new Ch(a,u,t,i)}if(e.delete){const a=za(n,e.delete);return new xp(a,t)}if(e.verify){const a=za(n,e.verify);return new C_(a,t)}return Nt()}function kp(n,e){return{documents:[Js(n,e.path)]}}function vb(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Js(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Js(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(g){if(0===g.length)return;const C=g.map(A=>function(L){if("=="===L.op){if(gh(L.value))return{unaryFilter:{field:kc(L.field),op:"IS_NAN"}};if(ju(L.value))return{unaryFilter:{field:kc(L.field),op:"IS_NULL"}}}else if("!="===L.op){if(gh(L.value))return{unaryFilter:{field:kc(L.field),op:"IS_NOT_NAN"}};if(ju(L.value))return{unaryFilter:{field:kc(L.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kc(L.field),op:zS(L.op),value:L.value}}}(A));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);a&&(t.structuredQuery.where=a);const u=function(g){if(0!==g.length)return g.map(C=>{return{field:kc((A=C).field),direction:$S(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(C=e.limit,n.C||Al(C)?C:{value:C});var C;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=Cb(e.startAt)),e.endAt&&(t.structuredQuery.endAt=Cb(e.endAt)),t}function bb(n){let e=HS(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Gt(1===i);const L=t.from[0];L.allDescendants?a=L.collectionId:e=e.child(L.collectionId)}let u=[];t.where&&(u=RE(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(L=>{return new Ip(Ah((B=L).field),function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction));var B}));let g=null;t.limit&&(g=function(L){let B;return B="object"==typeof L?L.value:L,Al(B)?null:B}(t.limit));let C=null;t.startAt&&(C=LE(t.startAt));let A=null;return t.endAt&&(A=LE(t.endAt)),uE(e,a,h,u,g,"F",C,A)}function RE(n){return n?void 0!==n.unaryFilter?[Mp(n)]:void 0!==n.fieldFilter?[ms(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>RE(e)).reduce((e,t)=>e.concat(t)):Nt():[]}function Cb(n){return{before:n.before,values:n.position}}function LE(n){return new f_(n.values||[],!!n.before)}function $S(n){return lL[n]}function zS(n){return cL[n]}function kc(n){return{fieldPath:n.canonicalString()}}function Ah(n){return Ai.fromServerFormat(n.fieldPath)}function ms(n){return Yr.create(Ah(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Mp(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ah(n.unaryFilter.field);return Yr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ah(n.unaryFilter.field);return Yr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ah(n.unaryFilter.field);return Yr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ah(n.unaryFilter.field);return Yr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}function D_(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ks(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Eb(e)),e=Tb(n.get(t),e);return Eb(e)}function Tb(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const u=n.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Eb(n){return n+"\x01\x01"}function Oo(n){const e=n.length;if(Gt(e>=2),2===e)return Gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Pt.emptyPath();const t=e-2,i=[];let a="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&Nt(),n.charAt(h+1)){case"\x01":const g=n.substring(u,h);let C;0===a.length?C=g:(a+=g,C=a,a=""),i.push(C);break;case"\x10":a+=n.substring(u,h),a+="\0";break;case"\x11":a+=n.substring(u,h+1);break;default:Nt()}u=h+2}return new Pt(i)}class WS{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Xs{constructor(e,t,i){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=i}}Xs.store="owner",Xs.key="owner";class Mc{constructor(e,t,i){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=i}}Mc.store="mutationQueues",Mc.keyPath="userId";class di{constructor(e,t,i,a,u){this.userId=e,this.batchId=t,this.localWriteTimeMs=i,this.baseMutations=a,this.mutations=u}}di.store="mutations",di.keyPath="batchId",di.userMutationsIndex="userMutationsIndex",di.userMutationsKeyPath=["userId","batchId"];class Pr{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ks(t)]}static key(e,t,i){return[e,ks(t),i]}}Pr.store="documentMutations",Pr.PLACEHOLDER=new Pr;class GS{constructor(e,t){this.path=e,this.readTime=t}}class KS{constructor(e,t){this.path=e,this.version=t}}class Di{constructor(e,t,i,a,u,h){this.unknownDocument=e,this.noDocument=t,this.document=i,this.hasCommittedMutations=a,this.readTime=u,this.parentPath=h}}Di.store="remoteDocuments",Di.readTimeIndex="readTimeIndex",Di.readTimeIndexPath="readTime",Di.collectionReadTimeIndex="collectionReadTimeIndex",Di.collectionReadTimeIndexPath=["parentPath","readTime"];class Rr{constructor(e){this.byteSize=e}}Rr.store="remoteDocumentGlobal",Rr.key="remoteDocumentGlobalKey";class Cr{constructor(e,t,i,a,u,h,g){this.targetId=e,this.canonicalId=t,this.readTime=i,this.resumeToken=a,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=h,this.query=g}}Cr.store="targets",Cr.keyPath="targetId",Cr.queryTargetsIndexName="queryTargetsIndex",Cr.queryTargetsKeyPath=["canonicalId","targetId"];class rr{constructor(e,t,i){this.targetId=e,this.path=t,this.sequenceNumber=i}}rr.store="targetDocuments",rr.keyPath=["targetId","path"],rr.documentTargetsIndex="documentTargetsIndex",rr.documentTargetsKeyPath=["path","targetId"];class eo{constructor(e,t,i,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=i,this.targetCount=a}}eo.key="targetGlobalKey",eo.store="targetGlobal";class Ku{constructor(e,t){this.collectionId=e,this.parent=t}}Ku.store="collectionParents",Ku.keyPath=["collectionId","parent"];class Dl{constructor(e,t,i,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=i,this.inForeground=a}}Dl.store="clientMetadata",Dl.keyPath="clientId";class Oc{constructor(e,t,i){this.bundleId=e,this.createTime=t,this.version=i}}Oc.store="bundles",Oc.keyPath="bundleId";class xh{constructor(e,t,i){this.name=e,this.readTime=t,this.bundledQuery=i}}xh.store="namedQueries",xh.keyPath="name";const NE=[Mc.store,di.store,Pr.store,Di.store,Cr.store,Xs.store,eo.store,rr.store,Dl.store,Rr.store,Ku.store,Oc.store,xh.store],Ib="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new et((i,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof et?t:et.resolve(t)}catch(t){return et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):et.reject(t)}static resolve(e){return new et((t,i)=>{t(e)})}static reject(e){return new et((t,i)=>{i(e)})}static waitFor(e){return new et((t,i)=>{let a=0,u=0,h=!1;e.forEach(g=>{++a,g.next(()=>{++u,h&&u===a&&t()},C=>i(C))}),h=!0,u===a&&t()})}static or(e){let t=et.resolve(!1);for(const i of e)t=t.next(a=>a?et.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,u)=>{i.push(t.call(this,a,u))}),this.waitFor(i)}}class S_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new ir,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Wa(e,t.error)):this.It.resolve()},this.transaction.onerror=i=>{const a=Ab(i.target.error);this.It.reject(new Wa(e,a))}}static open(e,t,i,a){try{return new S_(t,e.transaction(a,i))}catch(u){throw new Wa(t,u)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(at("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Dh(t)}}class sr{constructor(e,t,i){this.name=e,this.version=t,this.Rt=i,12.2===sr.Pt((0,Jt.z$)())&&$i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return at("SimpleDb","Removing database:",e),Yu(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Jt.hl)())return!1;if(sr.vt())return!0;const e=(0,Jt.z$)(),t=sr.Pt(e),i=0<t&&t<10,a=sr.Vt(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(at("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{i(h.target.result)},u.onblocked=()=>{a(new Wa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const g=h.target.error;a("VersionError"===g.name?new tt(Be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new tt(Be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Wa(e,g))},u.onupgradeneeded=h=>{at("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{at("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=i=>t.kt(i)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,a){var u=this;return(0,Ne.Z)(function*(){const h="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.Ct(e);const C=S_.open(u.db,e,h?"readonly":"readwrite",i),A=a(C).catch(L=>(C.abort(L),et.reject(L))).toPromise();return A.catch(()=>{}),yield C.At,A}catch(C){const A="FirebaseError"!==C.name&&g<3;if(at("SimpleDb","Transaction failed with error:",C.message,"Retrying:",A),u.close(),!A)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Op{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return Yu(this.$t.delete())}}class Wa extends tt{constructor(e,t){super(Be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ga(n){return"IndexedDbTransactionError"===n.name}class Dh{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(at("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(at("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Yu(i)}add(e){return at("SimpleDb","ADD",this.store.name,e,e),Yu(this.store.add(e))}get(e){return Yu(this.store.get(e)).next(t=>(void 0===t&&(t=null),at("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return at("SimpleDb","DELETE",this.store.name,e),Yu(this.store.delete(e))}count(){return at("SimpleDb","COUNT",this.store.name),Yu(this.store.count())}Bt(e,t){const i=this.cursor(this.options(e,t)),a=[];return this.Ut(i,(u,h)=>{a.push(h)}).next(()=>a)}qt(e,t){at("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Kt=!1;const a=this.cursor(i);return this.Ut(a,(u,h,g)=>g.delete())}jt(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.Ut(a,t)}Qt(e){const t=this.cursor({});return new et((i,a)=>{t.onerror=u=>{const h=Ab(u.target.error);a(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(g=>{g?h.continue():i()}):i()}})}Ut(e,t){const i=[];return new et((a,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const g=h.target.result;if(!g)return void a();const C=new Op(g),A=t(g.primaryKey,g.value,C);if(A instanceof et){const L=A.catch(B=>(C.done(),et.reject(B)));i.push(L)}C.isDone?a():null===C.Mt?g.continue():g.continue(C.Mt)}}).next(()=>et.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Kt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yu(n){return new et((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const a=Ab(i.target.error);t(a)}})}let UE=!1;function Ab(n){const e=sr.Pt((0,Jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UE||(UE=!0,setTimeout(()=>{throw i},0)),i}}return n}class xb extends FE{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function _s(n,e){const t=gt(n);return sr.Dt(t.Wt,e)}class k_{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&RS(u,e,i[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&pb(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&pb(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),a=i;this.applyToLocalView(a),i.isValidDocument()||a.convertToNoDocument(gn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wn())}isEqual(e){return this.batchId===e.batchId&&fh(this.mutations,e.mutations,(t,i)=>bh(t,i))&&fh(this.baseMutations,e.baseMutations,(t,i)=>bh(t,i))}}class M_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Gt(e.mutations.length===i.length);let a=Or();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,i[h].version);return new M_(e,t,i,a)}}class Ka{constructor(e,t,i,a,u=gn.min(),h=gn.min(),g=Dt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ZE{constructor(e){this.Gt=e}}function Db(n,e){if(e.document)return _b(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Mt.fromSegments(e.noDocument.path),i=kh(e.noDocument.readTime),a=ri.newNoDocument(t,i);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=Mt.fromSegments(e.unknownDocument.path),i=kh(e.unknownDocument.version);return ri.newUnknownDocument(t,i)}return Nt()}function Sb(n,e,t){const i=Sl(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const u={name:Sp(g=n.Gt,(C=e).key),fields:C.data.value.mapValue.fields,updateTime:Gu(g,C.version.toTimestamp())};return new Di(null,null,u,e.hasCommittedMutations,i,a)}var g,C;if(e.isNoDocument()){const u=e.key.path.toArray(),h=Sh(e.version),g=e.hasCommittedMutations;return new Di(null,new GS(u,h),null,g,i,a)}if(e.isUnknownDocument()){const u=e.key.path.toArray(),h=Sh(e.version);return new Di(new KS(u,h),null,null,!0,i,a)}return Nt()}function Sl(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function O_(n){const e=new vr(n[0],n[1]);return gn.fromTimestamp(e)}function Sh(n){const e=n.toTimestamp();return new WS(e.seconds,e.nanoseconds)}function kh(n){const e=new vr(n.seconds,n.nanoseconds);return gn.fromTimestamp(e)}function Pp(n,e){const t=(e.baseMutations||[]).map(u=>A_(n.Gt,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const i=e.mutations.map(u=>A_(n.Gt,u)),a=vr.fromMillis(e.localWriteTimeMs);return new k_(e.batchId,a,t,i)}function P_(n){const e=kh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?kh(n.lastLimboFreeSnapshotVersion):gn.min();let i;var a;return void 0!==n.query.documents?(Gt(1===(a=n.query).documents.length),i=ko(Qr(HS(a.documents[0])))):i=ko(bb(n.query)),new Ka(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Dt.fromBase64String(n.resumeToken))}function YS(n,e){const t=Sh(e.snapshotVersion),i=Sh(e.lastLimboFreeSnapshotVersion);let a;a=$u(e.target)?kp(n.Gt,e.target):vb(n.Gt,e.target);const u=e.resumeToken.toBase64();return new Cr(e.targetId,mh(e.target),t,u,e.sequenceNumber,i,a)}function BE(n){const e=bb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dE(e,e.limit,"L"):e}class QS{getBundleMetadata(e,t){return VE(e).get(t).next(i=>{if(i)return{id:(a=i).bundleId,createTime:kh(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return VE(e).put({bundleId:(i=t).id,createTime:Sh(br(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return JS(e).get(t).next(i=>{if(i)return{name:(a=i).name,query:BE(a.bundledQuery),readTime:kh(a.readTime)};var a})}saveNamedQuery(e,t){return JS(e).put({name:(i=t).name,readTime:Sh(br(i.readTime)),bundledQuery:i.bundledQuery});var i}}function VE(n){return _s(n,Oc.store)}function JS(n){return _s(n,xh.store)}class dL{constructor(){this.zt=new qE}addToCollectionParentIndex(e,t){return this.zt.add(t),et.resolve()}getCollectionParents(e,t){return et.resolve(this.zt.getEntries(t))}}class qE{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new xi(Pt.comparator),u=!a.has(i);return this.index[t]=a.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new xi(Pt.comparator)).toArray()}}class hL{constructor(){this.Ht=new qE}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const u={collectionId:i,parent:ks(a)};return HE(e).put(u)}return et.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[rE(t),""],!1,!0);return HE(e).Bt(a).next(u=>{for(const h of u){if(h.collectionId!==t)break;i.push(Oo(h.parent))}return i})}}function HE(n){return _s(n,Ku.store)}const XS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class to{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new to(e,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ek(n,e,t){const i=n.store(di.store),a=n.store(Pr.store),u=[],h=IDBKeyRange.only(t.batchId);let g=0;const C=i.jt({range:h},(L,B,re)=>(g++,re.delete()));u.push(C.next(()=>{Gt(1===g)}));const A=[];for(const L of t.mutations){const B=Pr.key(e,L.key.path,t.batchId);u.push(a.delete(B)),A.push(L.key)}return et.waitFor(u).next(()=>A)}function kb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Nt();e=n.noDocument}return JSON.stringify(e).length}to.DEFAULT_COLLECTION_PERCENTILE=10,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,to.DEFAULT=new to(41943040,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),to.DISABLED=new to(-1,0,0);class s{constructor(e,t,i,a){this.userId=e,this.k=t,this.Jt=i,this.referenceDelegate=a,this.Yt={}}static Xt(e,t,i,a){Gt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new s(u,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return l(e).jt({index:di.userMutationsIndex,range:i},(a,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const u=c(e),h=l(e);return h.add({}).next(g=>{Gt("number"==typeof g);const C=new k_(g,t,i,a),A=function(re,he,Ce){const Ve=Ce.baseMutations.map(At=>Ih(re.Gt,At)),Ke=Ce.mutations.map(At=>Ih(re.Gt,At));return new di(he,Ce.batchId,Ce.localWriteTime.toMillis(),Ve,Ke)}(this.k,this.userId,C),L=[];let B=new xi((re,he)=>xn(re.canonicalString(),he.canonicalString()));for(const re of a){const he=Pr.key(this.userId,re.key.path,g);B=B.add(re.key.path.popLast()),L.push(h.put(A)),L.push(u.put(he,Pr.PLACEHOLDER))}return B.forEach(re=>{L.push(this.Jt.addToCollectionParentIndex(e,re))}),e.addOnCommittedListener(()=>{this.Yt[g]=C.keys()}),et.waitFor(L).next(()=>C)})}lookupMutationBatch(e,t){return l(e).get(t).next(i=>i?(Gt(i.userId===this.userId),Pp(this.k,i)):null)}Zt(e,t){return this.Yt[t]?et.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.Yt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let u=null;return l(e).jt({index:di.userMutationsIndex,range:a},(h,g,C)=>{g.userId===this.userId&&(Gt(g.batchId>=i),u=Pp(this.k,g)),C.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return l(e).jt({index:di.userMutationsIndex,range:t,reverse:!0},(a,u,h)=>{i=u.batchId,h.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return l(e).Bt(di.userMutationsIndex,t).next(i=>i.map(a=>Pp(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Pr.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(i),u=[];return c(e).jt({range:a},(h,g,C)=>{const[A,L,B]=h,re=Oo(L);if(A===this.userId&&t.path.isEqual(re))return l(e).get(B).next(he=>{if(!he)throw Nt();Gt(he.userId===this.userId),u.push(Pp(this.k,he))});C.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new xi(xn);const a=[];return t.forEach(u=>{const h=Pr.prefixForPath(this.userId,u.path),g=IDBKeyRange.lowerBound(h),C=c(e).jt({range:g},(A,L,B)=>{const[re,he,Ce]=A,Ve=Oo(he);re===this.userId&&u.path.isEqual(Ve)?i=i.add(Ce):B.done()});a.push(C)}),et.waitFor(a).next(()=>this.te(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,u=Pr.prefixForPath(this.userId,i),h=IDBKeyRange.lowerBound(u);let g=new xi(xn);return c(e).jt({range:h},(C,A,L)=>{const[B,re,he]=C,Ce=Oo(re);B===this.userId&&i.isPrefixOf(Ce)?Ce.length===a&&(g=g.add(he)):L.done()}).next(()=>this.te(e,g))}te(e,t){const i=[],a=[];return t.forEach(u=>{a.push(l(e).get(u).next(h=>{if(null===h)throw Nt();Gt(h.userId===this.userId),i.push(Pp(this.k,h))}))}),et.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return ek(e.Wt,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),et.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return et.resolve();const i=IDBKeyRange.lowerBound(Pr.prefixForUser(this.userId)),a=[];return c(e).jt({range:i},(u,h,g)=>{if(u[0]===this.userId){const C=Oo(u[1]);a.push(C)}else g.done()}).next(()=>{Gt(0===a.length)})})}containsKey(e,t){return o(e,this.userId,t)}ne(e){return d(e).get(this.userId).next(t=>t||new Mc(this.userId,-1,""))}}function o(n,e,t){const i=Pr.prefixForPath(e,t.path),a=i[1],u=IDBKeyRange.lowerBound(i);let h=!1;return c(n).jt({range:u,Kt:!0},(g,C,A)=>{const[L,B,re]=g;L===e&&B===a&&(h=!0),A.done()}).next(()=>h)}function l(n){return _s(n,di.store)}function c(n){return _s(n,Pr.store)}function d(n){return _s(n,Mc.store)}class f{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new f(0)}static re(){return new f(-1)}}class m{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const i=new f(t.highestTargetId);return t.highestTargetId=i.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>gn.fromTimestamp(new vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.oe(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.ae(e,a)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(i=>(i.targetCount+=1,this.ue(t,i),this.ae(e,i))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>v(e).delete(t.targetId)).next(()=>this.oe(e)).next(i=>(Gt(i.targetCount>0),i.targetCount-=1,this.ae(e,i)))}removeTargets(e,t,i){let a=0;const u=[];return v(e).jt((h,g)=>{const C=P_(g);C.sequenceNumber<=t&&null===i.get(C.targetId)&&(a++,u.push(this.removeTargetData(e,C)))}).next(()=>et.waitFor(u)).next(()=>a)}forEachTarget(e,t){return v(e).jt((i,a)=>{const u=P_(a);t(u)})}oe(e){return E(e).get(eo.key).next(t=>(Gt(null!==t),t))}ae(e,t){return E(e).put(eo.key,t)}ce(e,t){return v(e).put(YS(this.k,t))}ue(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const i=mh(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let u=null;return v(e).jt({range:a,index:Cr.queryTargetsIndexName},(h,g,C)=>{const A=P_(g);u_(t,A.target)&&(u=A,C.done())}).next(()=>u)}addMatchingKeys(e,t,i){const a=[],u=x(e);return t.forEach(h=>{const g=ks(h.path);a.push(u.put(new rr(i,g))),a.push(this.referenceDelegate.addReference(e,i,h))}),et.waitFor(a)}removeMatchingKeys(e,t,i){const a=x(e);return et.forEach(t,u=>{const h=ks(u.path);return et.waitFor([a.delete([i,h]),this.referenceDelegate.removeReference(e,i,u)])})}removeMatchingKeysForTargetId(e,t){const i=x(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=x(e);let u=wn();return a.jt({range:i,Kt:!0},(h,g,C)=>{const A=Oo(h[1]),L=new Mt(A);u=u.add(L)}).next(()=>u)}containsKey(e,t){const i=ks(t.path),a=IDBKeyRange.bound([i],[rE(i)],!1,!0);let u=0;return x(e).jt({index:rr.documentTargetsIndex,Kt:!0,range:a},([h,g],C,A)=>{0!==h&&(u++,A.done())}).next(()=>u>0)}Et(e,t){return v(e).get(t).next(i=>i?P_(i):null)}}function v(n){return _s(n,Cr.store)}function E(n){return _s(n,eo.store)}function x(n){return _s(n,rr.store)}function R(n){return z.apply(this,arguments)}function z(){return z=(0,Ne.Z)(function*(n){if(n.code!==Be.FAILED_PRECONDITION||n.message!==Ib)throw n;at("LocalStore","Unexpectedly lost primary lease")}),z.apply(this,arguments)}function Y([n,e],[t,i]){const a=xn(n,t);return 0===a?xn(e,i):a}class ce{constructor(e){this.he=e,this.buffer=new xi(Y),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Y(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ve{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const i=this.we?3e5:6e4;at("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Ne.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Ga(a)?at("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield R(a)}yield t.me(e)}))}}class Fe{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return et.resolve(Ys.I);const i=new ce(t);return this.ge.forEachTarget(e,a=>i.de(a.sequenceNumber)).next(()=>this.ge.pe(e,a=>i.de(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.ge.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(XS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XS):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let i,a,u,h,g,C,A;const L=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(B=>(B>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${B}`),a=this.params.maximumSequenceNumbersToCollect):a=B,h=Date.now(),this.nthSequenceNumber(e,a))).next(B=>(i=B,g=Date.now(),this.removeTargets(e,i,t))).next(B=>(u=B,C=Date.now(),this.removeOrphanedDocuments(e,i))).next(B=>(A=Date.now(),X1()<=dc.in.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-L}ms\n\tDetermined least recently used ${a} in `+(g-h)+`ms\n\tRemoved ${u} targets in `+(C-g)+`ms\n\tRemoved ${B} documents in `+(A-C)+`ms\nTotal Duration: ${A-L}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:B})))}}class Me{constructor(e,t){this.db=e,this.garbageCollector=new Fe(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Ee(e){let t=0;return this.pe(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(i,a)=>t(a))}addReference(e,t,i){return nt(e,i)}removeReference(e,t,i){return nt(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return nt(e,t)}Ae(e,t){return function(i,a){let u=!1;return d(i).Qt(h=>o(i,h,a).next(g=>(g&&(u=!0),et.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Ie(e,(h,g)=>{if(g<=t){const C=this.Ae(e,h).next(A=>{if(!A)return u++,i.getEntry(e,h).next(()=>(i.removeEntry(h),x(e).delete([0,ks(h.path)])))});a.push(C)}}).next(()=>et.waitFor(a)).next(()=>i.apply(e)).next(()=>u)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return nt(e,t)}Ie(e,t){const i=x(e);let a,u=Ys.I;return i.jt({index:rr.documentTargetsIndex},([h,g],{path:C,sequenceNumber:A})=>{0===h?(u!==Ys.I&&t(new Mt(Oo(a)),u),u=A,a=C):u=Ys.I}).next(()=>{u!==Ys.I&&t(new Mt(Oo(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nt(n,e){return x(n).put((i=n.currentSequenceNumber,new rr(0,ks(e.path),i)));var i}class We{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,u]of i)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a){for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t])}else this.inner[i]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),!0;return!1}forEach(e){qa(this.inner,(t,i)=>{for(const[a,u]of i)e(a,u)})}isEmpty(){return ES(this.inner)}}class Rt{constructor(){this.changes=new We(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:gn.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:ri.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?et.resolve(i.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yt{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,i){return or(e).put(Pc(t),i)}removeEntry(e,t){const i=or(e),a=Pc(t);return i.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Re(e,i)))}getEntry(e,t){return or(e).get(Pc(t)).next(i=>this.Pe(t,i))}be(e,t){return or(e).get(Pc(t)).next(i=>({document:this.Pe(t,i),size:kb(i)}))}getEntries(e,t){let i=Mo();return this.ve(e,t,(a,u)=>{const h=this.Pe(a,u);i=i.insert(a,h)}).next(()=>i)}Ve(e,t){let i=Mo(),a=new Fi(Mt.comparator);return this.ve(e,t,(u,h)=>{const g=this.Pe(u,h);i=i.insert(u,g),a=a.insert(u,kb(h))}).next(()=>({documents:i,Se:a}))}ve(e,t,i){if(t.isEmpty())return et.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),u=t.getIterator();let h=u.getNext();return or(e).jt({range:a},(g,C,A)=>{const L=Mt.fromSegments(g);for(;h&&Mt.comparator(h,L)<0;)i(h,null),h=u.getNext();h&&h.isEqual(L)&&(i(h,C),h=u.hasNext()?u.getNext():null),h?A.Lt(h.path.toArray()):A.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i){let a=Mo();const u=t.path.length+1,h={};if(i.isEqual(gn.min())){const g=t.path.toArray();h.range=IDBKeyRange.lowerBound(g)}else{const g=t.path.toArray(),C=Sl(i);h.range=IDBKeyRange.lowerBound([g,C],!0),h.index=Di.collectionReadTimeIndex}return or(e).jt(h,(g,C,A)=>{if(g.length!==u)return;const L=Db(this.k,C);t.path.isPrefixOf(L.key.path)?Wi(t,L)&&(a=a.insert(L.key,L)):A.done()}).next(()=>a)}newChangeBuffer(e){return new In(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Yi(e).get(Rr.key).next(t=>(Gt(!!t),t))}Re(e,t){return Yi(e).put(Rr.key,t)}Pe(e,t){if(t){const i=Db(this.k,t);if(!i.isNoDocument()||!i.version.isEqual(gn.min()))return i}return ri.newInvalidDocument(e)}}class In extends Rt{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new We(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new xi((u,h)=>xn(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const g=this.Ce.get(u);if(h.document.isValidDocument()){const C=Sb(this.De.k,h.document,this.getReadTime(u));a=a.add(u.path.popLast()),i+=kb(C)-g,t.push(this.De.addEntry(e,u,C))}else if(i-=g,this.trackRemovals){const C=Sb(this.De.k,ri.newNoDocument(u,gn.min()),this.getReadTime(u));t.push(this.De.addEntry(e,u,C))}else t.push(this.De.removeEntry(e,u))}),a.forEach(u=>{t.push(this.De.Jt.addToCollectionParentIndex(e,u))}),t.push(this.De.updateMetadata(e,i)),et.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(i=>(this.Ce.set(t,i.size),i.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:i,Se:a})=>(a.forEach((u,h)=>{this.Ce.set(u,h)}),i))}}function Yi(n){return _s(n,Rr.store)}function or(n){return _s(n,Di.store)}function Pc(n){return n.path.toArray()}class Mh{constructor(e){this.k=e}Nt(e,t,i,a){Gt(i<a&&i>=0&&a<=11);const u=new S_("createOrUpgrade",t);var g;i<1&&a>=1&&(e.createObjectStore(Xs.store),(g=e).createObjectStore(Mc.store,{keyPath:Mc.keyPath}),g.createObjectStore(di.store,{keyPath:di.keyPath,autoIncrement:!0}).createIndex(di.userMutationsIndex,di.userMutationsKeyPath,{unique:!0}),g.createObjectStore(Pr.store),Qu(e),function(g){g.createObjectStore(Di.store)}(e));let h=et.resolve();return i<3&&a>=3&&(0!==i&&(function(g){g.deleteObjectStore(rr.store),g.deleteObjectStore(Cr.store),g.deleteObjectStore(eo.store)}(e),Qu(e)),h=h.next(()=>function(g){const C=g.store(eo.store),A=new eo(0,0,gn.min().toTimestamp(),0);return C.put(eo.key,A)}(u))),i<4&&a>=4&&(0!==i&&(h=h.next(()=>function(g,C){return C.store(di.store).Bt().next(A=>{g.deleteObjectStore(di.store),g.createObjectStore(di.store,{keyPath:di.keyPath,autoIncrement:!0}).createIndex(di.userMutationsIndex,di.userMutationsKeyPath,{unique:!0});const L=C.store(di.store),B=A.map(re=>L.put(re));return et.waitFor(B)})}(e,u))),h=h.next(()=>{!function(g){g.createObjectStore(Dl.store,{keyPath:Dl.keyPath})}(e)})),i<5&&a>=5&&(h=h.next(()=>this.Ne(u))),i<6&&a>=6&&(h=h.next(()=>(function(g){g.createObjectStore(Rr.store)}(e),this.ke(u)))),i<7&&a>=7&&(h=h.next(()=>this.xe(u))),i<8&&a>=8&&(h=h.next(()=>this.$e(e,u))),i<9&&a>=9&&(h=h.next(()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(e),function(g){const C=g.objectStore(Di.store);C.createIndex(Di.readTimeIndex,Di.readTimeIndexPath,{unique:!1}),C.createIndex(Di.collectionReadTimeIndex,Di.collectionReadTimeIndexPath,{unique:!1})}(t)})),i<10&&a>=10&&(h=h.next(()=>this.Fe(u))),i<11&&a>=11&&(h=h.next(()=>{(function(g){g.createObjectStore(Oc.store,{keyPath:Oc.keyPath})})(e),function(g){g.createObjectStore(xh.store,{keyPath:xh.keyPath})}(e)})),h}ke(e){let t=0;return e.store(Di.store).jt((i,a)=>{t+=kb(a)}).next(()=>{const i=new Rr(t);return e.store(Rr.store).put(Rr.key,i)})}Ne(e){const t=e.store(Mc.store),i=e.store(di.store);return t.Bt().next(a=>et.forEach(a,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return i.Bt(di.userMutationsIndex,h).next(g=>et.forEach(g,C=>{Gt(C.userId===u.userId);const A=Pp(this.k,C);return ek(e,u.userId,A).next(()=>{})}))}))}xe(e){const t=e.store(rr.store),i=e.store(Di.store);return e.store(eo.store).get(eo.key).next(a=>{const u=[];return i.jt((h,g)=>{const C=new Pt(h),A=[0,ks(C)];u.push(t.get(A).next(L=>L?et.resolve():t.put(new rr(0,ks(C),a.highestListenSequenceNumber))))}).next(()=>et.waitFor(u))})}$e(e,t){e.createObjectStore(Ku.store,{keyPath:Ku.keyPath});const i=t.store(Ku.store),a=new qE,u=h=>{if(a.add(h)){const g=h.lastSegment(),C=h.popLast();return i.put({collectionId:g,parent:ks(C)})}};return t.store(Di.store).jt({Kt:!0},(h,g)=>{const C=new Pt(h);return u(C.popLast())}).next(()=>t.store(Pr.store).jt({Kt:!0},([h,g,C],A)=>{const L=Oo(g);return u(L.popLast())}))}Fe(e){const t=e.store(Cr.store);return t.jt((i,a)=>{const u=P_(a),h=YS(this.k,u);return t.put(h)})}}function Qu(n){n.createObjectStore(rr.store,{keyPath:rr.keyPath}).createIndex(rr.documentTargetsIndex,rr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Cr.store,{keyPath:Cr.keyPath}).createIndex(Cr.queryTargetsIndexName,Cr.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(eo.store)}const Rc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rp{constructor(e,t,i,a,u,h,g,C,A,L){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Oe=u,this.window=h,this.document=g,this.Me=A,this.Le=L,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=B=>Promise.resolve(),!Rp.bt())throw new tt(Be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Me(this,a),this.Ge=t+"main",this.k=new ZE(C),this.ze=new sr(this.Ge,11,new Mh(this.k)),this.He=new m(this.referenceDelegate,this.k),this.Jt=new hL,this.Je=new Yt(this.k,this.Jt),this.Ye=new QS,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===L&&$i("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Be.FAILED_PRECONDITION,Rc);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Ys(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var i=(0,Ne.Z)(function*(a){if(t.started)return e(a)});return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,Ne.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Oh(e).put(new Dl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Ga(e))return at("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return at("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Ju(e).get(Xs.key).next(t=>et.resolve(this.un(t)))}hn(e){return Oh(e).delete(this.clientId)}ln(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=_s(i,Dl.store);return a.Bt().next(u=>{const h=e.dn(u,18e5),g=u.filter(C=>-1===h.indexOf(C));return et.forEach(g,C=>a.delete(C.clientId)).next(()=>g)})}).catch(()=>[]);if(e.Xe)for(const i of t)e.Xe.removeItem(e.wn(i.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?et.resolve(!0):Ju(e).get(Xs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new tt(Be.FAILED_PRECONDITION,Rc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Oh(e).Bt().next(i=>void 0===this.dn(i,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,g=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&at("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Xs.store,Dl.store],t=>{const i=new xb(t,Ys.I);return e.an(i).next(()=>e.hn(i))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(i=>this.fn(i.updateTimeMs,t)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Oh(e).Bt().next(t=>this.dn(t,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(e){return s.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,i){let u;return at("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",NE,h=>(u=new xb(h,this.Be?this.Be.next():Ys.I),"readwrite-primary"===t?this.rn(u).next(g=>!!g||this.on(u)).next(g=>{if(!g)throw $i(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new tt(Be.FAILED_PRECONDITION,Ib);return i(u)}).next(g=>this.cn(u).next(()=>g)):this.En(u).next(()=>i(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}En(e){return Ju(e).get(Xs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new tt(Be.FAILED_PRECONDITION,Rc)})}cn(e){const t=new Xs(this.clientId,this.allowTabSynchronization,Date.now());return Ju(e).put(Xs.key,t)}static bt(){return sr.bt()}an(e){const t=Ju(e);return t.get(Xs.key).next(i=>this.un(i)?(at("IndexedDbPersistence","Releasing primary lease."),t.delete(Xs.key)):et.resolve())}fn(e,t){const i=Date.now();return!(e<i-t||e>i&&($i(`Detected an update time that is in the future: ${e} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const i=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return at("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return $i("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){$i("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ju(n){return _s(n,Xs.store)}function Oh(n){return _s(n,Dl.store)}function Lp(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Mb{constructor(e,t){this.progress=e,this.In=t}}class fL{constructor(e,t,i){this.Je=e,this.An=t,this.Jt=i}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Pn(e,t,i))}Pn(e,t,i){return this.Je.getEntry(e,t).next(a=>{for(const u of i)u.applyToLocalView(a);return a})}bn(e,t){e.forEach((i,a)=>{for(const u of t)u.applyToLocalView(a)})}vn(e,t){return this.Je.getEntries(e,t).next(i=>this.Vn(e,i).next(()=>i))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.bn(t,i))}getDocumentsMatchingQuery(e,t,i){return Mt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(e,t.path):zu(t)?this.Dn(e,t,i):this.Cn(e,t,i);var a}Sn(e,t){return this.Rn(e,new Mt(t)).next(i=>{let a=Dp();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}Dn(e,t,i){const a=t.collectionGroup;let u=Dp();return this.Jt.getCollectionParents(e,a).next(h=>et.forEach(h,g=>{const C=(A=t,L=g.child(a),new xl(L,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,L;return this.Cn(e,C,i).next(A=>{A.forEach((L,B)=>{u=u.insert(L,B)})})}).next(()=>u))}Cn(e,t,i){let a,u;return this.Je.getDocumentsMatchingQuery(e,t,i).next(h=>(a=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(u=h,this.Nn(e,u,a).next(g=>{a=g;for(const C of u)for(const A of C.mutations){const L=A.key;let B=a.get(L);null==B&&(B=ri.newInvalidDocument(L),a=a.insert(L,B)),pb(A,B,C.localWriteTime),B.isFoundDocument()||(a=a.remove(L))}}))).next(()=>(a.forEach((h,g)=>{Wi(t,g)||(a=a.remove(h))}),a))}Nn(e,t,i){let a=wn();for(const h of t)for(const g of h.mutations)g instanceof Sc&&null===i.get(g.key)&&(a=a.add(g.key));let u=i;return this.Je.getEntries(e,a).next(h=>(h.forEach((g,C)=>{C.isFoundDocument()&&(u=u.insert(g,C))}),u))}}class tk{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.kn=i,this.xn=a}static $n(e,t){let i=wn(),a=wn();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new tk(e,t.fromCache,i,a)}}class pL{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,i,a){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||i.isEqual(gn.min())?this.Mn(e,t):this.On.vn(e,a).next(u=>{const h=this.Ln(t,u);return(p_(t)||g_(t))&&this.Bn(t.limitType,h,a,i)?this.Mn(e,t):(X1()<=dc.in.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fb(t)),this.On.getDocumentsMatchingQuery(e,t,i).next(g=>(h.forEach(C=>{g=g.insert(C.key,C)}),g)))});var u}Ln(e,t){let i=new xi(hE(e));return t.forEach((a,u)=>{Wi(e,u)&&(i=i.add(u))}),i}Bn(e,t,i,a){if(i.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Mn(e,t){return X1()<=dc.in.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",fb(t)),this.On.getDocumentsMatchingQuery(e,t,gn.min())}}class aU{constructor(e,t,i,a){this.persistence=e,this.Un=t,this.k=a,this.qn=new Fi(xn),this.Kn=new We(u=>mh(u),u_),this.jn=gn.min(),this.An=e.getMutationQueue(i),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new fL(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function gL(n,e,t,i){return new aU(n,e,t,i)}function mL(n,e){return nk.apply(this,arguments)}function nk(){return nk=(0,Ne.Z)(function*(n,e){const t=gt(n);let i=t.An,a=t.Wn;const u=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let g;return t.An.getAllMutationBatches(h).next(C=>(g=C,i=t.persistence.getMutationQueue(e),a=new fL(t.Qn,i,t.persistence.getIndexManager()),i.getAllMutationBatches(h))).next(C=>{const A=[],L=[];let B=wn();for(const re of g){A.push(re.batchId);for(const he of re.mutations)B=B.add(he.key)}for(const re of C){L.push(re.batchId);for(const he of re.mutations)B=B.add(he.key)}return a.vn(h,B).next(re=>({Gn:re,removedBatchIds:A,addedBatchIds:L}))})});return t.An=i,t.Wn=a,t.Un.Fn(t.Wn),u}),nk.apply(this,arguments)}function lU(n,e){const t=gt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),u=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,g,C,A){const L=C.batch,B=L.keys();let re=et.resolve();return B.forEach(he=>{re=re.next(()=>A.getEntry(g,he)).next(Ce=>{const Ve=C.docVersions.get(he);Gt(null!==Ve),Ce.version.compareTo(Ve)<0&&(L.applyToRemoteDocument(Ce,C),Ce.isValidDocument()&&A.addEntry(Ce,C.commitVersion))})}),re.next(()=>h.An.removeMutationBatch(g,L))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.An.performConsistencyCheck(i)).next(()=>t.Wn.vn(i,a))})}function _L(n){const e=gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function cU(n,e){const t=gt(n),i=e.snapshotVersion;let a=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});a=t.qn;const g=[];e.targetChanges.forEach((A,L)=>{const B=a.get(L);if(!B)return;g.push(t.He.removeMatchingKeys(u,A.removedDocuments,L).next(()=>t.He.addMatchingKeys(u,A.addedDocuments,L)));const re=A.resumeToken;if(re.approximateByteSize()>0){const he=B.withResumeToken(re,i).withSequenceNumber(u.currentSequenceNumber);a=a.insert(L,he),Ce=B,Ke=A,Gt((Ve=he).resumeToken.approximateByteSize()>0),(0===Ce.resumeToken.approximateByteSize()||Ve.snapshotVersion.toMicroseconds()-Ce.snapshotVersion.toMicroseconds()>=3e8||Ke.addedDocuments.size+Ke.modifiedDocuments.size+Ke.removedDocuments.size>0)&&g.push(t.He.updateTargetData(u,he))}var Ce,Ve,Ke});let C=Mo();if(e.documentUpdates.forEach((A,L)=>{e.resolvedLimboDocuments.has(A)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),g.push(yL(u,h,e.documentUpdates,i,void 0).next(A=>{C=A})),!i.isEqual(gn.min())){const A=t.He.getLastRemoteSnapshotVersion(u).next(L=>t.He.setTargetsMetadata(u,u.currentSequenceNumber,i));g.push(A)}return et.waitFor(g).next(()=>h.apply(u)).next(()=>t.Wn.Vn(u,C)).next(()=>C)}).then(u=>(t.qn=a,u))}function yL(n,e,t,i,a){let u=wn();return t.forEach(h=>u=u.add(h)),e.getEntries(n,u).next(h=>{let g=Mo();return t.forEach((C,A)=>{const L=h.get(C),B=(null==a?void 0:a.get(C))||i;A.isNoDocument()&&A.version.isEqual(gn.min())?(e.removeEntry(C,B),g=g.insert(C,A)):!L.isValidDocument()||A.version.compareTo(L.version)>0||0===A.version.compareTo(L.version)&&L.hasPendingWrites?(e.addEntry(A,B),g=g.insert(C,A)):at("LocalStore","Ignoring outdated watch update for ",C,". Current version:",L.version," Watch version:",A.version)}),g})}function uU(n,e){const t=gt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(i,e)))}function R_(n,e){const t=gt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.He.getTargetData(i,e).next(u=>u?(a=u,et.resolve(a)):t.He.allocateTargetId(i).next(h=>(a=new Ka(e,h,0,i.currentSequenceNumber),t.He.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.qn.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qn=t.qn.insert(i.targetId,i),t.Kn.set(e,i.targetId)),i})}function L_(n,e,t){return ik.apply(this,arguments)}function ik(){return ik=(0,Ne.Z)(function*(n,e,t){const i=gt(n),a=i.qn.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Ga(h))throw h;at("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.qn=i.qn.remove(e),i.Kn.delete(a.target)}),ik.apply(this,arguments)}function jE(n,e,t){const i=gt(n);let a=gn.min(),u=wn();return i.persistence.runTransaction("Execute query","readonly",h=>function(g,C,A){const L=gt(g),B=L.Kn.get(A);return void 0!==B?et.resolve(L.qn.get(B)):L.He.getTargetData(C,A)}(i,h,ko(e)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(h,g.targetId).next(C=>{u=C})}).next(()=>i.Un.getDocumentsMatchingQuery(h,e,t?a:gn.min(),t?u:wn())).next(g=>({documents:g,zn:u})))}function vL(n,e){const t=gt(n),i=gt(t.He),a=t.qn.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>i.Et(u,e).next(h=>h?h.target:null))}function bL(n){const e=gt(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(i,a,u){const h=gt(i);let g=Mo(),C=Sl(u);const A=or(a),L=IDBKeyRange.lowerBound(C,!0);return A.jt({index:Di.readTimeIndex,range:L},(B,re)=>{const he=Db(h.k,re);g=g.insert(he.key,he),C=re.readTime}).next(()=>({In:g,readTime:O_(C)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:i})=>(e.jn=i,t))}function rk(){return rk=(0,Ne.Z)(function*(n){const e=gt(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(i){const a=or(i);let u=gn.min();return a.jt({index:Di.readTimeIndex,reverse:!0},(h,g,C)=>{g.readTime&&(u=O_(g.readTime)),C.done()}).next(()=>u)}(t)).then(t=>{e.jn=t})}),rk.apply(this,arguments)}function sk(){return sk=(0,Ne.Z)(function*(n,e,t,i){const a=gt(n);let u=wn(),h=Mo(),g=Or();for(const L of t){const B=e.Hn(L.metadata.name);L.document&&(u=u.add(B)),h=h.insert(B,e.Jn(L)),g=g.insert(B,e.Yn(L.metadata.readTime))}const C=a.Qn.newChangeBuffer({trackRemovals:!0}),A=yield R_(a,(L=i,ko(Qr(Pt.fromString(`__bundle__/docs/${L}`)))));var L;return a.persistence.runTransaction("Apply bundle documents","readwrite",L=>yL(L,C,h,gn.min(),g).next(B=>(C.apply(L),B)).next(B=>a.He.removeMatchingKeysForTargetId(L,A.targetId).next(()=>a.He.addMatchingKeys(L,u,A.targetId)).next(()=>a.Wn.Vn(L,B)).next(()=>B)))}),sk.apply(this,arguments)}function fU(n,e){return ok.apply(this,arguments)}function ok(){return ok=(0,Ne.Z)(function*(n,e,t=wn()){const i=yield R_(n,ko(BE(e.bundledQuery))),a=gt(n);return a.persistence.runTransaction("Save named query","readwrite",u=>{const h=br(e.readTime);if(i.snapshotVersion.compareTo(h)>=0)return a.Ye.saveNamedQuery(u,e);const g=i.withResumeToken(Dt.EMPTY_BYTE_STRING,h);return a.qn=a.qn.insert(g.targetId,g),a.He.updateTargetData(u,g).next(()=>a.He.removeMatchingKeysForTargetId(u,i.targetId)).next(()=>a.He.addMatchingKeys(u,t,i.targetId)).next(()=>a.Ye.saveNamedQuery(u,e))})}),ok.apply(this,arguments)}class pU{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return et.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var i;return this.Xn.set(t.id,{id:(i=t).id,version:i.version,createTime:br(i.createTime)}),et.resolve()}getNamedQuery(e,t){return et.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(i=t).name,query:BE(i.bundledQuery),readTime:br(i.readTime)}),et.resolve();var i}}class ak{constructor(){this.ts=new xi(Jr.es),this.ns=new xi(Jr.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const i=new Jr(e,t);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.os(new Jr(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new Mt(new Pt([])),i=new Jr(t,e),a=new Jr(t,e+1),u=[];return this.ns.forEachInRange([i,a],h=>{this.os(h),u.push(h.key)}),u}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Mt(new Pt([])),i=new Jr(t,e),a=new Jr(t,e+1);let u=wn();return this.ns.forEachInRange([i,a],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Jr(e,0),i=this.ts.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Jr{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Mt.comparator(e.key,t.key)||xn(e.fs,t.fs)}static ss(e,t){return xn(e.fs,t.fs)||Mt.comparator(e.key,t.key)}}class gU{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new xi(Jr.es)}checkEmpty(e){return et.resolve(0===this.An.length)}addMutationBatch(e,t,i,a){const u=this.ds;this.ds++;const h=new k_(u,t,i,a);this.An.push(h);for(const g of a)this.ws=this.ws.add(new Jr(g.key,u)),this.Jt.addToCollectionParentIndex(e,g.key.path.popLast());return et.resolve(h)}lookupMutationBatch(e,t){return et.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.gs(t+1),u=a<0?0:a;return et.resolve(this.An.length>u?this.An[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return et.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Jr(t,0),a=new Jr(t,Number.POSITIVE_INFINITY),u=[];return this.ws.forEachInRange([i,a],h=>{const g=this._s(h.fs);u.push(g)}),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new xi(xn);return t.forEach(a=>{const u=new Jr(a,0),h=new Jr(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([u,h],g=>{i=i.add(g.fs)})}),et.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let u=i;Mt.isDocumentKey(u)||(u=u.child(""));const h=new Jr(new Mt(u),0);let g=new xi(xn);return this.ws.forEachWhile(C=>{const A=C.key.path;return!!i.isPrefixOf(A)&&(A.length===a&&(g=g.add(C.fs)),!0)},h),et.resolve(this.ys(g))}ys(e){const t=[];return e.forEach(i=>{const a=this._s(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Gt(0===this.ps(t.batchId,"removed")),this.An.shift();let i=this.ws;return et.forEach(t.mutations,a=>{const u=new Jr(a.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ws=i})}ee(e){}containsKey(e,t){const i=new Jr(t,0),a=this.ws.firstAfterOrEqual(i);return et.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return et.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class mU{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Fi(Mt.comparator),this.size=0}addEntry(e,t,i){const a=t.key,u=this.docs.get(a),h=u?u.size:0,g=this.Ts(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:g,readTime:i}),this.size+=g-h,this.Jt.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return et.resolve(i?i.document.clone():ri.newInvalidDocument(t))}getEntries(e,t){let i=Mo();return t.forEach(a=>{const u=this.docs.get(a);i=i.insert(a,u?u.document.clone():ri.newInvalidDocument(a))}),et.resolve(i)}getDocumentsMatchingQuery(e,t,i){let a=Mo();const u=new Mt(t.path.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:g,value:{document:C,readTime:A}}=h.getNext();if(!t.path.isPrefixOf(g.path))break;A.compareTo(i)<=0||Wi(t,C)&&(a=a.insert(C.key,C.clone()))}return et.resolve(a)}Es(e,t){return et.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _U(this)}getSize(e){return et.resolve(this.size)}}class _U extends Rt{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.document.isValidDocument()?t.push(this.De.addEntry(e,a.document,this.getReadTime(i))):this.De.removeEntry(i)}),et.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class yU{constructor(e){this.persistence=e,this.Is=new We(t=>mh(t),u_),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.As=0,this.Rs=new ak,this.targetCount=0,this.Ps=f.ie()}forEachTarget(e,t){return this.Is.forEach((i,a)=>t(a)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.As&&(this.As=t),et.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new f(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,et.resolve()}updateTargetData(e,t){return this.ce(t),et.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,t,i){let a=0;const u=[];return this.Is.forEach((h,g)=>{g.sequenceNumber<=t&&null===i.get(g.targetId)&&(this.Is.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)}),et.waitFor(u).next(()=>a)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,t){const i=this.Is.get(t)||null;return et.resolve(i)}addMatchingKeys(e,t,i){return this.Rs.rs(t,i),et.resolve()}removeMatchingKeys(e,t,i){this.Rs.cs(t,i);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),et.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),et.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Rs.ls(t);return et.resolve(i)}containsKey(e,t){return et.resolve(this.Rs.containsKey(t))}}class vU{constructor(e,t){this.bs={},this.Be=new Ys(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new yU(this),this.Jt=new dL,this.Je=new mU(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new ZE(t),this.Ye=new pU(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new gU(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,i){at("MemoryPersistence","Starting transaction:",e);const a=new bU(this.Be.next());return this.referenceDelegate.Vs(),i(a).next(u=>this.referenceDelegate.Ss(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Ds(e,t){return et.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class bU extends FE{constructor(e){super(),this.currentSequenceNumber=e}}class lk{constructor(e){this.persistence=e,this.Cs=new ak,this.Ns=null}static ks(e){return new lk(e)}get xs(){if(this.Ns)return this.Ns;throw Nt()}addReference(e,t,i){return this.Cs.addReference(i,t),this.xs.delete(i.toString()),et.resolve()}removeReference(e,t,i){return this.Cs.removeReference(i,t),this.xs.add(i.toString()),et.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),et.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(a=>this.xs.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.xs.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.xs,i=>{const a=Mt.fromPath(i);return this.$s(e,a).next(u=>{u||t.removeEntry(a)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return et.or([()=>et.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function CL(n,e){return`firestore_clients_${n}_${e}`}function wL(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function ck(n,e){return`firestore_targets_${n}_${e}`}class $E{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Fs(e,t,i){const a=JSON.parse(i);let u,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(u=new tt(a.error.code,a.error.message))),h?new $E(e,t,a.state,u):($i("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ob{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Fs(e,t){const i=JSON.parse(t);let a,u="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new tt(i.error.code,i.error.message))),u?new Ob(e,i.state,a):($i("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const i=JSON.parse(t);let a="object"==typeof i&&i.activeTargetIds instanceof Array,u=T_();for(let h=0;a&&h<i.activeTargetIds.length;++h)a=ab(i.activeTargetIds[h]),u=u.add(i.activeTargetIds[h]);return a?new zE(e,u):($i("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class uk{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new uk(t.clientId,t.onlineState):($i("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dk{constructor(){this.activeTargetIds=T_()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hk{constructor(e,t,i,a,u){this.window=e,this.Oe=t,this.persistenceKey=i,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Fi(xn),this.started=!1,this.js=[];const h=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Qs=CL(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new dk),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(g){return`firestore_bundle_loaded_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.Tn();for(const a of t){if(a===e.Bs)continue;const u=e.getItem(CL(e.persistenceKey,a));if(u){const h=zE.Fs(a,u);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const i=e.storage.getItem(e.Js);if(i){const a=e.Zs(i);a&&e.ti(a)}for(const a of e.js)e.qs(a);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,i){this.ni(e,t,i),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ck(this.persistenceKey,e));if(i){const a=Ob.Fs(e,i);a&&(t=a.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ck(this.persistenceKey,e))}updateQueryState(e,t,i){this.ri(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.si(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return at("SharedClientState","READ",e,t),t}setItem(e,t){at("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){at("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(at("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void $i("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==i.key)if(t.Gs.test(i.key)){if(null==i.newValue){const a=t.ci(i.key);return t.ui(a,null)}{const a=t.hi(i.key,i.newValue);if(a)return t.ui(a.clientId,a)}}else if(t.zs.test(i.key)){if(null!==i.newValue){const a=t.li(i.key,i.newValue);if(a)return t.fi(a)}}else if(t.Hs.test(i.key)){if(null!==i.newValue){const a=t.di(i.key,i.newValue);if(a)return t.wi(a)}}else if(i.key===t.Js){if(null!==i.newValue){const a=t.Zs(i.newValue);if(a)return t.ti(a)}}else if(i.key===t.Ws){const a=function(u){let h=Ys.I;if(null!=u)try{const g=JSON.parse(u);Gt("number"==typeof g),h=g}catch(g){$i("SharedClientState","Failed to read sequence number from WebStorage",g)}return h}(i.newValue);a!==Ys.I&&t.sequenceNumberHandler(a)}else if(i.key===t.Ys)return t.syncEngine._i()}else t.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,i){const a=new $E(this.currentUser,e,t,i),u=wL(this.persistenceKey,this.currentUser,e);this.setItem(u,a.Os())}si(e){const t=wL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,i){const a=ck(this.persistenceKey,e),u=new Ob(e,t,i);this.setItem(a,u.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const i=this.ci(e);return zE.Fs(i,t)}li(e,t){const i=this.zs.exec(e),a=Number(i[1]);return $E.Fs(new Wr(void 0!==i[2]?i[2]:null),a,t)}di(e,t){const i=this.Hs.exec(e),a=Number(i[1]);return Ob.Fs(a,t)}Zs(e){return uk.Fs(e)}fi(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);at("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const i=t?this.Ks.insert(e,t):this.Ks.remove(e),a=this.ei(this.Ks),u=this.ei(i),h=[],g=[];return u.forEach(C=>{a.has(C)||h.push(C)}),a.forEach(C=>{u.has(C)||g.push(C)}),this.syncEngine.yi(h,g).then(()=>{this.Ks=i})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=T_();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class TL{constructor(){this.pi=new dk,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,i){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new dk,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class CU{Ei(e){}shutdown(){}}class EL{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class TU{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class EU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,i,a,u){const h=this.Ui(e,t);at("RestConnection","Sending: ",h,i);const g={};return this.qi(g,a,u),this.Ki(e,h,g,i).then(C=>(at("RestConnection","Received: ",C),C),C=>{throw vp("RestConnection",`${e} failed with error: `,C,"url: ",h,"request:",i),C})}ji(e,t,i,a,u){return this.Bi(e,t,i,a,u)}qi(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+El,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),i&&i.headers.forEach((a,u)=>e[u]=a)}Ui(e,t){return`${this.Mi}/v1/${t}:${wU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,i,a){return new Promise((u,h)=>{const g=new yS;g.listenOnce(_S.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hh.NO_ERROR:const A=g.getResponseJson();at("Connection","XHR received:",JSON.stringify(A)),u(A);break;case hh.TIMEOUT:at("Connection",'RPC "'+e+'" timed out'),h(new tt(Be.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const L=g.getStatus();if(at("Connection",'RPC "'+e+'" failed with status:',L,"response text:",g.getResponseText()),L>0){const B=g.getResponseJson().error;if(B&&B.status&&B.message){const re=function(he){const Ce=he.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(Ce)>=0?Ce:Be.UNKNOWN}(B.status);h(new tt(re,B.message))}else h(new tt(Be.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new tt(Be.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{at("Connection",'RPC "'+e+'" completed.')}});const C=JSON.stringify(a);g.send(t,"POST",C,i,15)})}Qi(e,t,i){const a=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=eb(),h=mS(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new yr({})),this.qi(g.initMessageHeaders,t,i),(0,Jt.uI)()||(0,Jt.b$)()||(0,Jt.d)()||(0,Jt.w1)()||(0,Jt.Mn)()||(0,Jt.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const C=a.join("");at("Connection","Creating WebChannel: "+C,g);const A=u.createWebChannel(C,g);let L=!1,B=!1;const re=new TU({Vi:Ce=>{B?at("Connection","Not sending because WebChannel is closed:",Ce):(L||(at("Connection","Opening WebChannel transport."),A.open(),L=!0),at("Connection","WebChannel sending:",Ce),A.send(Ce))},Si:()=>A.close()}),he=(Ce,Ve,Ke)=>{Ce.listen(Ve,At=>{try{Ke(At)}catch(xt){setTimeout(()=>{throw xt},0)}})};return he(A,ib.EventType.OPEN,()=>{B||at("Connection","WebChannel transport opened.")}),he(A,ib.EventType.CLOSE,()=>{B||(B=!0,at("Connection","WebChannel transport closed"),re.Fi())}),he(A,ib.EventType.ERROR,Ce=>{B||(B=!0,vp("Connection","WebChannel transport errored:",Ce),re.Fi(new tt(Be.UNAVAILABLE,"The operation could not be completed")))}),he(A,ib.EventType.MESSAGE,Ce=>{var Ve;if(!B){const Ke=Ce.data[0];Gt(!!Ke);const At=Ke,xt=At.error||(null===(Ve=At[0])||void 0===Ve?void 0:Ve.error);if(xt){at("Connection","WebChannel received error:",xt);const Vt=xt.status;let yt=function(ei){const Si=Ki[ei];if(void 0!==Si)return US(Si)}(Vt),An=xt.message;void 0===yt&&(yt=Be.INTERNAL,An="Unknown error status: "+Vt+" with message "+xt.message),B=!0,re.Fi(new tt(yt,An)),A.close()}else at("Connection","WebChannel received:",Ke),re.Oi(Ke)}}),he(h,tb.STAT_EVENT,Ce=>{Ce.stat===nb.PROXY?at("Connection","Detected buffering proxy"):Ce.stat===nb.NOPROXY&&at("Connection","Detected no buffering proxy")}),setTimeout(()=>{re.$i()},0),re}}function IL(){return"undefined"!=typeof window?window:null}function WE(){return"undefined"!=typeof document?document:null}function Pb(n){return new uL(n,!0)}class fk{constructor(e,t,i=1e3,a=1.5,u=6e4){this.Oe=e,this.timerId=t,this.Wi=i,this.Gi=a,this.zi=u,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),a=Math.max(0,t-i);a>0&&at("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class AL{constructor(e,t,i,a,u,h,g,C){this.Oe=e,this.nr=i,this.sr=a,this.ir=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=C,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new fk(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,Ne.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,Ne.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var i=this;return(0,Ne.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==e?i.ur.reset():t&&t.code===Be.RESOURCE_EXHAUSTED?($i(t.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):t&&t.code===Be.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.rr===t&&this.Ir(i,a)},i=>{e(()=>{const a=new tt(Be.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(a)})})}Ir(e,t){const i=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{i(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{i(()=>this.Ar(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}dr(){var e=this;this.state=5,this.ur.Zi((0,Ne.Z)(function*(){e.state=0,e.start()}))}Ar(e){return at("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IU extends AL{constructor(e,t,i,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,h),this.k=u}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(C=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:Nt(),a=e.targetChange.targetIds||[],u=function(C,A){return C.C?(Gt(void 0===A||"string"==typeof A),Dt.fromBase64String(A||"")):(Gt(void 0===A||A instanceof Uint8Array),Dt.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(C){const A=void 0===C.code?Be.UNKNOWN:US(C.code);return new tt(A,C.message||"")}(h);t=new AE(i,a,u,g||null)}else if("documentChange"in e){const i=e.documentChange,a=za(n,i.document.name),u=br(i.document.updateTime),h=new Kr({mapValue:{fields:i.document.fields}}),g=ri.newFoundDocument(a,u,h);t=new I_(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,a=za(n,i.document),u=i.readTime?br(i.readTime):gn.min(),h=ri.newNoDocument(a,u);t=new I_([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const i=e.documentRemove,a=za(n,i.document);t=new I_([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Nt();{const i=e.filter,u=new NS(i.count||0);t=new IE(i.targetId,u)}}var C;return t}(this.k,e),i=function(a){if(!("targetChange"in a))return gn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?gn.min():u.readTime?br(u.readTime):gn.min()}(e);return this.listener.Pr(t,i)}br(e){const t={};t.database=Eh(this.k),t.addTarget=function(a,u){let h;const g=u.target;return h=$u(g)?{documents:kp(a,g)}:{query:vb(a,g)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=SE(a,u.resumeToken):u.snapshotVersion.compareTo(gn.min())>0&&(h.readTime=Gu(a,u.snapshotVersion.toTimestamp())),h}(this.k,e);const i=function(n,e){const t=function(i,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.gr(t)}vr(e){const t={};t.database=Eh(this.k),t.removeTarget=e,this.gr(t)}}class AU extends AL{constructor(e,t,i,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,h),this.k=u,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(Gt(void 0!==e),n.map(t=>function(i,a){let u=br(i.updateTime?i.updateTime:a);return u.isEqual(gn.min())&&(u=br(a)),new PS(u,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=br(e.commitTime);return this.listener.Cr(i,t)}return Gt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Eh(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ih(this.k,i))};this.gr(t)}}class xU extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=i,this.k=a,this.$r=!1}Fr(){if(this.$r)throw new tt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,i){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.ir.Bi(e,t,i,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Be.UNKNOWN,a.toString())})}ji(e,t,i){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.ir.ji(e,t,i,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Be.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class DU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?($i(t),this.Lr=!1):at("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class SU{constructor(e,t,i,a,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=u,this.Hr.Ei(g=>{i.enqueueAndForget((0,Ne.Z)(function*(){var C;Ph(h)&&(at("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,Ne.Z)(function*(A){const L=gt(A);L.Gr.add(4),yield N_(L),L.Jr.set("Unknown"),L.Gr.delete(4),yield Rb(L)}),function(A){return C.apply(this,arguments)})(h))}))}),this.Jr=new DU(i,a)}}function Rb(n){return pk.apply(this,arguments)}function pk(){return pk=(0,Ne.Z)(function*(n){if(Ph(n))for(const e of n.zr)yield e(!0)}),pk.apply(this,arguments)}function N_(n){return gk.apply(this,arguments)}function gk(){return gk=(0,Ne.Z)(function*(n){for(const e of n.zr)yield e(!1)}),gk.apply(this,arguments)}function GE(n,e){const t=gt(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),yk(t)?_k(t):U_(t).lr()&&mk(t,e))}function Lb(n,e){const t=gt(n),i=U_(t);t.Wr.delete(e),i.lr()&&xL(t,e),0===t.Wr.size&&(i.lr()?i._r():Ph(t)&&t.Jr.set("Unknown"))}function mk(n,e){n.Yr.X(e.targetId),U_(n).br(e)}function xL(n,e){n.Yr.X(e),U_(n).vr(e)}function _k(n){n.Yr=new xE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),U_(n).start(),n.Jr.Br()}function yk(n){return Ph(n)&&!U_(n).hr()&&n.Wr.size>0}function Ph(n){return 0===gt(n).Gr.size}function DL(n){n.Yr=void 0}function kU(n){return vk.apply(this,arguments)}function vk(){return vk=(0,Ne.Z)(function*(n){n.Wr.forEach((e,t)=>{mk(n,e)})}),vk.apply(this,arguments)}function MU(n,e){return bk.apply(this,arguments)}function bk(){return bk=(0,Ne.Z)(function*(n,e){DL(n),yk(n)?(n.Jr.Kr(e),_k(n)):n.Jr.set("Unknown")}),bk.apply(this,arguments)}function OU(n,e,t){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,Ne.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof AE&&2===e.state&&e.cause)try{yield(i=(0,Ne.Z)(function*(a,u){const h=u.cause;for(const g of u.targetIds)a.Wr.has(g)&&(yield a.remoteSyncer.rejectListen(g,h),a.Wr.delete(g),a.Yr.removeTarget(g))}),function(a,u){return i.apply(this,arguments)})(n,e)}catch(i){at("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield KE(n,i)}else if(e instanceof I_?n.Yr.ot(e):e instanceof IE?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(gn.min()))try{const i=yield _L(n.localStore);t.compareTo(i)>=0&&(yield function(a,u){const h=a.Yr.gt(u);return h.targetChanges.forEach((g,C)=>{if(g.resumeToken.approximateByteSize()>0){const A=a.Wr.get(C);A&&a.Wr.set(C,A.withResumeToken(g.resumeToken,u))}}),h.targetMismatches.forEach(g=>{const C=a.Wr.get(g);if(!C)return;a.Wr.set(g,C.withResumeToken(Dt.EMPTY_BYTE_STRING,C.snapshotVersion)),xL(a,g);const A=new Ka(C.target,g,1,C.sequenceNumber);mk(a,A)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(i){at("RemoteStore","Failed to raise snapshot:",i),yield KE(n,i)}var i}),Ck.apply(this,arguments)}function KE(n,e,t){return wk.apply(this,arguments)}function wk(){return wk=(0,Ne.Z)(function*(n,e,t){if(!Ga(e))throw e;n.Gr.add(1),yield N_(n),n.Jr.set("Offline"),t||(t=()=>_L(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){at("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Rb(n)}))}),wk.apply(this,arguments)}function SL(n,e){return e().catch(t=>KE(n,t,e))}function F_(n){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,Ne.Z)(function*(n){const e=gt(n),t=Rh(e);let i=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;PU(e);)try{const a=yield uU(e.localStore,i);if(null===a){0===e.Qr.length&&t._r();break}i=a.batchId,RU(e,a)}catch(a){yield KE(e,a)}kL(e)&&ML(e)}),Tk.apply(this,arguments)}function PU(n){return Ph(n)&&n.Qr.length<10}function RU(n,e){n.Qr.push(e);const t=Rh(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function kL(n){return Ph(n)&&!Rh(n).hr()&&n.Qr.length>0}function ML(n){Rh(n).start()}function LU(n){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,Ne.Z)(function*(n){Rh(n).kr()}),Ek.apply(this,arguments)}function NU(n){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Ne.Z)(function*(n){const e=Rh(n);for(const t of n.Qr)e.Dr(t.mutations)}),Ik.apply(this,arguments)}function FU(n,e,t){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,Ne.Z)(function*(n,e,t){const i=n.Qr.shift(),a=M_.from(i,e,t);yield SL(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield F_(n)}),Ak.apply(this,arguments)}function UU(n,e){return xk.apply(this,arguments)}function xk(){return xk=(0,Ne.Z)(function*(n,e){var t;e&&Rh(n).Sr&&(yield(t=(0,Ne.Z)(function*(i,a){if(FS(u=a.code)&&u!==Be.ABORTED){const h=i.Qr.shift();Rh(i).wr(),yield SL(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield F_(i)}var u}),function(i,a){return t.apply(this,arguments)})(n,e)),kL(n)&&ML(n)}),xk.apply(this,arguments)}function Dk(n,e){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,Ne.Z)(function*(n,e){const t=gt(n);e?(t.Gr.delete(2),yield Rb(t)):e||(t.Gr.add(2),yield N_(t),t.Jr.set("Unknown"))}),Sk.apply(this,arguments)}function U_(n){return n.Xr||(n.Xr=function(e,t,i){const a=gt(e);return a.Fr(),new IU(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,i)}(n.datastore,n.asyncQueue,{Di:kU.bind(null,n),Ni:MU.bind(null,n),Pr:OU.bind(null,n)}),n.zr.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Xr.wr(),yk(n)?_k(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),DL(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Rh(n){return n.Zr||(n.Zr=function(e,t,i){const a=gt(e);return a.Fr(),new AU(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,i)}(n.datastore,n.asyncQueue,{Di:LU.bind(null,n),Ni:UU.bind(null,n),Nr:NU.bind(null,n),Cr:FU.bind(null,n)}),n.zr.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Zr.wr(),yield F_(n)):(yield n.Zr.stop(),n.Qr.length>0&&(at("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class kk{constructor(e,t,i,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,i,a,u){const h=Date.now()+i,g=new kk(e,t,h,a,u);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z_(n,e){if($i("AsyncQueue",`${e}: ${n}`),Ga(n))return new tt(Be.UNAVAILABLE,`${e}: ${n}`);throw n}class B_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Mt.comparator(t.key,i.key):(t,i)=>Mt.comparator(t.key,i.key),this.keyedMap=Dp(),this.sortedSet=new Fi(this.comparator)}static emptySet(e){return new B_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof B_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new B_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class OL{constructor(){this.eo=new Fi(Mt.comparator)}track(e){const t=e.doc.key,i=this.eo.get(t);i?0!==e.type&&3===i.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==i.type?this.eo=this.eo.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.eo=this.eo.remove(t):1===e.type&&2===i.type?this.eo=this.eo.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Nt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,i)=>{e.push(i)}),e}}class V_{constructor(e,t,i,a,u,h,g,C){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=C}static fromInitialDocuments(e,t,i,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new V_(e,t,B_.emptySet(t),u,i,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&m_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class ZU{constructor(){this.so=void 0,this.listeners=[]}}class BU{constructor(){this.queries=new We(e=>xS(e),m_),this.onlineState="Unknown",this.io=new Set}}function Mk(n,e){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,Ne.Z)(function*(n,e){const t=gt(n),i=e.query;let a=!1,u=t.queries.get(i);if(u||(a=!0,u=new ZU),a)try{u.so=yield t.onListen(i)}catch(h){const g=Z_(h,`Initialization of query '${fb(e.query)}' failed`);return void e.onError(g)}t.queries.set(i,u),u.listeners.push(e),e.ro(t.onlineState),u.so&&e.oo(u.so)&&Lk(t)}),Ok.apply(this,arguments)}function Pk(n,e){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,Ne.Z)(function*(n,e){const t=gt(n),i=e.query;let a=!1;const u=t.queries.get(i);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),a=0===u.listeners.length)}if(a)return t.queries.delete(i),t.onUnlisten(i)}),Rk.apply(this,arguments)}function VU(n,e){const t=gt(n);let i=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const g of h.listeners)g.oo(a)&&(i=!0);h.so=a}}i&&Lk(t)}function qU(n,e,t){const i=gt(n),a=i.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);i.queries.delete(e)}function Lk(n){n.io.forEach(e=>{e.next()})}class Nk{constructor(e,t,i){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new V_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=V_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class HU{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class PL{constructor(e){this.k=e}Hn(e){return za(this.k,e)}Jn(e){return e.metadata.exists?_b(this.k,e.document,!1):ri.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return br(e)}}class jU{constructor(e,t,i){this.mo=e,this.localStore=t,this.k=i,this.queries=[],this.documents=[],this.progress=RL(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,i=new PL(this.k);for(const a of e)if(a.metadata.queries){const u=i.Hn(a.metadata.name);for(const h of a.metadata.queries){const g=(t.get(h)||wn()).add(u);t.set(h,g)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function(n,e,t,i){return sk.apply(this,arguments)}(e.localStore,new PL(e.k),e.documents,e.mo.id),i=e.po(e.documents);for(const a of e.queries)yield fU(e.localStore,a,i.get(a.name));return e.progress.taskState="Success",new Mb(Object.assign({},e.progress),t)})()}}function RL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class LL{constructor(e){this.key=e}}class NL{constructor(e){this.key=e}}class FL{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=wn(),this.mutatedKeys=wn(),this.Ao=hE(e),this.Ro=new B_(this.Ao)}get Po(){return this.To}bo(e,t){const i=t?t.vo:new OL,a=t?t.Ro:this.Ro;let u=t?t.mutatedKeys:this.mutatedKeys,h=a,g=!1;const C=p_(this.query)&&a.size===this.query.limit?a.last():null,A=g_(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((L,B)=>{const re=a.get(L),he=Wi(this.query,B)?B:null,Ce=!!re&&this.mutatedKeys.has(re.key),Ve=!!he&&(he.hasLocalMutations||this.mutatedKeys.has(he.key)&&he.hasCommittedMutations);let Ke=!1;re&&he?re.data.isEqual(he.data)?Ce!==Ve&&(i.track({type:3,doc:he}),Ke=!0):this.Vo(re,he)||(i.track({type:2,doc:he}),Ke=!0,(C&&this.Ao(he,C)>0||A&&this.Ao(he,A)<0)&&(g=!0)):!re&&he?(i.track({type:0,doc:he}),Ke=!0):re&&!he&&(i.track({type:1,doc:re}),Ke=!0,(C||A)&&(g=!0)),Ke&&(he?(h=h.add(he),u=Ve?u.add(L):u.delete(L)):(h=h.delete(L),u=u.delete(L)))}),p_(this.query)||g_(this.query))for(;h.size>this.query.limit;){const L=p_(this.query)?h.last():h.first();h=h.delete(L.key),u=u.delete(L.key),i.track({type:1,doc:L})}return{Ro:h,vo:i,Bn:g,mutatedKeys:u}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const a=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const u=e.vo.no();u.sort((A,L)=>function(B,re){const he=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return he(B)-he(re)}(A.type,L.type)||this.Ao(A.doc,L.doc)),this.So(i);const h=t?this.Do():[],g=0===this.Io.size&&this.current?1:0,C=g!==this.Eo;return this.Eo=g,0!==u.length||C?{snapshot:new V_(this.query,e.Ro,a,u,e.mutatedKeys,0===g,C,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new OL,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=wn(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const t=[];return e.forEach(i=>{this.Io.has(i)||t.push(new NL(i))}),this.Io.forEach(i=>{e.has(i)||t.push(new LL(i))}),t}ko(e){this.To=e.zn,this.Io=wn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return V_.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class $U{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class zU{constructor(e){this.key=e,this.$o=!1}}class WU{constructor(e,t,i,a,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Fo={},this.Oo=new We(g=>xS(g),m_),this.Mo=new Map,this.Lo=new Set,this.Bo=new Fi(Mt.comparator),this.Uo=new Map,this.qo=new ak,this.Ko={},this.jo=new Map,this.Qo=f.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function GU(n,e){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,Ne.Z)(function*(n,e){const t=oM(n);let i,a;const u=t.Oo.get(e);if(u)i=u.targetId,t.sharedClientState.addLocalQueryTarget(i),a=u.view.xo();else{const h=yield R_(t.localStore,ko(e)),g=t.sharedClientState.addLocalQueryTarget(h.targetId);i=h.targetId,a=yield Uk(t,e,i,"current"===g),t.isPrimaryClient&&GE(t.remoteStore,h)}return a}),Fk.apply(this,arguments)}function Uk(n,e,t,i){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,Ne.Z)(function*(n,e,t,i){n.Go=(L,B,re)=>{return(he=(0,Ne.Z)(function*(Ce,Ve,Ke,At){let xt=Ve.view.bo(Ke);xt.Bn&&(xt=yield jE(Ce.localStore,Ve.query,!1).then(({documents:An})=>Ve.view.bo(An,xt)));const Vt=At&&At.targetChanges.get(Ve.targetId),yt=Ve.view.applyChanges(xt,Ce.isPrimaryClient,Vt);return Kk(Ce,Ve.targetId,yt.Co),yt.snapshot}),function(Ce,Ve,Ke,At){return he.apply(this,arguments)})(n,L,B,re);var he};const a=yield jE(n.localStore,e,!0),u=new FL(e,a.zn),h=u.bo(a.documents),g=E_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),C=u.applyChanges(h,n.isPrimaryClient,g);Kk(n,t,C.Co);const A=new $U(e,t,u);return n.Oo.set(e,A),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),C.snapshot}),Zk.apply(this,arguments)}function KU(n,e){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,Ne.Z)(function*(n,e){const t=gt(n),i=t.Oo.get(e),a=t.Mo.get(i.targetId);if(a.length>1)return t.Mo.set(i.targetId,a.filter(u=>!m_(u,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield L_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Lb(t.remoteStore,i.targetId),q_(t,i.targetId)}).catch(R))):(q_(t,i.targetId),yield L_(t.localStore,i.targetId,!0))}),Bk.apply(this,arguments)}function Vk(){return Vk=(0,Ne.Z)(function*(n,e,t){const i=aM(n);try{const a=yield function(u,h){const g=gt(u),C=vr.now(),A=h.reduce((B,re)=>B.add(re.key),wn());let L;return g.persistence.runTransaction("Locally write mutations","readwrite",B=>g.Wn.vn(B,A).next(re=>{L=re;const he=[];for(const Ce of h){const Ve=yE(Ce,L.get(Ce.key));null!=Ve&&he.push(new Sc(Ce.key,Ve,lb(Ve.value.mapValue),Gi.exists(!0)))}return g.An.addMutationBatch(B,C,he,h)})).then(B=>(B.applyToLocalDocumentSet(L),{batchId:B.batchId,changes:L}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,h,g){let C=u.Ko[u.currentUser.toKey()];C||(C=new Fi(xn)),C=C.insert(h,g),u.Ko[u.currentUser.toKey()]=C}(i,a.batchId,t),yield Xu(i,a.changes),yield F_(i.remoteStore)}catch(a){const u=Z_(a,"Failed to persist write");t.reject(u)}}),Vk.apply(this,arguments)}function UL(n,e){return qk.apply(this,arguments)}function qk(){return qk=(0,Ne.Z)(function*(n,e){const t=gt(n);try{const i=yield cU(t.localStore,e);e.targetChanges.forEach((a,u)=>{const h=t.Uo.get(u);h&&(Gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.$o=!0:a.modifiedDocuments.size>0?Gt(h.$o):a.removedDocuments.size>0&&(Gt(h.$o),h.$o=!1))}),yield Xu(t,i,e)}catch(i){yield R(i)}}),qk.apply(this,arguments)}function ZL(n,e,t){const i=gt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.Oo.forEach((u,h)=>{const g=h.view.ro(e);g.snapshot&&a.push(g.snapshot)}),function(u,h){const g=gt(u);g.onlineState=h;let C=!1;g.queries.forEach((A,L)=>{for(const B of L.listeners)B.ro(h)&&(C=!0)}),C&&Lk(g)}(i.eventManager,e),a.length&&i.Fo.Pr(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function QU(n,e,t){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,Ne.Z)(function*(n,e,t){const i=gt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Uo.get(e),u=a&&a.key;if(u){let h=new Fi(Mt.comparator);h=h.insert(u,ri.newNoDocument(u,gn.min()));const g=wn().add(u),C=new wh(gn.min(),new Map,new xi(xn),h,g);yield UL(i,C),i.Bo=i.Bo.remove(u),i.Uo.delete(e),Yk(i)}else yield L_(i.localStore,e,!1).then(()=>q_(i,e,t)).catch(R)}),Hk.apply(this,arguments)}function JU(n,e){return jk.apply(this,arguments)}function jk(){return jk=(0,Ne.Z)(function*(n,e){const t=gt(n),i=e.batch.batchId;try{const a=yield lU(t.localStore,e);Gk(t,i,null),Wk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Xu(t,a)}catch(a){yield R(a)}}),jk.apply(this,arguments)}function XU(n,e,t){return $k.apply(this,arguments)}function $k(){return $k=(0,Ne.Z)(function*(n,e,t){const i=gt(n);try{const a=yield function(u,h){const g=gt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let A;return g.An.lookupMutationBatch(C,h).next(L=>(Gt(null!==L),A=L.keys(),g.An.removeMutationBatch(C,L))).next(()=>g.An.performConsistencyCheck(C)).next(()=>g.Wn.vn(C,A))})}(i.localStore,e);Gk(i,e,t),Wk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Xu(i,a)}catch(a){yield R(a)}}),$k.apply(this,arguments)}function zk(){return zk=(0,Ne.Z)(function*(n,e){const t=gt(n);Ph(t.remoteStore)||at("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(u){const h=gt(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>h.An.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===i)return void e.resolve();const a=t.jo.get(i)||[];a.push(e),t.jo.set(i,a)}catch(i){const a=Z_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),zk.apply(this,arguments)}function Wk(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function Gk(n,e,t){const i=gt(n);let a=i.Ko[i.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),i.Ko[i.currentUser.toKey()]=a}}function q_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Mo.get(e))n.Oo.delete(i),t&&n.Fo.zo(i,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(i=>{n.qo.containsKey(i)||BL(n,i)})}function BL(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Lb(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),Yk(n))}function Kk(n,e,t){for(const i of t)i instanceof LL?(n.qo.addReference(i.key,e),tZ(n,i)):i instanceof NL?(at("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,e),n.qo.containsKey(i.key)||BL(n,i.key)):Nt()}function tZ(n,e){const t=e.key,i=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(i)||(at("SyncEngine","New document in limbo: "+t),n.Lo.add(i),Yk(n))}function Yk(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new Mt(Pt.fromString(e)),i=n.Qo.next();n.Uo.set(i,new zU(t)),n.Bo=n.Bo.insert(t,i),GE(n.remoteStore,new Ka(ko(Qr(t.path)),i,2,Ys.I))}}function Xu(n,e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,Ne.Z)(function*(n,e,t){const i=gt(n),a=[],u=[],h=[];var g;i.Oo.isEmpty()||(i.Oo.forEach((g,C)=>{h.push(i.Go(C,e,t).then(A=>{if(A){i.isPrimaryClient&&i.sharedClientState.updateQueryState(C.targetId,A.fromCache?"not-current":"current"),a.push(A);const L=tk.$n(C.targetId,A);u.push(L)}}))}),yield Promise.all(h),i.Fo.Pr(a),yield(g=(0,Ne.Z)(function*(C,A){const L=gt(C);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",B=>et.forEach(A,re=>et.forEach(re.kn,he=>L.persistence.referenceDelegate.addReference(B,re.targetId,he)).next(()=>et.forEach(re.xn,he=>L.persistence.referenceDelegate.removeReference(B,re.targetId,he)))))}catch(B){if(!Ga(B))throw B;at("LocalStore","Failed to update sequence numbers: "+B)}for(const B of A){const re=B.targetId;if(!B.fromCache){const he=L.qn.get(re),Ve=he.withLastLimboFreeSnapshotVersion(he.snapshotVersion);L.qn=L.qn.insert(re,Ve)}}}),function(C,A){return g.apply(this,arguments)})(i.localStore,u))}),Qk.apply(this,arguments)}function nZ(n,e){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,Ne.Z)(function*(n,e){const t=gt(n);if(!t.currentUser.isEqual(e)){at("SyncEngine","User change. New user:",e.toKey());const i=yield mL(t.localStore,e);t.currentUser=e,(a=t).jo.forEach(h=>{h.forEach(g=>{g.reject(new tt(Be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Xu(t,i.Gn)}var a}),Jk.apply(this,arguments)}function iZ(n,e){const t=gt(n),i=t.Uo.get(e);if(i&&i.$o)return wn().add(i.key);{let a=wn();const u=t.Mo.get(e);if(!u)return a;for(const h of u){const g=t.Oo.get(h);a=a.unionWith(g.view.Po)}return a}}function rZ(n,e){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,Ne.Z)(function*(n,e){const t=gt(n),i=yield jE(t.localStore,e.query,!0),a=e.view.ko(i);return t.isPrimaryClient&&Kk(t,e.targetId,a.Co),a}),Xk.apply(this,arguments)}function sZ(n){return eM.apply(this,arguments)}function eM(){return eM=(0,Ne.Z)(function*(n){const e=gt(n);return bL(e.localStore).then(t=>Xu(e,t))}),eM.apply(this,arguments)}function oZ(n,e,t,i){return tM.apply(this,arguments)}function tM(){return tM=(0,Ne.Z)(function*(n,e,t,i){const a=gt(n),u=yield function(h,g){const C=gt(h),A=gt(C.An);return C.persistence.runTransaction("Lookup mutation documents","readonly",L=>A.Zt(L,g).next(B=>B?C.Wn.vn(L,B):et.resolve(null)))}(a.localStore,e);var g;null!==u?("pending"===t?yield F_(a.remoteStore):"acknowledged"===t||"rejected"===t?(Gk(a,e,i||null),Wk(a,e),g=e,gt(gt(a.localStore).An).ee(g)):Nt(),yield Xu(a,u)):at("SyncEngine","Cannot apply mutation batch with id: "+e)}),tM.apply(this,arguments)}function nM(){return nM=(0,Ne.Z)(function*(n,e){const t=gt(n);if(oM(t),aM(t),!0===e&&!0!==t.Wo){const i=t.sharedClientState.getAllActiveQueryTargets(),a=yield VL(t,i.toArray());t.Wo=!0,yield Dk(t.remoteStore,!0);for(const u of a)GE(t.remoteStore,u)}else if(!1===e&&!1!==t.Wo){const i=[];let a=Promise.resolve();t.Mo.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?i.push(h):a=a.then(()=>(q_(t,h),L_(t.localStore,h,!0))),Lb(t.remoteStore,h)}),yield a,yield VL(t,i),function(u){const h=gt(u);h.Uo.forEach((g,C)=>{Lb(h.remoteStore,C)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Fi(Mt.comparator)}(t),t.Wo=!1,yield Dk(t.remoteStore,!1)}}),nM.apply(this,arguments)}function VL(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,Ne.Z)(function*(n,e,t){const i=gt(n),a=[],u=[];for(const h of e){let g;const C=i.Mo.get(h);if(C&&0!==C.length){g=yield R_(i.localStore,ko(C[0]));for(const A of C){const L=i.Oo.get(A),B=yield rZ(i,L);B.snapshot&&u.push(B.snapshot)}}else{const A=yield vL(i.localStore,h);g=yield R_(i.localStore,A),yield Uk(i,qL(A),h,!1)}a.push(g)}return i.Fo.Pr(u),a}),iM.apply(this,arguments)}function qL(n){return uE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function lZ(n){const e=gt(n);return gt(gt(e.localStore).persistence).Tn()}function cZ(n,e,t,i){return rM.apply(this,arguments)}function rM(){return rM=(0,Ne.Z)(function*(n,e,t,i){const a=gt(n);if(a.Wo)at("SyncEngine","Ignoring unexpected query state notification.");else if(a.Mo.has(e))switch(t){case"current":case"not-current":{const u=yield bL(a.localStore),h=wh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Xu(a,u,h);break}case"rejected":yield L_(a.localStore,e,!0),q_(a,e,i);break;default:Nt()}}),rM.apply(this,arguments)}function uZ(n,e,t){return sM.apply(this,arguments)}function sM(){return sM=(0,Ne.Z)(function*(n,e,t){const i=oM(n);if(i.Wo){for(const a of e){if(i.Mo.has(a)){at("SyncEngine","Adding an already active target "+a);continue}const u=yield vL(i.localStore,a),h=yield R_(i.localStore,u);yield Uk(i,qL(u),h.targetId,!1),GE(i.remoteStore,h)}for(const a of t)i.Mo.has(a)&&(yield L_(i.localStore,a,!1).then(()=>{Lb(i.remoteStore,a),q_(i,a)}).catch(R))}}),sM.apply(this,arguments)}function oM(n){const e=gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QU.bind(null,e),e.Fo.Pr=VU.bind(null,e.eventManager),e.Fo.zo=qU.bind(null,e.eventManager),e}function aM(n){const e=gt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XU.bind(null,e),e}class HL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.k=Pb(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return gL(this.persistence,new pL,e.initialUser,this.k)}Yo(e){return new vU(lk.ks,this.k)}Jo(e){return new TL}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jL extends HL{constructor(e,t,i){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ne.Z)(function*(){yield t().call(i,e),yield function(n){return rk.apply(this,arguments)}(i.localStore),yield i.ta.initialize(i,e),yield aM(i.ta.syncEngine),yield F_(i.ta.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(e){return gL(this.persistence,new pL,e.initialUser,this.k)}Xo(e){return new ve(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=Lp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?to.withCacheSize(this.cacheSizeBytes):to.DEFAULT;return new Rp(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,IL(),WE(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new TL}}class hZ extends jL{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ne.Z)(function*(){yield t().call(i,e);const a=i.ta.syncEngine;i.sharedClientState instanceof hk&&(i.sharedClientState.syncEngine={mi:oZ.bind(null,a),gi:cZ.bind(null,a),yi:uZ.bind(null,a),Tn:lZ.bind(null,a),_i:sZ.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var u=(0,Ne.Z)(function*(h){yield function(n,e){return nM.apply(this,arguments)}(i.ta.syncEngine,h),i.gcScheduler&&(h&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):h||i.gcScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}Jo(e){const t=IL();if(!hk.bt(t))throw new tt(Be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Lp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hk(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class lM{initialize(e,t){var i=this;return(0,Ne.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>ZL(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=nZ.bind(null,i.syncEngine),yield Dk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new BU}createDatastore(e){const t=Pb(e.databaseInfo.databaseId),i=new EU(e.databaseInfo);return new xU(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,a=e.asyncQueue,u=g=>ZL(this.syncEngine,g,0),h=EL.bt()?new EL:new CU,new SU(t,i,a,u,h);var t,i,a,u,h}createSyncEngine(e,t){return function(i,a,u,h,g,C,A){const L=new WU(i,a,u,h,g,C);return A&&(L.Wo=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const i=gt(t);at("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield N_(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function $L(n,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class YE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fZ{constructor(e,t){this.sa=e,this.k=t,this.metadata=new ir,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.oa();if(null===t)return null;const i=e.ia.decode(t),a=Number(i);isNaN(a)&&e.aa(`length string (${i}) is not valid number`);const u=yield e.ca(a);return new HU(JSON.parse(u),t.length+a)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,Ne.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const t=e.ua();t<0&&e.aa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ca(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.ha())&&t.aa("Reached the end of bundle when more is expected.");const i=t.ia.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.sa.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class pZ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new tt(Be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(a=(0,Ne.Z)(function*(u,h){const g=gt(u),C=Eh(g.k)+"/documents",A={documents:h.map(he=>Sp(g.k,he))},L=yield g.ji("BatchGetDocuments",C,A),B=new Map;L.forEach(he=>{const Ce=function(n,e){return"found"in e?function(t,i){Gt(!!i.found);const a=za(t,i.found.name),u=br(i.found.updateTime),h=new Kr({mapValue:{fields:i.found.fields}});return ri.newFoundDocument(a,u,h)}(n,e):"missing"in e?function(t,i){Gt(!!i.missing),Gt(!!i.readTime);const a=za(t,i.missing),u=br(i.readTime);return ri.newNoDocument(a,u)}(n,e):Nt()}(g.k,he);B.set(Ce.key.toString(),Ce)});const re=[];return h.forEach(he=>{const Ce=B.get(he.toString());Gt(!!Ce),re.push(Ce)}),re}),function(u,h){return a.apply(this,arguments)})(t.datastore,e);var a;return i.forEach(a=>t.recordVersion(a)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new xp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,a)=>{const u=Mt.fromPath(a);e.mutations.push(new C_(u,e.precondition(u)))}),yield(i=(0,Ne.Z)(function*(a,u){const h=gt(a),g=Eh(h.k)+"/documents",C={writes:u.map(A=>Ih(h.k,A))};yield h.Bi("Commit",g,C)}),function(a,u){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nt();t=gn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new tt(Be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Gi.updateTime(t):Gi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gn.min()))throw new tt(Be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gi.updateTime(t)}return Gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gZ{constructor(e,t,i,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=a,this.la=5,this.ur=new fk(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,Ne.Z)(function*(){const t=new pZ(e.datastore),i=e.da(t);i&&i.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.wa(u)}))}).catch(a=>{e.wa(a)})}))}da(e){try{const t=this.updateFunction(e);return!Al(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!FS(t)}return!1}}class mZ{constructor(e,t,i,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Wr.UNAUTHENTICATED,this.clientId=iE.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var h=(0,Ne.Z)(function*(g){at("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(i,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Z_(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function zL(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Ne.Z)(function*(u){i.isEqual(u)||(yield mL(e.localStore,u),i=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),cM.apply(this,arguments)}function WL(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield dM(n);at("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(a=>{return(u=(0,Ne.Z)(function*(h,g){const C=gt(h);C.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const A=Ph(C);C.Gr.add(3),yield N_(C),A&&C.Jr.set("Unknown"),yield C.remoteSyncer.handleCredentialChange(g),C.Gr.delete(3),yield Rb(C)}),function(h,g){return u.apply(this,arguments)})(e.remoteStore,a);var u}),n.onlineComponents=e}),uM.apply(this,arguments)}function dM(n){return hM.apply(this,arguments)}function hM(){return hM=(0,Ne.Z)(function*(n){return n.offlineComponents||(at("FirestoreClient","Using default OfflineComponentProvider"),yield zL(n,new HL)),n.offlineComponents}),hM.apply(this,arguments)}function QE(n){return fM.apply(this,arguments)}function fM(){return fM=(0,Ne.Z)(function*(n){return n.onlineComponents||(at("FirestoreClient","Using default OnlineComponentProvider"),yield WL(n,new lM)),n.onlineComponents}),fM.apply(this,arguments)}function GL(n){return dM(n).then(e=>e.persistence)}function pM(n){return dM(n).then(e=>e.localStore)}function KL(n){return QE(n).then(e=>e.remoteStore)}function gM(n){return QE(n).then(e=>e.syncEngine)}function H_(n){return mM.apply(this,arguments)}function mM(){return mM=(0,Ne.Z)(function*(n){const e=yield QE(n),t=e.eventManager;return t.onListen=GU.bind(null,e.syncEngine),t.onUnlisten=KU.bind(null,e.syncEngine),t}),mM.apply(this,arguments)}function YL(n,e,t={}){const i=new ir;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(a,u,h,g,C){const A=new YE({next:B=>{u.enqueueAndForget(()=>Pk(a,L));const re=B.docs.has(h);!re&&B.fromCache?C.reject(new tt(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):re&&B.fromCache&&g&&"server"===g.source?C.reject(new tt(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(B)},error:B=>C.reject(B)}),L=new Nk(Qr(h.path),A,{includeMetadataChanges:!0,wo:!0});return Mk(a,L)}(yield H_(n),n.asyncQueue,e,t,i)})),i.promise}function QL(n,e,t={}){const i=new ir;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(a,u,h,g,C){const A=new YE({next:B=>{u.enqueueAndForget(()=>Pk(a,L)),B.fromCache&&"server"===g.source?C.reject(new tt(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(B)},error:B=>C.reject(B)}),L=new Nk(h,A,{includeMetadataChanges:!0,wo:!0});return Mk(a,L)}(yield H_(n),n.asyncQueue,e,t,i)})),i.promise}class IZ{constructor(e,t,i,a,u,h,g,C){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=C}}class j_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof j_&&e.projectId===this.projectId&&e.database===this.database}}const JL=new Map;function _M(n,e,t){if(!t)throw new tt(Be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XL(n,e,t,i){if(!0===e&&!0===i)throw new tt(Be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eN(n){if(!Mt.isDocumentKey(n))throw new tt(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tN(n){if(Mt.isDocumentKey(n))throw new tt(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Nt()}function Fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new tt(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=JE(n);throw new tt(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nN(n,e){if(e<=0)throw new tt(Be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class iN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,XL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nb{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iN({}),this._settingsFrozen=!1,e instanceof j_?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new tt(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new j_(a.options.projectId)}(e))}get app(){if(!this._app)throw new tt(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vS;switch(t.type){case"gapi":const i=t.client;return Gt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new CS(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new tt(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=JL.get(e);t&&(at("ComponentProvider","Removing Datastore"),JL.delete(e),t.terminate())}(this),Promise.resolve()}}class Ei{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ei(this.firestore,e,this._key)}}class Ms{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class Lc extends Ms{constructor(e,t,i){super(e,t,Qr(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ei(this.firestore,null,new Mt(e))}withConverter(e){return new Lc(this.firestore,e,this._path)}}function rN(n,e,...t){if(n=(0,Jt.m9)(n),_M("collection","path",e),n instanceof Nb){const i=Pt.fromString(e,...t);return tN(i),new Lc(n,null,i)}{if(!(n instanceof Ei||n instanceof Lc))throw new tt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pt.fromString(e,...t));return tN(i),new Lc(n.firestore,null,i)}}function XE(n,e,...t){if(n=(0,Jt.m9)(n),1===arguments.length&&(e=iE.A()),_M("doc","path",e),n instanceof Nb){const i=Pt.fromString(e,...t);return eN(i),new Ei(n,null,new Mt(i))}{if(!(n instanceof Ei||n instanceof Lc))throw new tt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pt.fromString(e,...t));return eN(i),new Ei(n.firestore,n instanceof Lc?n.converter:null,new Mt(i))}}function sN(n,e){return n=(0,Jt.m9)(n),e=(0,Jt.m9)(e),(n instanceof Ei||n instanceof Lc)&&(e instanceof Ei||e instanceof Lc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function oN(n,e){return n=(0,Jt.m9)(n),e=(0,Jt.m9)(e),n instanceof Ms&&e instanceof Ms&&n.firestore===e.firestore&&m_(n._query,e._query)&&n.converter===e.converter}class DZ{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new fk(this,"async_queue_retry"),this.Ra=()=>{const t=WE();t&&at("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=WE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=WE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new ir;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!Ga(t))throw t;at("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(i=>{throw this.Ta=i,this.Ea=!1,$i("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(i)),i}).then(i=>(this.Ea=!1,i))));return this.ma=t,t}enqueueAfterDelay(e,t,i){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const a=kk.createAndSchedule(this,e,t,i,u=>this.Va(u));return this.pa.push(a),a}Pa(){this.Ta&&Nt()}verifyOperationInProgress(){}Sa(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function yM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(n)}class SZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ui extends Nb{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new DZ,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||aN(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||aN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function aN(n){var e;const t=n._freezeSettings(),i=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new IZ(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new mZ(n._authCredentials,n._appCheckCredentials,n._queue,i)}function lN(n,e,t){const i=new ir;return n.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield zL(n,t),yield WL(n,e),i.resolve()}catch(a){if(!("FirebaseError"===(u=a).name?u.code===Be.FAILED_PRECONDITION||u.code===Be.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function cN(n){if(n._initialized||n._terminated)throw new tt(Be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ed{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tt(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nc(Dt.fromBase64String(e))}catch(t){throw new tt(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nc(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Np{constructor(e){this._methodName=e}}class eI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}}const ZZ=/^__.*__$/;class BZ{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Sc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ch(e,this.data,t,this.fieldTransforms)}}class uN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Sc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class tI{constructor(e,t,i,a,u,h){this.settings=e,this.databaseId=t,this.k=i,this.ignoreUndefinedProperties=a,void 0===u&&this.ka(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new tI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$a({path:i,Oa:!1});return a.Ma(e),a}La(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$a({path:i,Oa:!1});return a.ka(),a}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return iI(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(dN(this.xa)&&ZZ.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class VZ{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=i||Pb(e)}ja(e,t,i,a=!1){return new tI({xa:e,methodName:t,Ka:i,path:Ai.emptyPath(),Oa:!1,qa:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Fp(n){const e=n._freezeSettings(),t=Pb(n._databaseId);return new VZ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nI(n,e,t,i,a,u={}){const h=n.ja(u.merge||u.mergeFields?2:0,e,t,a);wM("Data must be an object, but it was:",h,i);const g=pN(i,h);let C,A;if(u.merge)C=new Ha(h.fieldMask),A=h.fieldTransforms;else if(u.mergeFields){const L=[];for(const B of u.mergeFields){const re=TM(e,B,t);if(!h.contains(re))throw new tt(Be.INVALID_ARGUMENT,`Field '${re}' is specified in your field mask but missing from your input data.`);mN(L,re)||L.push(re)}C=new Ha(L),A=h.fieldTransforms.filter(B=>C.covers(B.field))}else C=null,A=h.fieldTransforms;return new BZ(new Kr(g),C,A)}class Fb extends Np{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fb}}function hN(n,e,t){return new tI({xa:3,Ka:e.settings.Ka,methodName:n._methodName,Oa:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class vM extends Np{_toFieldTransform(e){return new Ap(e.path,new Ac)}isEqual(e){return e instanceof vM}}class qZ extends Np{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=hN(this,e,!0),i=this.Qa.map(u=>Up(u,t)),a=new Wu(i);return new Ap(e.path,a)}isEqual(e){return this===e}}class HZ extends Np{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=hN(this,e,!0),i=this.Qa.map(u=>Up(u,t)),a=new xc(i);return new Ap(e.path,a)}isEqual(e){return this===e}}class jZ extends Np{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new vh(e.k,pE(e.k,this.Wa));return new Ap(e.path,t)}isEqual(e){return this===e}}function bM(n,e,t,i){const a=n.ja(1,e,t);wM("Data must be an object, but it was:",a,i);const u=[],h=Kr.empty();qa(i,(C,A)=>{const L=EM(e,C,t);A=(0,Jt.m9)(A);const B=a.La(L);if(A instanceof Fb)u.push(L);else{const re=Up(A,B);null!=re&&(u.push(L),h.set(L,re))}});const g=new Ha(u);return new uN(h,g,a.fieldTransforms)}function CM(n,e,t,i,a,u){const h=n.ja(1,e,t),g=[TM(e,i,t)],C=[a];if(u.length%2!=0)throw new tt(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let re=0;re<u.length;re+=2)g.push(TM(e,u[re])),C.push(u[re+1]);const A=[],L=Kr.empty();for(let re=g.length-1;re>=0;--re)if(!mN(A,g[re])){const he=g[re];let Ce=C[re];Ce=(0,Jt.m9)(Ce);const Ve=h.La(he);if(Ce instanceof Fb)A.push(he);else{const Ke=Up(Ce,Ve);null!=Ke&&(A.push(he),L.set(he,Ke))}}const B=new Ha(A);return new uN(L,B,h.fieldTransforms)}function fN(n,e,t,i=!1){return Up(t,n.ja(i?4:3,e))}function Up(n,e){if(gN(n=(0,Jt.m9)(n)))return wM("Unsupported field value:",e,n),pN(n,e);if(n instanceof Np)return function(t,i){if(!dN(i.xa))throw i.Ua(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Ua(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,i){const a=[];let u=0;for(const h of t){let g=Up(h,i.Ba(u));null==g&&(g={nullValue:"NULL_VALUE"}),a.push(g),u++}return{arrayValue:{values:a}}}(n,e)}return function(t,i){if(null===(t=(0,Jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pE(i.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=vr.fromDate(t);return{timestampValue:Gu(i.k,a)}}if(t instanceof vr){const a=new vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gu(i.k,a)}}if(t instanceof eI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nc)return{bytesValue:SE(i.k,t._byteString)};if(t instanceof Ei){const a=i.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw i.Ua(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:kE(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.Ua(`Unsupported field value: ${JE(t)}`)}(n,e)}function pN(n,e){const t={};return ES(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(n,(i,a)=>{const u=Up(a,e.Fa(i));null!=u&&(t[i]=u)}),{mapValue:{fields:t}}}function gN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof eI||n instanceof Nc||n instanceof Ei||n instanceof Np)}function wM(n,e,t){if(!gN(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=JE(t);throw e.Ua("an object"===i?n+" a custom object":n+" "+i)}var i}function TM(n,e,t){if((e=(0,Jt.m9)(e))instanceof ed)return e._internalPath;if("string"==typeof e)return EM(n,e);throw iI("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const $Z=new RegExp("[~\\*/\\[\\]]");function EM(n,e,t){if(e.search($Z)>=0)throw iI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ed(...e.split("."))._internalPath}catch(i){throw iI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function iI(n,e,t,i,a){const u=i&&!i.isEmpty(),h=void 0!==a;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let C="";return(u||h)&&(C+=" (found",u&&(C+=` in field ${i}`),h&&(C+=` in document ${a}`),C+=")"),new tt(Be.INVALID_ARGUMENT,g+n+C)}function mN(n,e){return n.some(t=>t.isEqual(e))}class Ub{constructor(e,t,i,a,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zZ extends Ub{data(){return super.data()}}function rI(n,e){return"string"==typeof e?EM(n,e):e instanceof ed?e._internalPath:e._delegate._internalPath}class Zp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class td extends Ub{constructor(e,t,i,a,u,h){super(e,t,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(rI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Zb extends td{data(e={}){return super.data(e)}}class Lh{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Zp(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Zb(this._firestore,this._userDataWriter,i.key,i,new Zp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>({type:"added",doc:new Zb(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Zp(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const g=new Zb(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Zp(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let C=-1,A=-1;return 0!==h.type&&(C=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),A=u.indexOf(h.doc.key)),{type:WZ(h.type),doc:g,oldIndex:C,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function _N(n,e){return n instanceof td&&e instanceof td?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Lh&&e instanceof Lh&&n._firestore===e._firestore&&oN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function yN(n){if(g_(n)&&0===n.explicitOrderBy.length)throw new tt(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bb{}function Nh(n,...e){for(const t of e)n=t._apply(n);return n}class GZ extends Bb{constructor(e,t,i){super(),this.Ga=e,this.za=t,this.Ha=i,this.type="where"}_apply(e){const t=Fp(e.firestore),i=function(a,u,h,g,C,A,L){let B;if(C.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new tt(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on FieldPath.documentId().`);if("in"===A||"not-in"===A){EN(L,A);const he=[];for(const Ce of L)he.push(TN(g,a,Ce));B={arrayValue:{values:he}}}else B=TN(g,a,L)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||EN(L,A),B=fN(h,"where",L,"in"===A||"not-in"===A);const re=Yr.create(C,A,B);return function(he,Ce){if(Ce.V()){const Ke=hb(he);if(null!==Ke&&!Ke.isEqual(Ce.field))throw new tt(Be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ke.toString()}' and '${Ce.field.toString()}'`);const At=db(he);null!==At&&IN(0,Ce.field,At)}const Ve=function(Ke,At){for(const xt of Ke.filters)if(At.indexOf(xt.op)>=0)return xt.op;return null}(he,function(Ke){switch(Ke){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ce.op));if(null!==Ve)throw new tt(Be.INVALID_ARGUMENT,Ve===Ce.op?`Invalid query. You cannot use more than one '${Ce.op.toString()}' filter.`:`Invalid query. You cannot use '${Ce.op.toString()}' filters with '${Ve.toString()}' filters.`)}(a,re),re}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Ms(e.firestore,e.converter,function(a,u){const h=a.filters.concat([u]);return new xl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,i))}}class YZ extends Bb{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(i,a,u){if(null!==i.startAt)throw new tt(Be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new tt(Be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Ip(a,u);return function(g,C){if(null===db(g)){const A=hb(g);null!==A&&IN(0,A,C.field)}}(i,h),h}(e._query,this.Ga,this.Ja);return new Ms(e.firestore,e.converter,function(i,a){const u=i.explicitOrderBy.concat([a]);return new xl(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class vN extends Bb{constructor(e,t,i){super(),this.type=e,this.Ya=t,this.Xa=i}_apply(e){return new Ms(e.firestore,e.converter,dE(e._query,this.Ya,this.Xa))}}class bN extends Bb{constructor(e,t,i){super(),this.type=e,this.Za=t,this.tc=i}_apply(e){const t=wN(e,this.type,this.Za,this.tc);return new Ms(e.firestore,e.converter,(a=t,new xl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)));var i,a}}class CN extends Bb{constructor(e,t,i){super(),this.type=e,this.Za=t,this.tc=i}_apply(e){const t=wN(e,this.type,this.Za,this.tc);return new Ms(e.firestore,e.converter,(a=t,new xl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)));var i,a}}function wN(n,e,t,i){if(t[0]=(0,Jt.m9)(t[0]),t[0]instanceof Ub)return function(a,u,h,g,C){if(!g)throw new tt(Be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const A=[];for(const L of yh(a))if(L.field.isKeyField())A.push(o_(u,g.key));else{const B=g.data.field(L.field);if(sb(B))throw new tt(Be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===B){const re=L.field.canonicalString();throw new tt(Be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${re}' (used as the orderBy) does not exist.`)}A.push(B)}return new f_(A,C)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=Fp(n.firestore);return function(u,h,g,C,A,L){const B=u.explicitOrderBy;if(A.length>B.length)throw new tt(Be.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const re=[];for(let he=0;he<A.length;he++){const Ce=A[he];if(B[he].field.isKeyField()){if("string"!=typeof Ce)throw new tt(Be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof Ce}`);if(!zu(u)&&-1!==Ce.indexOf("/"))throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${C}() must be a plain document ID, but '${Ce}' contains a slash.`);const Ve=u.path.child(Pt.fromString(Ce));if(!Mt.isDocumentKey(Ve))throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${C}() must result in a valid document path, but '${Ve}' is not because it contains an odd number of segments.`);const Ke=new Mt(Ve);re.push(o_(h,Ke))}else{const Ve=fN(g,C,Ce);re.push(Ve)}}return new f_(re,L)}(n._query,n.firestore._databaseId,a,e,t,i)}}function TN(n,e,t){if("string"==typeof(t=(0,Jt.m9)(t))){if(""===t)throw new tt(Be.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zu(e)&&-1!==t.indexOf("/"))throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Pt.fromString(t));if(!Mt.isDocumentKey(i))throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return o_(n,new Mt(i))}if(t instanceof Ei)return o_(n,t._key);throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${JE(t)}.`)}function EN(n,e){if(!Array.isArray(n)||0===n.length)throw new tt(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new tt(Be.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function IN(n,e,t){if(!t.isEqual(e))throw new tt(Be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class IM{convertValue(e,t="none"){switch(ph(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nt()}}convertObject(e,t){const i={};return qa(e.fields,(a,u)=>{i[a]=this.convertValue(u,t)}),i}convertGeoPoint(e){return new eI(zi(e.latitude),zi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ob(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Gr(e));default:return null}}convertTimestamp(e){const t=Ic(e);return new vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Pt.fromString(e);Gt(wb(i));const a=new j_(i.get(1),i.get(3)),u=new Mt(i.popFirst(5));return a.isEqual(t)||$i(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function sI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class r5 extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}class AN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fp(e)}set(e,t,i){this._verifyNotCommitted();const a=Fh(e,this._firestore),u=sI(a.converter,t,i),h=nI(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,i);return this._mutations.push(h.toMutation(a._key,Gi.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const u=Fh(e,this._firestore);let h;return h="string"==typeof(t=(0,Jt.m9)(t))||t instanceof ed?CM(this._dataReader,"WriteBatch.update",u._key,t,i,a):bM(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fh(e,this._firestore);return this._mutations=this._mutations.concat(new xp(t._key,Gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fh(n,e){if((n=(0,Jt.m9)(n)).firestore!==e)throw new tt(Be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Bp extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}function xN(n,e,t){n=Fn(n,Ei);const i=Fn(n.firestore,Ui),a=sI(n.converter,e,t);return $_(i,[nI(Fp(i),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Gi.none())])}function DN(n,e,t,...i){n=Fn(n,Ei);const a=Fn(n.firestore,Ui),u=Fp(a);let h;return h="string"==typeof(e=(0,Jt.m9)(e))||e instanceof ed?CM(u,"updateDoc",n._key,e,t,i):bM(u,"updateDoc",n._key,e),$_(a,[h.toMutation(n._key,Gi.exists(!0))])}function SN(n,...e){var t,i,a;n=(0,Jt.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||yM(e[h])||(u=e[h],h++);const g={includeMetadataChanges:u.includeMetadataChanges};if(yM(e[h])){const B=e[h];e[h]=null===(t=B.next)||void 0===t?void 0:t.bind(B),e[h+1]=null===(i=B.error)||void 0===i?void 0:i.bind(B),e[h+2]=null===(a=B.complete)||void 0===a?void 0:a.bind(B)}let C,A,L;if(n instanceof Ei)A=Fn(n.firestore,Ui),L=Qr(n._key.path),C={next:B=>{e[h]&&e[h](AM(A,n,B))},error:e[h+1],complete:e[h+2]};else{const B=Fn(n,Ms);A=Fn(B.firestore,Ui),L=B._query;const re=new Bp(A);C={next:he=>{e[h]&&e[h](new Lh(A,re,B,he))},error:e[h+1],complete:e[h+2]},yN(n._query)}return function(B,re,he,Ce){const Ve=new YE(Ce),Ke=new Nk(re,Ve,he);return B.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return Mk(yield H_(B),Ke)})),()=>{Ve.na(),B.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return Pk(yield H_(B),Ke)}))}}(Lr(A),L,g,C)}function $_(n,e){return function(t,i){const a=new ir;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(n,e,t){return Vk.apply(this,arguments)}(yield gM(t),i,a)})),a.promise}(Lr(n),e)}function AM(n,e,t){const i=t.docs.get(e._key),a=new Bp(n);return new td(n,a,e._key,i,new Zp(t.hasPendingWrites,t.fromCache),e.converter)}class p5 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fp(e)}get(e){const t=Fh(e,this._firestore),i=new r5(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Nt();const u=a[0];if(u.isFoundDocument())return new Ub(this._firestore,i,u.key,u,t.converter);if(u.isNoDocument())return new Ub(this._firestore,i,t._key,null,t.converter);throw Nt()})}set(e,t,i){const a=Fh(e,this._firestore),u=sI(a.converter,t,i),h=nI(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,i);return this._transaction.set(a._key,h),this}update(e,t,i,...a){const u=Fh(e,this._firestore);let h;return h="string"==typeof(t=(0,Jt.m9)(t))||t instanceof ed?CM(this._dataReader,"Transaction.update",u._key,t,i,a):bM(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=Fh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fh(e,this._firestore),i=new Bp(this._firestore);return super.get(e).then(a=>new td(this._firestore,i,t._key,a._document,new Zp(!1,!1),t.converter))}}function xM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function kN(){if("undefined"==typeof Uint8Array)throw new tt("unimplemented","Uint8Arrays are not available in this environment.")}function MN(){if("undefined"==typeof atob)throw new tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){El=ds.SDK_VERSION,(0,ds._registerComponent)(new Jd.wA("firestore",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),u=new Ui(a,new r_(t.getProvider("auth-internal")),new wS(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC")),(0,ds.registerVersion)(J1,"3.4.0",n),(0,ds.registerVersion)(J1,"3.4.0","esm2017")}();class Vb{constructor(e){this._delegate=e}static fromBase64String(e){return MN(),new Vb(Nc.fromBase64String(e))}static fromUint8Array(e){return kN(),new Vb(Nc.fromUint8Array(e))}toBase64(){return MN(),this._delegate.toBase64()}toUint8Array(){return kN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function DM(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of["next","error","complete"])if(i in t&&"function"==typeof t[i])return!0;return!1}(n)}class E5{enableIndexedDbPersistence(e,t){return function(n,e){cN(n=Fn(n,Ui));const t=Lr(n),i=n._freezeSettings(),a=new lM;return lN(t,a,new jL(a,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){cN(n=Fn(n,Ui));const e=Lr(n),t=n._freezeSettings(),i=new lM;return lN(e,i,new hZ(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new tt(Be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ir;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(i){if(!sr.bt())return Promise.resolve();const a=i+"main";yield sr.delete(a)}),function(i){return t.apply(this,arguments)})(Lp(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ON{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof j_||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&vp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function(n,e,t,i={}){var a;const u=(n=Fn(n,Nb))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&vp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let h,g;if("string"==typeof i.mockUserToken)h=i.mockUserToken,g=Wr.MOCK_USER;else{h=(0,Jt.Sg)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const C=i.mockUserToken.sub||i.mockUserToken.user_id;if(!C)throw new tt(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Wr(C)}n._authCredentials=new tE(new bp(h,g))}}(this._delegate,e,t,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield GL(n),t=yield KL(n);return e.setNetworkEnabled(!0),function(i){const a=gt(i);return a.Gr.delete(0),Rb(a)}(t)}))}(Lr(n=Fn(n,Ui)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield GL(n),t=yield KL(n);return e.setNetworkEnabled(!1),(i=(0,Ne.Z)(function*(a){const u=gt(a);u.Gr.add(0),yield N_(u),u.Jr.set("Offline")}),function(a){return i.apply(this,arguments)})(t);var i}))}(Lr(n=Fn(n,Ui)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,XL("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new ir;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(n,e){return zk.apply(this,arguments)}(yield gM(e),t)})),t.promise}(Lr(n=Fn(n,Ui)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new YE(e);return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return i=yield H_(n),a=t,gt(i).io.add(a),void a.next();var i,a})),()=>{t.na(),n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return i=yield H_(n),a=t,void gt(i).io.delete(a);var i,a}))}}(Lr(n=Fn(n,Ui)),yM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new z_(this,rN(this._delegate,e))}catch(t){throw no(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ya(this,XE(this._delegate,e))}catch(t){throw no(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new io(this,function(n,e){if(n=Fn(n,Nb),_M("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(Be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ms(n,null,(t=e,new xl(Pt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw no(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new ir;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const i=yield(a=n,QE(a).then(u=>u.datastore));var a;new gZ(n.asyncQueue,i,e,t).run()})),t.promise}(Lr(n=Fn(n,Ui)),t=>e(new p5(n,t)))}(this._delegate,t=>e(new PN(this,t)))}batch(){return Lr(this._delegate),new RN(new AN(this._delegate,e=>$_(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Lr(n=Fn(n,Ui)),i=new SZ;return function(n,e,t,i){const a=function(u,h){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,C=function(C,A){if(C instanceof Uint8Array)return $L(C,A);if(C instanceof ArrayBuffer)return $L(new Uint8Array(C),A);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new fZ(C,h);var C}(t,Pb(e));n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function(n,e,t){const i=gt(n);var a;(a=(0,Ne.Z)(function*(u,h,g){try{const C=yield h.getMetadata();if(yield function(re,he){const Ce=gt(re),Ve=br(he.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",Ke=>Ce.Ye.getBundleMetadata(Ke,he.id)).then(Ke=>!!Ke&&Ke.createTime.compareTo(Ve)>=0)}(u.localStore,C))return yield h.close(),void g._completeWith((re=C,{taskState:"Success",documentsLoaded:re.totalDocuments,bytesLoaded:re.totalBytes,totalDocuments:re.totalDocuments,totalBytes:re.totalBytes}));g._updateProgress(RL(C));const A=new jU(C,u.localStore,h.k);let L=yield h.Ho();for(;L;){const re=yield A.yo(L);re&&g._updateProgress(re),L=yield h.Ho()}const B=yield A.complete();yield Xu(u,B.In,void 0),yield function(re,he){const Ce=gt(re);return Ce.persistence.runTransaction("Save bundle","readwrite",Ve=>Ce.Ye.saveBundleMetadata(Ve,he))}(u.localStore,C),g._completeWith(B.progress)}catch(C){vp("SyncEngine",`Loading bundle failed with ${C}`),g._failWith(C)}var re}),function(u,h,g){return a.apply(this,arguments)})(i,e,t).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield gM(n),a,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,i){const a=gt(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.Ye.getNamedQuery(u,i))}(yield pM(n),e)}))}(Lr(n=Fn(n,Ui)),e).then(t=>t?new Ms(n,null,t.query):null)}(this._delegate,e).then(t=>t?new io(this,t):null)}}class oI extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vb(new Nc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ya.forKey(t,this.firestore,null)}}class PN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new oI(e)}get(e){const t=qp(e);return this._delegate.get(t).then(i=>new qb(this._firestore,new td(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=qp(e);return i?(xM("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const u=qp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,i,...a),this}delete(e){const t=qp(e);return this._delegate.delete(t),this}}class RN{constructor(e){this._delegate=e}set(e,t,i){const a=qp(e);return i?(xM("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const u=qp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,i,...a),this}delete(e){const t=qp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Vp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Zb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hb(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Vp.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let u=a.get(t);return u||(u=new Vp(e,new oI(e),t),a.set(t,u)),u}}Vp.INSTANCES=new WeakMap;class Ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ya(t,new Ei(t._delegate,i,new Mt(e)))}static forKey(e,t,i){return new Ya(t,new Ei(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new z_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new z_(this.firestore,rN(this._delegate,e))}catch(t){throw no(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Jt.m9)(e))instanceof Ei&&sN(this._delegate,e)}set(e,t){t=xM("DocumentReference.set",t);try{return t?xN(this._delegate,e,t):xN(this._delegate,e)}catch(i){throw no(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?DN(this._delegate,e):DN(this._delegate,e,t,...i)}catch(a){throw no(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return $_(Fn(n.firestore,Ui),[new xp(n._key,Gi.none())])}(this._delegate)}onSnapshot(...e){const t=LN(e),i=NN(e,a=>new qb(this.firestore,new td(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return SN(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Fn(n,Ei);const e=Fn(n.firestore,Ui),t=Lr(e),i=new Bp(e);return function(n,e){const t=new ir;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(i=(0,Ne.Z)(function*(a,u,h){try{const g=yield function(C,A){const L=gt(C);return L.persistence.runTransaction("read document","readonly",B=>L.Wn.Rn(B,A))}(a,u);g.isFoundDocument()?h.resolve(g):g.isNoDocument()?h.resolve(null):h.reject(new tt(Be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const C=Z_(g,`Failed to get document '${u} from cache`);h.reject(C)}}),function(a,u,h){return i.apply(this,arguments)})(yield pM(n),e,t);var i})),t.promise}(t,n._key).then(a=>new td(e,i,n._key,a,new Zp(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Fn(n,Ei);const e=Fn(n.firestore,Ui);return YL(Lr(e),n._key,{source:"server"}).then(t=>AM(e,n,t))}(this._delegate):function(n){n=Fn(n,Ei);const e=Fn(n.firestore,Ui);return YL(Lr(e),n._key).then(t=>AM(e,n,t))}(this._delegate),t.then(i=>new qb(this.firestore,new td(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ya(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function no(n,e,t){return n.message=n.message.replace(e,t),n}function LN(n){for(const e of n)if("object"==typeof e&&!DM(e))return e;return{}}function NN(n,e){var t,i;let a;return a=DM(n[0])?n[0]:DM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class qb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _N(this._delegate,e._delegate)}}class Hb extends qb{data(e){const t=this._delegate.data(e);return function(n,e){n||Nt()}(void 0!==t),t}}class io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oI(e)}where(e,t,i){try{return new io(this.firestore,Nh(this._delegate,function(n,e,t){const i=e,a=rI("where",n);return new GZ(a,i,t)}(e,t,i)))}catch(a){throw no(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new io(this.firestore,Nh(this._delegate,function(n,e="asc"){const t=e,i=rI("orderBy",n);return new YZ(i,t)}(e,t)))}catch(i){throw no(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new io(this.firestore,Nh(this._delegate,function(n){return nN("limit",n),new vN("limit",n,"F")}(e)))}catch(t){throw no(t,"limit()","Query.limit()")}}limitToLast(e){try{return new io(this.firestore,Nh(this._delegate,function(n){return nN("limitToLast",n),new vN("limitToLast",n,"L")}(e)))}catch(t){throw no(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new io(this.firestore,Nh(this._delegate,function(...n){return new bN("startAt",n,!0)}(...e)))}catch(t){throw no(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new io(this.firestore,Nh(this._delegate,function(...n){return new bN("startAfter",n,!1)}(...e)))}catch(t){throw no(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new io(this.firestore,Nh(this._delegate,function(...n){return new CN("endBefore",n,!0)}(...e)))}catch(t){throw no(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new io(this.firestore,Nh(this._delegate,function(...n){return new CN("endAt",n,!1)}(...e)))}catch(t){throw no(t,"endAt()","Query.endAt()")}}isEqual(e){return oN(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Fn(n,Ms);const e=Fn(n.firestore,Ui),t=Lr(e),i=new Bp(e);return function(n,e){const t=new ir;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(i=(0,Ne.Z)(function*(a,u,h){try{const g=yield jE(a,u,!0),C=new FL(u,g.zn),A=C.bo(g.documents),L=C.applyChanges(A,!1);h.resolve(L.snapshot)}catch(g){const C=Z_(g,`Failed to execute query '${u} against cache`);h.reject(C)}}),function(a,u,h){return i.apply(this,arguments)})(yield pM(n),e,t);var i})),t.promise}(t,n._query).then(a=>new Lh(e,i,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Fn(n,Ms);const e=Fn(n.firestore,Ui),t=Lr(e),i=new Bp(e);return QL(t,n._query,{source:"server"}).then(a=>new Lh(e,i,n,a))}(this._delegate):function(n){n=Fn(n,Ms);const e=Fn(n.firestore,Ui),t=Lr(e),i=new Bp(e);return yN(n._query),QL(t,n._query).then(a=>new Lh(e,i,n,a))}(this._delegate),t.then(i=>new SM(this.firestore,new Lh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=LN(e),i=NN(e,a=>new SM(this.firestore,new Lh(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return SN(this._delegate,t,i)}withConverter(e){return new io(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}class A5{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Hb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new A5(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Hb(this._firestore,i))})}isEqual(e){return _N(this._delegate,e._delegate)}}class z_ extends io{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ya(this.firestore,e):null}doc(e){try{return new Ya(this.firestore,void 0===e?XE(this._delegate):XE(this._delegate,e))}catch(t){throw no(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Fn(n.firestore,Ui),i=XE(n),a=sI(n.converter,e);return $_(t,[nI(Fp(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,Gi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ya(this.firestore,t))}isEqual(e){return sN(this._delegate,e._delegate)}withConverter(e){return new z_(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function qp(n){return Fn(n,Ei)}class kM{constructor(...e){this._delegate=new ed(...e)}static documentId(){return new kM(Ai.keyField().canonicalString())}isEqual(e){return(e=(0,Jt.m9)(e))instanceof ed&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=new vM("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Hp(e)}static delete(){const e=new Fb("deleteField");return e._methodName="FieldValue.delete",new Hp(e)}static arrayUnion(...e){const t=function(...n){return new qZ("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hp(t)}static arrayRemove(...e){const t=function(...n){return new HZ("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hp(t)}static increment(e){const t=function(n){return new jZ("increment",n)}(e);return t._methodName="FieldValue.increment",new Hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const x5={Firestore:ON,GeoPoint:eI,Timestamp:vr,Blob:Vb,Transaction:PN,WriteBatch:RN,DocumentReference:Ya,DocumentSnapshot:qb,Query:io,QueryDocumentSnapshot:Hb,QuerySnapshot:SM,CollectionReference:z_,FieldPath:kM,FieldValue:Hp,setLogLevel:function(n){!function(n){Tc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function FN(n,e){return function(n,e=o1.z){return new bi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function MM(n,e){return FN(n,e).pipe((0,$t.U)(t=>({payload:t,type:"query"})))}function aI(n,e){return MM(n,e).pipe(Xl(void 0),r0(),(0,$t.U)(([t,i])=>{const a=i.payload.docChanges(),u=a.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((h,g)=>{const C=a.find(L=>L.doc.ref.isEqual(h.ref)),A=null==t?void 0:t.payload.docs.find(L=>L.ref.isEqual(h.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(h.metadata)||!C&&A&&JSON.stringify(A.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),u}))}function UN(n,e,t){return aI(n,t).pipe(du((i,a)=>function(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return OM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,a.map(u=>u.payload),e),[]),function(n,e=bo.y){return n=null!=n?n:ep,(0,cr.e)((t,i)=>{let a,u=!0;t.subscribe(new fi.Q(i,h=>{const g=e(h);(u||!n(a,g))&&(u=!1,a=g,i.next(h))}))})}(),(0,$t.U)(i=>i.map(a=>({type:a.type,payload:a}))))}function OM(n,e,t,...i){const a=n.slice();return a.splice(e,t,...i),a}function ZN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new Jd.wA("firestore-compat",t=>((e,t)=>new ON(e,t,new E5))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},x5)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.9")}(s0.Z);class BN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=aI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,$t.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(Xl(void 0),r0(),Hs(([i,a])=>a.length>0||!i),(0,$t.U)(([i,a])=>a),ui.iC)}auditTrail(e){return this.stateChanges(e).pipe(du((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=ZN(e);return UN(this.query,t,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return MM(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),ui.iC)}get(e){return(0,Vn.D)(this.query.get(e)).pipe(ui.iC)}add(e){return this.ref.add(e)}doc(e){return new VN(this.ref.doc(e),this.afs)}}class VN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:a,query:u}=jN(i,t);return new BN(a,u,this.afs)}snapshotChanges(){return function(n,e){return FN(n,e).pipe(Xl(void 0),r0(),(0,$t.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,$t.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Vn.D)(this.ref.get(e)).pipe(ui.iC)}}class R5{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?aI(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Hs(t=>t.length>0),ui.iC):aI(this.query,this.afs.schedulers.outsideAngular).pipe(ui.iC)}auditTrail(e){return this.stateChanges(e).pipe(du((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=ZN(e);return UN(this.query,t,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return MM(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ui.iC)}get(e){return(0,Vn.D)(this.query.get(e)).pipe(ui.iC)}}const qN=new r.OlP("angularfire2.enableFirestorePersistence"),HN=new r.OlP("angularfire2.firestore.persistenceSettings"),L5=new r.OlP("angularfire2.firestore.settings"),N5=new r.OlP("angularfire2.firestore.use-emulator");function jN(n,e=(t=>t)){return{query:e(n),ref:n}}let jb=(()=>{class n{constructor(t,i,a,u,h,g,C,A,L,B,re,he,Ce,Ve,Ke,At,xt){this.schedulers=C;const Vt=(0,us.on)(t,g,i),yt=L;B&&DD(Vt,g,re,Ce,Ve,Ke,he,At),[this.firestore,this.persistenceEnabled$]=(0,us.cc)(`${Vt.name}.firestore`,"AngularFirestore",Vt.name,()=>{const An=g.runOutsideAngular(()=>Vt.firestore());if(u&&An.settings(u),yt&&An.useEmulator(...yt),a&&!Tr(h)){const ei=()=>{try{return(0,Vn.D)(An.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(Si){return"undefined"!=typeof console&&console.warn(Si),Ft(!1)}};return[An,g.runOutsideAngular(ei)]}return[An,Ft(!1)]},[u,yt,a])}collection(t,i){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=jN(a,i),g=this.schedulers.ngZone.run(()=>u);return new BN(g,h,this)}collectionGroup(t,i){const a=i||(h=>h),u=this.firestore.collectionGroup(t);return new R5(a(u),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>i);return new VN(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(us.Dh),r.LFG(us.xv,8),r.LFG(qN,8),r.LFG(L5,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(ui.HU),r.LFG(HN,8),r.LFG(N5,8),r.LFG(ra,8),r.LFG(Ou,8),r.LFG(AD,8),r.LFG(t0,8),r.LFG(n1,8),r.LFG(xD,8),r.LFG(bm,8),r.LFG(Jf,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),F5=(()=>{class n{constructor(){Tl.Z.registerVersion("angularfire",ui.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:qN,useValue:!0},{provide:HN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[jb]}),n})(),nd=(()=>{class n{constructor(t,i,a,u,h){this.fireService=t,this.firebaseAuth=i,this.afAuth=a,this.router=u,this.ngZone=h,this.afAuth.authState.subscribe(g=>{g?(this.userData=g,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}get isLoggedIn(){return null!=JSON.parse(localStorage.getItem("user"))}GoogleAuth(){return this.AuthLogin(new OD.N)}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(i=>{this.ngZone.run(()=>{this.router.navigate(["user-profile"])})}).catch(i=>{window.alert(i)})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["Login"])})}getSinglePost(){return this.fireService.collection("posts",t=>t.orderBy("timestamp","desc").limit(1)).snapshotChanges()}getPosts(){return this.fireService.collection("posts",t=>t.orderBy("timestamp","desc").limit(50)).snapshotChanges()}getPostsNew(t){return this.fireService.collection("posts",i=>i.orderBy("timestamp","desc")).snapshotChanges()}getUserPosts(t){return this.fireService.collection("posts",i=>i.where("userkey","==",t).orderBy("timestamp","desc")).get()}getAllLegacyPosts(){return this.fireService.collection("Legacy",t=>t.orderBy("timestamp","desc")).snapshotChanges()}getLegacies(){return this.fireService.collection("Legacy",t=>t.orderBy("updated","desc")).snapshotChanges()}getUserLegacies(t){return this.fireService.collection("Legacy",i=>i.where("author","==",t)).snapshotChanges()}getUserNewMessages(t){return this.fireService.collection("NewMessage").doc(t).collection("NewMessage",i=>i.orderBy("timestamp","desc")).snapshotChanges()}getAevum(){return this.fireService.collection("Aevum",t=>t.orderBy("timestamp","desc")).snapshotChanges()}loadLegacy(t){return this.fireService.collection("Legacy").doc(t).ref.get()}getLegacyPosts(t){return this.fireService.collection("Legacy").doc(t).collection("posts").snapshotChanges()}getLikesCount(t){return this.fireService.collection("posts").doc(t).collection("Likes").get()}likePost(t,i){return this.fireService.collection("posts").doc(t).collection("Likes").doc(i).set({Liked:"Liked"}).then(()=>{console.log("Done")}).catch(a=>{console.log("Error: "+a)})}unLikePost(t,i){return this.fireService.collection("posts").doc(t).collection("Likes").doc(i).delete().catch(a=>{console.log("Error: "+a)})}likeLegacyPost(t,i){return this.fireService.collection("Legacy").doc(t).collection("Likes").doc(i).set({Liked:"Liked"}).then(()=>{console.log("Done")}).catch(a=>{console.log("Error: "+a)})}unLikeLegacyPost(t,i){return this.fireService.collection("Legacy").doc(t).collection("Likes").doc(i).delete().catch(a=>{console.log("Error: "+a)})}loadBookmarkedChapters(t,i,a){return this.fireService.collection("users").doc(t).collection("SavedLegacyChapters").doc(i).collection("posts").doc(a).snapshotChanges()}addLegacySubscriber(t,i){return this.fireService.collection("Legacy").doc(t).collection("followers").doc(i).set({userkey:i})}removeLegacySubscriber(t,i){return this.fireService.collection("Legacy").doc(t).collection("followers").doc(i).delete()}bookmarkLegacyChapter(t,i,a){return this.fireService.collection("users").doc(i).collection("SavedLegacyChapters").doc(t).collection("posts").doc(a).set({chapterID:a}).then(()=>{console.log("Saved Chapter")}).catch(u=>{console.log("Error Saving Chapter->"+u)})}unBookmarkLegacyChapter(t,i,a){return this.fireService.collection("users").doc(i).collection("SavedLegacyChapters").doc(t).collection("posts").doc(a).delete().then(()=>{console.log("Chapter unBookmarked")}).catch(u=>{console.log("Error unbookmarking->"+u)})}bookmarkLegacy(t,i){return this.fireService.collection("users").doc(i).collection("savedLegacies").doc(t).set({legacyID:t}).then(()=>{M.toast({html:"Legacy Bookmarked"})}).catch(a=>{M.toast({html:"Error Saving Legacy: "+a})})}unBookmarkLegacy(t,i){return this.fireService.collection("users").doc(i).collection("savedLegacies").doc(t).delete().then(()=>{M.toast({html:"Legacy removed from bookmarks"})}).catch(a=>{M.toast({html:"Error Saving Legacy: "+a})})}loadBookmarkedLegacies(t){return this.fireService.collection("users").doc(t).collection("SavedLegacies").snapshotChanges()}newPost(t,i){return this.fireService.collection("posts").add(t).then(()=>{console.log("Post Successful")}).catch(a=>{console.log("Post Err: "+a)})}newLegacyPost(t,i){return this.fireService.collection("Legacy").doc(i).collection("posts").add(t).then(()=>{console.log("Post Successful")}).catch(a=>{console.log("Post Err: "+a)})}editLegacyPost(t,i,a){return this.fireService.collection("Legacy").doc(i).collection("posts").doc(a).set(t).then(()=>{console.log("Legacy Chapter Updated")}).catch(u=>{console.log("Chapter update Err: "+u)})}newLegacy(t){return this.fireService.collection("Legacy").add(t).then(()=>{console.log("New Legacy Post Successful")}).catch(i=>{console.log("Post Err: "+i)})}saveWritingProgress(t,i,a){return this.fireService.collection("users").doc(i).collection("PendingWriting").doc(a).set(t).then(()=>{console.log("Progress Saved")}).catch(u=>{console.log("Error Saving Writing Progress ->"+u)})}deleteWritingProgress(t,i){return this.fireService.collection("users").doc(t).collection("PendingWriting").doc(i).delete().then(()=>{console.log("Successfully Deleted old saved writing progress")}).catch(a=>{console.log("Unable to delete old Writing Saved in progress -> "+a)})}fetchWritingProgress(t){return this.fireService.collection("users").doc(t).collection("PendingWriting").snapshotChanges()}tagUser(t,i,a){return this.fireService.collection("users").doc(i).collection("Tagged").doc(a).set({postID:a,type:"Writing",from:t})}notifyUser(t,i,a){return this.fireService.collection("users").doc(i).collection("Notifications").add({type:"WRITING",date:new Date,postID:a,userID:t,timestamp:PD.toString})}generateID(){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<=25;a++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}saveLegacyPost(t,i){return this.fireService.collection("users").doc(i).collection("savedLegacys").doc(t).set({LegacyID:t}).then(()=>{console.log("Legacy Saved")}).catch(a=>{console.log("Error: "+a)})}unSaveLegacyPost(t,i){return this.fireService.collection("users").doc(i).collection("savedLegacys").doc(t).delete().catch(a=>{console.log("Error: "+a)})}deleteLegacy(t){return this.fireService.collection("Legacy").doc(t).delete().then(()=>{console.log("Legacy Deleted")}).catch(i=>{console.log("Err deleting Legacy: "+i)})}updateLegacy(t,i){return this.fireService.collection("Legacy").doc(t).update(i)}updateLegacyPrivacy(t,i,a){return this.fireService.collection("Legacy").doc(t).collection("posts").doc(i).update({privacy:a})}updateLegacyChapter(t,i,a){return this.fireService.collection("Legacy").doc(t).collection("posts").doc(i).update({title:a.title,text:a.text,date:a.date,cover:a.cover})}saveLegacyChapter(t,i){return console.log("LAW"),console.log(t),this.fireService.collection("users").doc(i).collection("savedLegacyChapters").doc(t.legacyID).collection("chapters").doc(t.chapterID).set(t).then(()=>{console.log("Legacy Saved")}).catch(a=>{console.log("Error: "+a)})}unSaveLegacyChapter(t,i,a){return this.fireService.collection("users").doc(a).collection("savedLegacyChapters").doc(t).collection("chapters").doc(i).delete().catch(u=>{console.log("Error: "+u)})}deleteLegacyChapter(t,i){return this.fireService.collection("Legacy").doc(t).collection("posts").doc(i).delete().then(()=>{console.log("Legacy Chapter Deleted")}).catch(a=>{console.log("Err deleting Chapter: "+a)})}addLegacyFollower(t,i){return this.fireService.collection("Legacy").doc(t).collection("Readers").doc(i).set({userKey:i})}removeLegacyFollower(t,i){return this.fireService.collection("Legacy").doc(t).collection("Readers").doc(i).delete()}addLegacyLike(t,i){return this.fireService.collection("Legacy").doc(t).collection("Likes").doc(i).set({userKey:i})}removeLegacyLike(t,i){return this.fireService.collection("Legacy").doc(t).collection("Likes").doc(i).delete()}getLegacyLikes(t){return this.fireService.collection("Legacy").doc(t).collection("Likes").snapshotChanges()}getLegacySaves(t,i){return this.fireService.collection("users").doc(i).collection("savedLegacys").snapshotChanges()}getLikes(t){return this.fireService.collection("posts").doc(t).collection("Likes").snapshotChanges()}getUserInfo(t){return this.fireService.collection("users").doc(t).ref.get()}getUserChatMessages(t,i){return this.fireService.collection("Message").doc(t).collection(i,a=>a.orderBy("timestamp","desc")).snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(jb),r.LFG(ra),r.LFG(ra),r.LFG(mi),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lI=(()=>{class n{constructor(){this._chapter=null}cleanChapter(){this._chapter=null}setChapter(t){this._chapter=t}get chapter(){return this._chapter}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $N="firebasestorage.googleapis.com",zN="storageBucket";class Qi extends Jt.ZR{constructor(e,t){super(PM(e),`Firebase Storage: ${t} (${PM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}_codeEquals(e){return PM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function PM(n){return"storage/"+n}function RM(){return new Qi("unknown","An unknown error occurred, please check the error payload for server response.")}function WN(){return new Qi("canceled","User canceled the upload/download.")}function GN(){return new Qi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function W_(n){return new Qi("invalid-argument",n)}function KN(){return new Qi("app-deleted","The Firebase app was deleted.")}function YN(n){return new Qi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $b(n,e){return new Qi("invalid-format","String does not match format '"+n+"': "+e)}function zb(n){throw new Qi("internal-error","Internal error: "+n)}class Os{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Os.makeFromUrl(e,t)}catch(a){return new Os(e,"")}if(""===i.path)return i;throw function(n){return new Qi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+a+"(/(.*))?$","i");function A(yt){yt.path_=decodeURIComponent(yt.path)}const B=t.replace(/[.]/g,"\\."),Vt=[{regex:g,indices:{bucket:1,path:3},postModify:function(yt){"/"===yt.path.charAt(yt.path.length-1)&&(yt.path_=yt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${B}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:A},{regex:new RegExp(`^https?://${t===$N?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:A}];for(let yt=0;yt<Vt.length;yt++){const An=Vt[yt],ei=An.regex.exec(e);if(ei){let lo=ei[An.indices.path];lo||(lo=""),i=new Os(ei[An.indices.bucket],lo),An.postModify(i);break}}if(null==i)throw function(n){return new Qi("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class J5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cI(n){return"string"==typeof n||n instanceof String}function QN(n){return LM()&&n instanceof Blob}function LM(){return"undefined"!=typeof Blob}function NM(n,e,t,i){if(i<e)throw W_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw W_(`Invalid value for '${n}'. Expected ${t} or less.`)}function id(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function JN(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Uh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Uh||(Uh={})),Uh))();class rB{constructor(e,t,i,a,u,h,g,C,A,L,B){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=g,this.errorCallback_=C,this.timeout_=A,this.progressCallback_=L,this.connectionFactory_=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((re,he)=>{this.resolve_=re,this.reject_=he,this.start_()})}start_(){const t=(i,a)=>{const u=this.resolve_,h=this.reject_,g=a.connection;if(a.wasSuccessCode)try{const C=this.callback_(g,g.getResponse());!function(n){return void 0!==n}(C)?u():u(C)}catch(C){h(C)}else if(null!==g){const C=RM();C.serverResponse=g.getErrorText(),h(this.errorCallback_?this.errorCallback_(g,C):C)}else h(a.canceled?this.appDelete_?KN():WN():new Qi("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new uI(!1,null,!0)):this.backoffId_=function(n,e,t){let i=1,a=null,u=null,h=!1,g=0;function C(){return 2===g}let A=!1;function L(...Ke){A||(A=!0,e.apply(null,Ke))}function B(Ke){a=setTimeout(()=>{a=null,n(he,C())},Ke)}function re(){u&&clearTimeout(u)}function he(Ke,...At){if(A)return void re();if(Ke)return re(),void L.call(null,Ke,...At);if(C()||h)return re(),void L.call(null,Ke,...At);let Vt;i<64&&(i*=2),1===g?(g=2,Vt=0):Vt=1e3*(i+Math.random()),B(Vt)}let Ce=!1;function Ve(Ke){Ce||(Ce=!0,re(),!A&&(null!==a?(Ke||(g=2),clearTimeout(a),B(0)):Ke||(g=1)))}return B(0),u=setTimeout(()=>{h=!0,Ve(!0)},t),Ve}((i,a)=>{if(a)return void i(!1,new uI(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const h=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const g=u.getErrorCode()===Uh.NO_ERROR,C=u.getStatus();if(!g||this.isRetryStatusCode_(C)){const L=u.getErrorCode()===Uh.ABORT;return void i(!1,new uI(!1,null,L))}const A=-1!==this.successCodes_.indexOf(C);i(!0,new uI(A,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,a=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||a||u}}class uI{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function dB(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(LM())return new Blob(n);throw new Qi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const oa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class FM{constructor(e,t){this.data=e,this.contentType=t||null}}function UM(n,e){switch(n){case oa.RAW:return new FM(XN(e));case oa.BASE64:case oa.BASE64URL:return new FM(e2(n,e));case oa.DATA_URL:return new FM(function(n){const e=new t2(n);return e.base64?e2(oa.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw $b(oa.DATA_URL,"Malformed data URL.")}return XN(e)}(e.rest)}(e),function(n){return new t2(n).contentType}(e))}throw RM()}function XN(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function e2(n,e){switch(n){case oa.BASE64:{const a=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(a||u)throw $b(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case oa.BASE64URL:{const a=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(a||u)throw $b(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(a){throw $b(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class t2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw $b(oa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=e.substring(e.indexOf(",")+1)}}class Fc{constructor(e,t){let i=0,a="";QN(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(QN(this.data_)){const a=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===a?null:new Fc(a)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Fc(i,!0)}}static getBlob(...e){if(LM()){const t=e.map(i=>i instanceof Fc?i.data_:i);return new Fc(dB.apply(null,t))}{const t=e.map(h=>cI(h)?UM(oa.RAW,h).data:h.data_);let i=0;t.forEach(h=>{i+=h.byteLength});const a=new Uint8Array(i);let u=0;return t.forEach(h=>{for(let g=0;g<h.length;g++)a[u++]=h[g]}),new Fc(a,!0)}}uploadData(){return this.data_}}function ZM(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function n2(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function bB(n,e){return e}class ro{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||bB}}let dI=null;function Wb(){if(dI)return dI;const n=[];n.push(new ro("bucket")),n.push(new ro("generation")),n.push(new ro("metageneration")),n.push(new ro("name","fullPath",!0));const t=new ro("name");t.xform=function(u,h){return function(n){return!cI(n)||n.length<2?n:n2(n)}(h)},n.push(t);const a=new ro("size");return a.xform=function(u,h){return void 0!==h?Number(h):h},n.push(a),n.push(new ro("timeCreated")),n.push(new ro("updated")),n.push(new ro("md5Hash",null,!0)),n.push(new ro("cacheControl",null,!0)),n.push(new ro("contentDisposition",null,!0)),n.push(new ro("contentEncoding",null,!0)),n.push(new ro("contentLanguage",null,!0)),n.push(new ro("contentType",null,!0)),n.push(new ro("metadata","customMetadata",!0)),dI=n,dI}function r2(n,e,t){const i=ZM(e);return null===i?null:function(n,e,t){const i={type:"file"},a=t.length;for(let u=0;u<a;u++){const h=t[u];i[h.local]=h.xform(i,e[h.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const u=new Os(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(i,n),i}(n,i,t)}function BM(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const u=e[a];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const s2="prefixes";class Uc{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zc(n){if(!n)throw RM()}function hI(n,e){return function(i,a){const u=r2(n,a,e);return Zc(null!==u),u}}function G_(n){return function(t,i){let a;return a=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new Qi("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Qi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new Qi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new Qi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,a.serverResponse=i.serverResponse,a}}function Gb(n){const e=G_(n);return function(i,a){let u=e(i,a);return 404===i.getStatus()&&(u=function(n){return new Qi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=a.serverResponse,u}}function a2(n,e,t){const a=id(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,g=new Uc(a,"GET",hI(n,t),h);return g.errorHandler=Gb(e),g}function SB(n,e,t,i,a){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),i&&(u.pageToken=i),a&&(u.maxResults=a);const g=id(e.bucketOnlyServerUrl(),n.host,n._protocol),A=n.maxOperationRetryTime,L=new Uc(g,"GET",function(n,e){return function(i,a){const u=function(n,e,t){const i=ZM(t);return null===i?null:function(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[s2])for(const a of t[s2]){const u=a.replace(/\/$/,""),h=n._makeStorageReference(new Os(e,u));i.prefixes.push(h)}if(t.items)for(const a of t.items){const u=n._makeStorageReference(new Os(e,a.name));i.items.push(u)}return i}(n,e,i)}(n,e,a);return Zc(null!==u),u}}(n,e.bucket),A);return L.urlParams=u,L.errorHandler=G_(e),L}function c2(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}class fI{constructor(e,t,i,a){this.current=e,this.total=t,this.finalized=!!i,this.metadata=a||null}}function VM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){Zc(!1)}return Zc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const FB={STATE_CHANGED:"state_changed"},so={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qM(n){switch(n){case"running":case"pausing":case"canceling":return so.RUNNING;case"paused":return so.PAUSED;case"success":return so.SUCCESS;case"canceled":return so.CANCELED;default:return so.ERROR}}class UB{constructor(e,t,i){if(function(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function K_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class BB extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a){if(this.sent_)throw zb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw zb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function kl(){return new BB}class f2{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Wb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,u)=>{this._resolve=a,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function(n,e,t,i,a){const u=e.bucketOnlyServerUrl(),h=c2(e,i,a),g={name:h.fullPath},C=id(u,n.host,n._protocol),L={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},B=BM(h,t),Ce=new Uc(C,"POST",function(Ve){let Ke;VM(Ve);try{Ke=Ve.getResponseHeader("X-Goog-Upload-URL")}catch(At){Zc(!1)}return Zc(cI(Ke)),Ke},n.maxUploadRetryTime);return Ce.urlParams=g,Ce.headers=L,Ce.body=B,Ce.errorHandler=G_(e),Ce}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,kl,e,t);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const a=function(n,e,t,i){const C=new Uc(t,"POST",function(A){const L=VM(A,["active","final"]);let B=null;try{B=A.getResponseHeader("X-Goog-Upload-Size-Received")}catch(he){Zc(!1)}B||Zc(!1);const re=Number(B);return Zc(!isNaN(re)),new fI(re,i.size(),"final"===L)},n.maxUploadRetryTime);return C.headers={"X-Goog-Upload-Command":"query"},C.errorHandler=G_(e),C}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(a,kl,t,i);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new fI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,u)=>{let h;try{h=function(n,e,t,i,a,u,h,g){const C=new fI(0,0);if(h?(C.current=h.current,C.total=h.total):(C.current=0,C.total=i.size()),i.size()!==C.total)throw new Qi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const A=C.total-C.current;let L=A;a>0&&(L=Math.min(L,a));const B=C.current,Ce={"X-Goog-Upload-Command":L===A?"upload, finalize":"upload","X-Goog-Upload-Offset":`${C.current}`},Ve=i.slice(B,B+L);if(null===Ve)throw GN();const Vt=new Uc(t,"POST",function(yt,An){const ei=VM(yt,["active","final"]),Si=C.current+L,lo=i.size();let ca;return ca="final"===ei?hI(e,u)(yt,An):null,new fI(Si,lo,"final"===ei,ca)},e.maxUploadRetryTime);return Vt.headers=Ce,Vt.body=Ve.uploadData(),Vt.progressCallback=g||null,Vt.errorHandler=G_(n),Vt}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(C){return this._error=C,void this._transition("error")}const g=this._ref.storage._makeRequest(h,kl,a,u);this._request=g,g.getPromise().then(C=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(C.current),C.finalized?(this._metadata=C.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=a2(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,kl,e,t);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function(n,e,t,i,a){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},C=function(){let Vt="";for(let yt=0;yt<2;yt++)Vt+=Math.random().toString().slice(2);return Vt}();h["Content-Type"]="multipart/related; boundary="+C;const A=c2(e,i,a),L=BM(A,t),he=Fc.getBlob("--"+C+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+L+"\r\n--"+C+"\r\nContent-Type: "+A.contentType+"\r\n\r\n",i,"\r\n--"+C+"--");if(null===he)throw GN();const Ce={name:A.fullPath},Ve=id(u,n.host,n._protocol),At=n.maxUploadRetryTime,xt=new Uc(Ve,"POST",hI(n,t),At);return xt.urlParams=Ce,xt.headers=h,xt.body=he.uploadData(),xt.errorHandler=G_(e),xt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,kl,e,t);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=WN(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=qM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,a){const u=new UB(t||void 0,i||void 0,a||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(qM(this._state)){case so.SUCCESS:K_(this._resolve.bind(null,this.snapshot))();break;case so.CANCELED:case so.ERROR:K_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(qM(this._state)){case so.RUNNING:case so.PAUSED:e.next&&K_(e.next.bind(e,this.snapshot))();break;case so.SUCCESS:e.complete&&K_(e.complete.bind(e))();break;default:e.error&&K_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class jp{constructor(e,t){this._service=e,this._location=t instanceof Os?t:Os.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new jp(e,t)}get root(){const e=new Os(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n2(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Os(this._location.bucket,e);return new jp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw YN(e)}}function g2(n,e,t){return HM.apply(this,arguments)}function HM(){return HM=(0,Ne.Z)(function*(n,e,t){const a=yield m2(n,{pageToken:t});e.prefixes.push(...a.prefixes),e.items.push(...a.items),null!=a.nextPageToken&&(yield g2(n,e,a.nextPageToken))}),HM.apply(this,arguments)}function m2(n,e){null!=e&&"number"==typeof e.maxResults&&NM("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=SB(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,kl)}function JB(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const a=id(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,g=new Uc(a,"GET",function(n,e){return function(i,a){const u=r2(n,a,e);return Zc(null!==u),function(n,e,t,i){const a=ZM(e);if(null===a||!cI(a.downloadTokens))return null;const u=a.downloadTokens;if(0===u.length)return null;const h=encodeURIComponent;return u.split(",").map(A=>{const B=n.fullPath;return id("/b/"+h(n.bucket)+"/o/"+h(B),t,i)+JN({alt:"media",token:A})})[0]}(u,a,n.host,n._protocol)}}(n,t),h);return g.errorHandler=Gb(e),g}(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,kl).then(t=>{if(null===t)throw new Qi("no-download-url","The given file does not have any download URLs.");return t})}function _2(n,e){const t=function(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Os(n._location.bucket,t);return new jp(n.storage,i)}function y2(n,e){if(n instanceof jM){const t=n;if(null==t._bucket)throw new Qi("no-default-bucket","No default bucket found. Did you set the '"+zN+"' property when initializing the app?");const i=new jp(t,t._bucket);return null!=e?y2(i,e):i}return void 0!==e?_2(n,e):n}function n6(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof jM)return function(n,e){return new jp(n,e)}(n,e);throw W_("To use ref(service, url), the first argument must be a Storage instance.")}return y2(n,e)}function v2(n,e){const t=null==e?void 0:e[zN];return null==t?null:Os.makeFromBucketSpec(t,n)}class jM{constructor(e,t,i,a,u){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=u,this._bucket=null,this._host=$N,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?Os.makeFromBucketSpec(a,this._host):v2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Os.makeFromBucketSpec(this._url,e):v2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ne.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ne.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jp(this,e)}_makeRequest(e,t,i,a){if(this._deleted)return new J5(KN());{const u=function(n,e,t,i,a,u){const h=JN(n.urlParams),g=n.url+h,C=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(C,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(C,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(C,u),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(C,i),new rB(g,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(e,this._appId,i,a,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var i=this;return(0,Ne.Z)(function*(){const[a,u]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,a,u).getPromise()})()}}const b2="@firebase/storage";function T2(n,e){return n6(n=(0,Jt.m9)(n),e)}(0,ds._registerComponent)(new Jd.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new jM(t,i,a,e,ds.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ds.registerVersion)(b2,"0.9.0",""),(0,ds.registerVersion)(b2,"0.9.0","esm2017");class pI{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class E2{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new pI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new pI(i,this,this._ref))},t)}on(e,t,i,a){let u;return t&&(u="function"==typeof t?h=>t(new pI(h,this,this._ref)):{next:t.next?h=>t.next(new pI(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,i||void 0,a||void 0)}}class I2{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new rd(e,this._service))}get items(){return this._delegate.items.map(e=>new rd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class rd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return _2(n,e)}(this._delegate,e);return new rd(t,this.storage)}get root(){return new rd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new rd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new E2(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new f2(n,new Fc(e),t)}(n=(0,Jt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=oa.RAW,i){this._throwIfRoot("putString");const a=UM(t,e),u=Object.assign({},i);return null==u.contentType&&null!=a.contentType&&(u.contentType=a.contentType),new E2(new f2(this._delegate,new Fc(a.data,!0),u),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return g2(n,e).then(()=>e)}(n=(0,Jt.m9)(n))}(this._delegate).then(e=>new I2(e,this.storage))}list(e){return function(n,e){return m2(n=(0,Jt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new I2(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=a2(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,kl)}(n=(0,Jt.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,i){const u=id(e.fullServerUrl(),n.host,n._protocol),g=BM(t,i),A=n.maxOperationRetryTime,L=new Uc(u,"PATCH",hI(n,i),A);return L.headers={"Content-Type":"application/json; charset=utf-8"},L.body=g,L.errorHandler=Gb(e),L}(n.storage,n._location,e,Wb());return n.storage.makeRequestWithTokens(t,kl)}(n=(0,Jt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return JB(n=(0,Jt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const i=id(e.fullServerUrl(),n.host,n._protocol),g=new Uc(i,"DELETE",function(C,A){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=Gb(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,kl)}(n=(0,Jt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw YN(e)}}class A2{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(x2(e))throw W_("ref() expected a child path but got a URL, use refFromURL instead.");return new rd(T2(this._delegate,e),this)}refFromURL(e){if(!x2(e))throw W_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Os.makeFromUrl(e,this._delegate.host)}catch(t){throw W_("refFromUrl() expected a valid full URL but got an invalid one.")}return new rd(T2(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function(n,e,t,i={}){!function(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken="string"==typeof a?a:(0,Jt.Sg)(a,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function x2(n){return/^[A-Za-z]+:\/\//.test(n)}function y6(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new A2(t,i)}function D2(n){const e=function(n){return new bi.y(e=>{const t=h=>e.next(h);t(n.snapshot);const u=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){u()}}).pipe(function(n,e=o1.z){return(0,cr.e)((t,i)=>{let a=null,u=null,h=null;const g=()=>{if(a){a.unsubscribe(),a=null;const A=u;u=null,i.next(A)}};function C(){const A=h+n,L=e.now();if(L<A)return a=this.schedule(void 0,A-L),void i.add(a);g()}t.subscribe(new fi.Q(i,A=>{u=A,h=e.now(),a||(a=e.schedule(C,n),i.add(a))},()=>{g(),i.complete()},void 0,()=>{u=a=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,$t.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function gI(n){return{getDownloadURL:()=>Ft(void 0).pipe(ui.fc,Ri(()=>n.getDownloadURL()),ui.iC),getMetadata:()=>Ft(void 0).pipe(ui.fc,Ri(()=>n.getMetadata()),ui.iC),delete:()=>(0,Vn.D)(n.delete()),child:e=>gI(n.child(e)),updateMetadata:e=>(0,Vn.D)(n.updateMetadata(e)),put:(e,t)=>D2(n.put(e,t)),putString:(e,t,i)=>D2(n.putString(e,t,i)),list:e=>(0,Vn.D)(n.list(e)),listAll:()=>(0,Vn.D)(n.listAll())}}!function(n){const e={TaskState:so,TaskEvent:FB,StringFormat:oa,Storage:A2,Reference:rd};n.INTERNAL.registerComponent(new Jd.wA("storage-compat",y6,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.8")}(s0.Z);const C6=new r.OlP("angularfire2.storageBucket"),w6=new r.OlP("angularfire2.storage.maxUploadRetryTime"),T6=new r.OlP("angularfire2.storage.maxOperationRetryTime"),E6=new r.OlP("angularfire2.storage.use-emulator");let Kb=(()=>{class n{constructor(t,i,a,u,h,g,C,A,L,B){const re=(0,us.on)(t,h,i);this.storage=(0,us.cc)(`${re.name}.storage.${a}`,"AngularFireStorage",re.name,()=>{const he=h.runOutsideAngular(()=>re.storage(a||void 0)),Ce=L;return Ce&&he.useEmulator(...Ce),C&&he.setMaxUploadRetryTime(C),A&&he.setMaxOperationRetryTime(A),he},[C,A])}ref(t){return gI(this.storage.ref(t))}refFromURL(t){return gI(this.storage.refFromURL(t))}upload(t,i,a){return gI(this.storage.ref(t)).put(i,a)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(us.Dh),r.LFG(us.xv,8),r.LFG(C6,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(ui.HU),r.LFG(w6,8),r.LFG(T6,8),r.LFG(E6,8),r.LFG(Jf,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),I6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),A6=(()=>{class n{constructor(){Tl.Z.registerVersion("angularfire",ui.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Kb],imports:[I6]}),n})(),S2=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n}),n})(),$p=(()=>{class n extends S2{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const Bc=new r.OlP("NgValueAccessor"),S6={provide:Bc,useExisting:(0,r.Gpc)(()=>zp),multi:!0},M6=new r.OlP("CompositionEventMode");let zp=(()=>{class n extends S2{constructor(t,i,a){super(t,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(M6,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&r.NdJ("input",function(u){return i._handleInput(u.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(u){return i._compositionEnd(u.target.value)})},features:[r._Bn([S6]),r.qOj]}),n})();const Ps=new r.OlP("NgValidators"),Bh=new r.OlP("NgAsyncValidators");function Yb(n){return null}function B2(n){return null!=n}function V2(n){const e=(0,r.QGY)(n)?(0,Vn.D)(n):n;return(0,r.CqO)(e),e}function q2(n){let e={};return n.forEach(t=>{e=null!=t?Lt(Lt({},e),t):e}),0===Object.keys(e).length?null:e}function H2(n,e){return e.map(t=>t(n))}function j2(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function $M(n){return null!=n?function(n){if(!n)return null;const e=n.filter(B2);return 0==e.length?null:function(t){return q2(H2(t,e))}}(j2(n)):null}function zM(n){return null!=n?function(n){if(!n)return null;const e=n.filter(B2);return 0==e.length?null:function(t){return function(...n){const e=(0,Br.jO)(n),{args:t,keys:i}=$o(n),a=new bi.y(u=>{const{length:h}=t;if(!h)return void u.complete();const g=new Array(h);let C=h,A=h;for(let L=0;L<h;L++){let B=!1;(0,Ea.Xf)(t[L]).subscribe(new fi.Q(u,re=>{B||(B=!0,A--),g[L]=re},()=>C--,void 0,()=>{(!C||!B)&&(A||u.next(i?li(i,g):g),u.complete())}))}});return e?a.pipe(lu(e)):a}(H2(t,e).map(V2)).pipe((0,$t.U)(q2))}}(j2(n)):null}function W2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function WM(n){return n?Array.isArray(n)?n:[n]:[]}function mI(n,e){return Array.isArray(n)?n.includes(e):n===e}function Y2(n,e){const t=WM(e);return WM(n).forEach(a=>{mI(t,a)||t.push(a)}),t}function Q2(n,e){return WM(e).filter(t=>!mI(n,t))}class J2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$M(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class oo extends J2{get formDirective(){return null}get path(){return null}}class Vh extends J2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Qb=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,i,a;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(a=null==(i=this._cd)?void 0:i.control)?void 0:a[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Vh,2))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[r.qOj]}),n})();function Jb(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(W2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(W2(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const a=()=>n.updateValueAndValidity();bI(e._rawValidators,a),bI(e._rawAsyncValidators,a)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&eF(n,e)})}(n,e),function(n,e){const t=(i,a)=>{e.valueAccessor.writeValue(i),a&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&eF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Xb="VALID",TI="INVALID",Y_="PENDING",eC="DISABLED";function XM(n){return(tO(n)?n.validators:n)||null}function iF(n){return Array.isArray(n)?$M(n):n||null}function eO(n,e){return(tO(e)?e.asyncValidators:n)||null}function rF(n){return Array.isArray(n)?zM(n):n||null}function tO(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class nO{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=iF(this._rawValidators),this._composedAsyncValidatorFn=rF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xb}get invalid(){return this.status===TI}get pending(){return this.status==Y_}get disabled(){return this.status===eC}get enabled(){return this.status!==eC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=iF(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=rF(e)}addValidators(e){this.setValidators(Y2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Y2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Q2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Q2(e,this._rawAsyncValidators))}hasValidator(e){return mI(this._rawValidators,e)}hasAsyncValidator(e){return mI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Y_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eC,this.errors=null,this._forEachChild(i=>{i.disable(es(Lt({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(es(Lt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xb,this._forEachChild(i=>{i.enable(es(Lt({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(es(Lt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xb||this.status===Y_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?eC:Xb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Y_,this._hasOwnPendingAsyncValidator=!0;const t=V2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(a=>{i=i instanceof iO?i.controls.hasOwnProperty(a)?i.controls[a]:null:i instanceof z6&&i.at(a)||null}),i}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?eC:this.errors?TI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Y_)?Y_:this._anyControlsHaveStatus(TI)?TI:Xb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tO(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class EI extends nO{constructor(e=null,t,i){super(XM(t),eO(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class iO extends nO{constructor(e,t,i){super(XM(t),eO(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,a)=>{i.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof EI?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((a,u)=>{i=t(i,a,u)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class z6 extends nO{constructor(e,t,i){super(XM(t),eO(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((i,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,a)=>{i.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof EI?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const K6={provide:Vh,useExisting:(0,r.Gpc)(()=>Q_)},aF=(()=>Promise.resolve(null))();let Q_=(()=>{class n extends Vh{constructor(t,i,a,u){super(),this.control=new EI,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,i,a;return Array.isArray(e),e.forEach(u=>{u.constructor===zp?t=u:function(n){return Object.getPrototypeOf(n.constructor)===$p}(u)?i=u:a=u}),a||i||t||null}(0,u)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Jb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){aF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const i=t.isDisabled.currentValue,a=""===i||i&&"false"!==i;aF.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(oo,9),r.Y36(Ps,10),r.Y36(Bh,10),r.Y36(Bc,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([K6]),r.qOj,r.TTD]}),n})(),cF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();let II=(()=>{class n{constructor(){this._validator=Yb}handleChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(i):Yb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n}),n})();const yV={provide:Ps,useExisting:(0,r.Gpc)(()=>dO),multi:!0};let dO=(()=>{class n extends II{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function(n){return e=>function(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}ngOnChanges(t){this.handleChanges(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&r.uIk("maxlength",i.enabled()?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r._Bn([yV]),r.qOj,r.TTD]}),n})(),bV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[cF]]}),n})(),CV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[bV]}),n})();function wV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"a",35),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.showCreateBtn=!a.showCreateBtn}),r._uU(1," Obsidian"),r.TgZ(2,"i",36),r._uU(3,"brightness_2"),r.qZA(),r._uU(4,"Rune"),r.qZA()}}function TV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"a",35),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.showCreateBtn=!a.showCreateBtn}),r._uU(1," Obsidian"),r.TgZ(2,"i",37),r._uU(3,"brightness_2"),r.qZA(),r._uU(4,"Rune"),r.qZA()}}function EV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",38),r.TgZ(1,"li"),r.TgZ(2,"div"),r.TgZ(3,"i",39),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Home")}),r._uU(4,"home"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"li"),r.TgZ(6,"i",39),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Profile")}),r._uU(7,"account_circle"),r.qZA(),r.qZA(),r.TgZ(8,"li"),r.TgZ(9,"i",39),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Search")}),r._uU(10,"search"),r.qZA(),r.qZA(),r.TgZ(11,"li"),r.TgZ(12,"i",39),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Messages")}),r._uU(13,"email"),r.qZA(),r.qZA(),r.TgZ(14,"li"),r.TgZ(15,"i",39),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Notifications")}),r._uU(16,"chat_bubble"),r.qZA(),r.qZA(),r.TgZ(17,"li"),r.TgZ(18,"i",39),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Legacy")}),r._uU(19,"brightness_2"),r.qZA(),r.qZA(),r.TgZ(20,"li"),r.TgZ(21,"i",39),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Settings")}),r._uU(22,"settings"),r.qZA(),r.qZA(),r.qZA()}}function IV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",40),r.TgZ(1,"li"),r.TgZ(2,"i",41),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Home")}),r._uU(3,"home"),r.qZA(),r.qZA(),r.TgZ(4,"li"),r.TgZ(5,"h5",42),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).redirect("Dashboard")}),r._uU(6,"Dashboard"),r.qZA(),r.qZA(),r.TgZ(7,"li"),r.TgZ(8,"h5",43),r._uU(9,"Post"),r.qZA(),r.qZA(),r.TgZ(10,"li"),r.TgZ(11,"h5",42),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).redirect("newWriting")}),r._uU(12,"Anthology"),r.qZA(),r.qZA(),r.qZA()}}function AV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",40),r.TgZ(1,"li"),r.TgZ(2,"i",41),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Profile")}),r._uU(3,"account_circle"),r.qZA(),r.qZA(),r.TgZ(4,"li"),r.TgZ(5,"h5",43),r._uU(6,"View_Profile"),r.qZA(),r.qZA(),r.TgZ(7,"li"),r.TgZ(8,"h5",43),r._uU(9,"Edit_Profile"),r.qZA(),r.qZA(),r.TgZ(10,"li"),r.TgZ(11,"h5",43),r._uU(12,"View_Legacies"),r.qZA(),r.qZA(),r.TgZ(13,"li"),r.TgZ(14,"h5",43),r._uU(15,"View_Saved"),r.qZA(),r.qZA(),r.qZA()}}function xV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",40),r.TgZ(1,"li"),r.TgZ(2,"i",41),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Search")}),r._uU(3,"search"),r.qZA(),r.qZA(),r.TgZ(4,"li"),r._UZ(5,"input",44,45),r.qZA(),r.qZA()}}function DV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",40),r.TgZ(1,"li"),r.TgZ(2,"i",41),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Legacy")}),r._uU(3,"brightness_2"),r.qZA(),r.qZA(),r.TgZ(4,"li"),r.TgZ(5,"h5",43),r._uU(6,"New_Legacy"),r.qZA(),r.qZA(),r.TgZ(7,"li"),r.TgZ(8,"h5",43),r._uU(9,"View_Legacies"),r.qZA(),r.qZA(),r.TgZ(10,"li"),r.TgZ(11,"h5",43),r._uU(12,"Saved_Legacies"),r.qZA(),r.qZA(),r.qZA()}}function SV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",40),r.TgZ(1,"li"),r.TgZ(2,"i",41),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Messages")}),r._uU(3,"email"),r.qZA(),r.qZA(),r.TgZ(4,"li"),r.TgZ(5,"h5",43),r._uU(6,"New"),r.qZA(),r.qZA(),r.TgZ(7,"li"),r.TgZ(8,"h5",42),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.viewNewMessageList=!a.viewNewMessageList}),r._uU(9,"View "),r.qZA(),r.qZA(),r.qZA()}}function kV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",40),r.TgZ(1,"li"),r.TgZ(2,"i",41),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Notifications")}),r._uU(3,"chat_bubble"),r.qZA(),r.qZA(),r.TgZ(4,"li"),r.TgZ(5,"h5",43),r._uU(6,"New_Notifcations"),r.qZA(),r.qZA(),r.TgZ(7,"li"),r.TgZ(8,"h5",43),r._uU(9,"All_Notifcations"),r.qZA(),r.qZA(),r.TgZ(10,"li"),r.TgZ(11,"h5",43),r._uU(12,"Friend_Requests"),r.qZA(),r.qZA(),r.qZA()}}function MV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",40),r.TgZ(1,"li"),r.TgZ(2,"i",41),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).toggleMenu("Settings")}),r._uU(3,"settings"),r.qZA(),r.qZA(),r.TgZ(4,"li"),r.TgZ(5,"h5",43),r._uU(6,"Main_Settings"),r.qZA(),r.qZA(),r.TgZ(7,"li"),r.TgZ(8,"h5",43),r._uU(9,"Profile_Settings"),r.qZA(),r.qZA(),r.TgZ(10,"li"),r.TgZ(11,"h5",43),r._uU(12,"Privacy_Settings"),r.qZA(),r.qZA(),r.TgZ(13,"li"),r.TgZ(14,"h5",42),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).logout()}),r._uU(15,"Log_Out"),r.qZA(),r.qZA(),r.qZA()}}function OV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",49),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(3).menuAction(u.action)}),r.TgZ(2,"div",50),r.TgZ(3,"span",51),r.TgZ(4,"i",52),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"div",17),r._UZ(10,"hr",53),r.qZA(),r.TgZ(11,"p",54),r.TgZ(12,"i"),r._uU(13),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(5),r.Oqu(t.desc)}}function PV(n,e){if(1&n&&(r.TgZ(0,"div",46),r.TgZ(1,"div",47),r.YNc(2,OV,14,3,"div",48),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(2),r.Q6J("ngForOf",t.serviceCards)}}function RV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",56),r.TgZ(1,"div",57),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(3);return a.serviceMenu=!a.serviceMenu}),r._uU(2," New "),r.TgZ(3,"i",58),r._uU(4,"send"),r.qZA(),r.qZA(),r.qZA()}}function LV(n,e){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,RV,5,0,"div",55),r.qZA()),2&n){const t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!t.serviceMenu)}}function NV(n,e){if(1&n&&(r.TgZ(0,"div",31),r._UZ(1,"img",81),r.qZA()),2&n){const t=e.$implicit,i=e.index;r.xp6(1),r.Gre("postModalCollageImg",i," z-depth-5"),r.s9C("src",t,r.LSH)}}function FV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",84),r.TgZ(1,"img",85),r.NdJ("click",function(){const u=r.CHM(t).index;return r.oxw(4).removePreImg(u)}),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit,i=e.index;r.xp6(1),r.s9C("src",t,r.LSH),r.MGl("alt","Img",i,"")}}function UV(n,e){if(1&n&&(r.TgZ(0,"div",82),r.YNc(1,FV,2,2,"div",83),r.qZA()),2&n){const t=r.oxw(3);r.xp6(1),r.Q6J("ngForOf",t.prePostImgs)}}function ZV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",59),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).closePostModal()}),r.TgZ(1,"div",60),r.TgZ(2,"div",61),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).preSelection=!0}),r.TgZ(3,"div",31),r.TgZ(4,"h3",62),r._uU(5,"New Post"),r.qZA(),r.qZA(),r.TgZ(6,"div",30),r.TgZ(7,"div",63),r.TgZ(8,"input",64),r.NdJ("ngModelChange",function(a){return r.CHM(t),r.oxw(2).newTitle=a}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",65),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).preSelection=!0}),r._UZ(10,"img",66),r.TgZ(11,"div",31),r.TgZ(12,"div",67),r.TgZ(13,"textarea",68),r.NdJ("ngModelChange",function(a){return r.CHM(t),r.oxw(2).newText=a}),r.qZA(),r.qZA(),r.qZA(),r.YNc(14,NV,2,4,"div",69),r.qZA(),r.TgZ(15,"div",70),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).preSelection=!0}),r.TgZ(16,"div",30),r.TgZ(17,"div",17),r.TgZ(18,"div",71),r._UZ(19,"div",30),r.qZA(),r.TgZ(20,"div",71),r.TgZ(21,"div",72),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).savePostNew()}),r.TgZ(22,"b"),r._uU(23,"Submit"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"div",71),r.TgZ(25,"div",73),r.TgZ(26,"label",74),r.TgZ(27,"i",75),r._uU(28,"image"),r.qZA(),r.qZA(),r.TgZ(29,"input",76),r.NdJ("change",function(a){return r.CHM(t),r.oxw(2).getImageData(a)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"div",71),r.TgZ(31,"div",77),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).closePostModal()}),r.TgZ(32,"b"),r._uU(33,"Cancel"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(34,"div",30),r._UZ(35,"br"),r.TgZ(36,"div",78),r.TgZ(37,"div",17),r.TgZ(38,"div",79),r.YNc(39,UV,2,1,"div",80),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw(2);r.xp6(8),r.Q6J("ngModel",t.newTitle),r.xp6(2),r.s9C("src",t.modalPostImage,r.LSH),r.xp6(3),r.Q6J("ngModel",t.newText),r.xp6(1),r.Q6J("ngForOf",t.modalPostImages),r.xp6(25),r.Q6J("ngIf",t.prePostImgs.length>0)}}function BV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",89),r.TgZ(1,"div",90),r.TgZ(2,"div",91),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(3).selectMessage(u.id)}),r._UZ(3,"img",92),r.TgZ(4,"div",93),r.TgZ(5,"h5",94),r.TgZ(6,"b"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"h6",95),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(3),r.s9C("src",t.profileImg,r.LSH),r.xp6(4),r.Oqu(t.username),r.xp6(2),r.Oqu(t.message)}}function VV(n,e){if(1&n&&(r.TgZ(0,"div",86),r.TgZ(1,"h4",87),r.TgZ(2,"i"),r.TgZ(3,"u"),r.TgZ(4,"b"),r._uU(5,"Messages"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(6,BV,10,3,"div",88),r.qZA()),2&n){const t=r.oxw(2);r.xp6(6),r.Q6J("ngForOf",t.newMessageList)}}function qV(n,e){if(1&n&&(r.TgZ(0,"div",103),r.TgZ(1,"div",104),r.TgZ(2,"h6",105),r._uU(3),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(),i=t.$implicit,a=t.index;r.xp6(3),r.AsE("",i.message," + ",a,"")}}function HV(n,e){if(1&n&&(r.TgZ(0,"div",89),r.TgZ(1,"div",90),r.YNc(2,qV,4,2,"div",102),r.qZA(),r.qZA()),2&n){const t=e.$implicit,i=r.oxw(3);r.xp6(2),r.Q6J("ngIf",t.fromUserKey==i.curentUserID)}}function jV(n,e){if(1&n&&(r.TgZ(0,"div",96),r._UZ(1,"br"),r.TgZ(2,"div",97),r.TgZ(3,"div",30),r.TgZ(4,"div",98),r._UZ(5,"img",99),r.qZA(),r.TgZ(6,"div",100),r.TgZ(7,"h4",101),r.TgZ(8,"b"),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(10,HV,3,1,"div",88),r.qZA()),2&n){const t=r.oxw(2);r.xp6(5),r.s9C("src",t.activeChatUserPhoto,r.LSH),r.xp6(4),r.Oqu(t.activeChatUser),r.xp6(1),r.Q6J("ngForOf",t.chatList)}}function $V(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"div",2),r.TgZ(2,"nav",3),r.TgZ(3,"div",4),r.TgZ(4,"div",5),r.YNc(5,wV,5,0,"a",6),r.YNc(6,TV,5,0,"a",6),r.qZA(),r.TgZ(7,"div",7),r.TgZ(8,"a",8),r._uU(9," Obsidian"),r.TgZ(10,"i",9),r._uU(11,"brightness_2"),r.qZA(),r._uU(12,"Rune"),r.qZA(),r.qZA(),r.TgZ(13,"a",10),r.TgZ(14,"i",11),r._uU(15,"menu"),r.qZA(),r.qZA(),r.TgZ(16,"ul",12),r.YNc(17,EV,23,0,"div",13),r.YNc(18,IV,13,0,"div",14),r.YNc(19,AV,16,0,"div",14),r.YNc(20,xV,7,0,"div",14),r.YNc(21,DV,13,0,"div",14),r.YNc(22,SV,10,0,"div",14),r.YNc(23,kV,13,0,"div",14),r.YNc(24,MV,16,0,"div",14),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"ul",15),r._UZ(26,"br"),r.TgZ(27,"li"),r._UZ(28,"img",16),r.qZA(),r.TgZ(29,"li"),r.TgZ(30,"div",17),r._UZ(31,"hr"),r.qZA(),r.qZA(),r.TgZ(32,"li"),r.TgZ(33,"div",18),r.TgZ(34,"h4"),r.TgZ(35,"div",19),r.NdJ("click",function(){return r.CHM(t),r.oxw().redirectPage("home")}),r._uU(36,"Home"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"li"),r.TgZ(38,"div",17),r._UZ(39,"hr"),r.qZA(),r.qZA(),r.TgZ(40,"li"),r.TgZ(41,"div",20),r.TgZ(42,"h4"),r.TgZ(43,"a",21),r._uU(44,"Messages"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(45,"li"),r.TgZ(46,"div",17),r._UZ(47,"hr"),r.qZA(),r.qZA(),r.TgZ(48,"li"),r.TgZ(49,"div",22),r.TgZ(50,"h4"),r.TgZ(51,"a",21),r._uU(52,"Profile"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(53,"li"),r.TgZ(54,"div",17),r._UZ(55,"hr"),r.qZA(),r.qZA(),r.TgZ(56,"li"),r.TgZ(57,"div",23),r.TgZ(58,"h4"),r.TgZ(59,"a",24),r._uU(60,"Notifications"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(61,"li"),r.TgZ(62,"div",17),r._UZ(63,"hr"),r.qZA(),r.qZA(),r.TgZ(64,"li",25),r.TgZ(65,"h4",26),r.TgZ(66,"a",27),r._uU(67,"Sign Out"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(68,"li"),r.TgZ(69,"a",21),r._uU(70,"X"),r.qZA(),r.qZA(),r._UZ(71,"br"),r.qZA(),r.YNc(72,PV,3,1,"div",28),r.YNc(73,LV,2,1,"div",29),r.TgZ(74,"div",30),r.TgZ(75,"div",17),r.TgZ(76,"div",31),r.YNc(77,ZV,40,5,"div",32),r.qZA(),r.qZA(),r.qZA(),r.YNc(78,VV,7,1,"div",33),r.YNc(79,jV,11,3,"div",34),r.qZA()}if(2&n){const t=r.oxw();r.xp6(5),r.Q6J("ngIf",t.showCreateBtn),r.xp6(1),r.Q6J("ngIf",!t.showCreateBtn),r.xp6(11),r.Q6J("ngIf",t.mainMenu),r.xp6(1),r.Q6J("ngIf",t.activeMenu),r.xp6(1),r.Q6J("ngIf",t.profileMenu),r.xp6(1),r.Q6J("ngIf",t.searchMenu),r.xp6(1),r.Q6J("ngIf",t.legacyMenu),r.xp6(1),r.Q6J("ngIf",t.messageMenu),r.xp6(1),r.Q6J("ngIf",t.notificationMenu),r.xp6(1),r.Q6J("ngIf",t.settingsMenu),r.xp6(4),r.s9C("src",t.profileImg,r.LSH),r.xp6(44),r.Q6J("ngIf",t.serviceMenu),r.xp6(1),r.Q6J("ngIf",t.showCreateBtn),r.xp6(4),r.Q6J("ngIf",t.displayPostModal),r.xp6(1),r.Q6J("ngIf",t.viewNewMessageList),r.xp6(1),r.Q6J("ngIf",t.viewChatList)}}let nC=(()=>{class n{constructor(t,i,a,u,h,g){this.firebaseService=t,this.router=i,this.AuthService=a,this.firebaseAuth=u,this.firebase=h,this.af=g,this.inp=document.querySelector(".inp"),this.progressBar=document.querySelector(".progress"),this.img=document.querySelector(".img"),this.body=document.querySelector("body"),this.loading=document.querySelector(".loading"),this.metaData=document.querySelector(".metaData"),this.currentUser="",this.curentUserID="",this.profileImg="",this.showCreateBtn=!0,this.Auth=!1,this.displayPostModal=!1,this.newTitle="",this.newText="",this.timeSaved="",this.timeStamp=new Date,this.tempID="",this.newPostImg="",this.displayImage=!1,this.preSelection=!1,this.displayModal=!1,this.displayImgModal=!1,this.modalPostUser="",this.modalPostUserProfileImg="",this.modalPostImage="",this.modalPostImages=[],this.modalPostDate="",this.mainMenu=!0,this.activeMenu=!1,this.profileMenu=!1,this.searchMenu=!1,this.legacyMenu=!1,this.messageMenu=!1,this.notificationMenu=!1,this.settingsMenu=!1,this.serviceMenu=!1,this.serviceCards=[{title:"Standard Post",desc:"Title and some text. Quick and to the point.",icon:"create",action:"POST"},{title:"Anthology",desc:"Write to your hearts content",icon:"book",action:"WRITE"},{title:"Image Collection",desc:"Great for storyboards or collages",icon:"image",action:"IMAGE"},{title:"Cancel",desc:"Close Post Menu",icon:"cancel",action:"CLOSE"}],this.newMessageList=[{id:"",message:"",messageID:"",timestamp:"",toUserKey:"",username:"",profileImg:""}],this.chatList=[{id:"",message:"",fromUserKey:"",timestamp:"",toUserKey:"",username:"",profileImg:""}],this.prePostImgs=[],this.viewNewMessageList=!1,this.viewChatList=!1,this.activeChatUser="",this.activeChatUserPhoto="",this.newChatMessage="",this.newMessageTxt="",this.firebaseAuth.authState.subscribe(A=>{A?(this.userData=A,localStorage.setItem("userData",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("userData"))):(console.log("Network Error"),localStorage.setItem("userData","null"),JSON.parse(localStorage.removeItem("userData")))})}ngOnInit(){const t=JSON.parse(localStorage.getItem("userData"));this.curentUserID=t.uid,this.profileImg=t.photoURL,this.checkAuth();var a=(new Date).toLocaleString();this.tempID=this.AuthService.generateID(),this.timeSaved=a,this.loadChatMessages("0Zqug3cne4PxbbXeaEbIrsBNwlA2")}cleanList(){this.newMessageList.splice(0,1),this.newMessageList=[],this.loadNewMessages()}removePreImg(t){alert("Removing Image: "+t),this.prePostImgs.splice(t,1)}loadNewMessages(){var t=this;return(0,Ne.Z)(function*(){t.newMessageList.splice(0,1),yield t.AuthService.getUserNewMessages(t.curentUserID).subscribe(i=>{t.newMessageList=[],i.map(a=>{const u=a.payload.doc.data();let h;t.getUserInfo(a.payload.doc.id).then(g=>{var C=JSON.stringify(g),A=JSON.parse(C);h=A.displayName,t.newMessageList.push({id:a.payload.doc.id,fromUserKey:u.fromUserKey,message:u.message,messageID:u.messageID,timestamp:u.timestamp,toUserKey:u.toUserKey,username:h,profileImg:A.photoURL})})})})})()}loadChatMessages(t){var i=this;return(0,Ne.Z)(function*(){i.chatList.splice(0,1),yield i.AuthService.getUserChatMessages(i.curentUserID,t).subscribe(a=>{i.chatList=[],a.map(u=>{const h=JSON.stringify(u.payload.doc.data()),g=JSON.parse(h);var C;i.getUserInfo(g.fromUserKey).then(L=>{var B=JSON.stringify(L),re=JSON.parse(B);i.activeChatUser=C=re.displayName;var he=re.photoURL;i.activeChatUserPhoto=he;i.chatList.push({id:u.payload.doc.id,fromUserKey:g.fromUserKey,message:g.message,messageID:g.messageID,timestamp:g.timestamp,toUserKey:g.toUserKey,username:C,profileImg:he})})})})})()}redirectPage(t){"home"===t&&this.router.navigate(["/"])}getUserInfo(t){var i=this;return(0,Ne.Z)(function*(){var a;return yield i.AuthService.getUserInfo(t).then(u=>{u.data(),a=u.data()}),a})()}getUsername(t){var i=this;return(0,Ne.Z)(function*(){var a;return yield i.AuthService.getUserInfo(t).then(u=>{a=u.data().displayName}),a})()}reduceMessage(t){var i=String(t);if(t.length>50){var h=String(i.substring(0,50)).concat("...");return String(h)}return String(t)}selectMessage(t){var i=this;return(0,Ne.Z)(function*(){alert(t),yield i.loadChatMessages(t)})()}loadUserInfo(){var t=this;return(0,Ne.Z)(function*(){t.AuthService.getUserInfo(t.curentUserID).then(i=>{const a=i.data();t.modalPostUser=a.displayName,t.modalPostUserProfileImg=a.photoURL,alert("HERE")})})()}savePost(){const t={title:this.newTitle,text:this.newText,userkey:this.userData.uid,date:this.timeSaved,type:this.getCount(this.newText)<1e3?"standard":"Writing",timestamp:this.timeStamp,NumComments:"0",NumLikess:"0",hashtags:[],postImg:this.newPostImg,postImgs:null,post_id:this.tempID,username:this.userData.displayName};this.AuthService.newPost(t,this.tempID).then(()=>{M.toast({html:"Posted to Obsidian"}),this.displayPostModal=!1,location.reload()})}savePostNew(){if(1==this.prePostImgs.length)this.AuthService.newPost({title:this.newTitle,text:this.newText,userkey:this.userData.uid,date:this.timeSaved,type:this.prePostImgs.length<=1?"standard":"Manga",timestamp:this.timeStamp,NumComments:"0",NumLikess:"0",hashtags:[],postImg:this.prePostImgs[0],postImgs:null,post_id:this.tempID,username:this.userData.displayName},this.tempID).then(()=>{M.toast({html:"Posted to Obsidian"}),this.displayPostModal=!1,location.reload()});else if(this.prePostImgs.length>1)this.AuthService.newPost({title:this.newTitle,text:this.newText,userkey:this.userData.uid,date:this.timeSaved,type:"Manga",timestamp:this.timeStamp,NumComments:"0",NumLikess:"0",hashtags:[],postImg:"",postImgs:this.prePostImgs,post_id:this.tempID,username:this.userData.displayName},this.tempID).then(()=>{M.toast({html:"Posted to Obsidian"}),this.displayPostModal=!1,location.reload()});else{const t={title:this.newTitle,text:this.newText,userkey:this.userData.uid,date:this.timeSaved,type:this.getCount(this.newText)<1e3?"standard":"Writing",timestamp:this.timeStamp,NumComments:"0",NumLikess:"0",hashtags:[],postImg:"",postImgs:null,post_id:this.tempID,username:this.userData.displayName};this.AuthService.newPost(t,this.tempID).then(()=>{M.toast({html:"Posted to Obsidian"}),this.displayPostModal=!1,location.reload()})}}validate(){return null==this.newTitle||""==this.newTitle?(alert("Must fill in Title"),!1):null!=this.newText&&""!=this.newText||(alert("You have to write something before you post... "),!1)}saveProgress(){this.validate()&&(""==this.tempID?(this.tempID=this.AuthService.generateID(),this.AuthService.saveWritingProgress({title:this.newTitle,text:this.newText,userkey:this.userData.uid,date:this.timeSaved},this.userData.uid,this.tempID)):(this.AuthService.saveWritingProgress({title:this.newTitle,text:this.newText,userkey:this.userData.uid,date:this.timeSaved},this.userData.uid,this.tempID),M.toast({html:"Progress Saved"})))}getImageData(t){console.log("GID called"),this.files=t.target.files;for(let a=0;a<this.files.length;a++)this.uploadImageTest(t.target.files[a])}uploadImageTest(t){var i=this;return(0,Ne.Z)(function*(){console.log("Image File caught : "+t);var u=i.af.storage.ref("TestMultiImage/"+t.name).put(t),h=[""],C=i;u.on("stage_changed",function(L){console.log("uploading file to Firebase : "+L.bytesTransferred/L.totalBytes*100+"%")},function(L){console.log("Error uploading : "+L)},function(){u.snapshot.ref.getDownloadURL().then(L=>{console.log("Obtained Img Download URL : "+L),h.push(L),C.prePostImgs.push(L)})})})()}test(){alert(this.prePostImgs.length),console.log(this.prePostImgs)}uploadFile(t){var i=this;return(0,Ne.Z)(function*(){console.log("UploadFile Called. . ."),console.log("Attempting upload to firebase ");var a="TESTCollage/"+t,u=i.af.upload(a,t),h=i.af.ref(a);u.percentageChanges(),u.snapshotChanges().pipe(dr(()=>{h.getDownloadURL().subscribe(A=>{console.log("URL Obtained "+A)})})).subscribe()})()}getCount(t){return(t=(t=(t=t.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")).split(" ").length}redirect(t){switch(t){case"Dashboard":case"Profile":this.router.navigate([""]);break;case"newWriting":this.router.navigate(["newWriting"])}}menuAction(t){switch(t){case"POST":this.displayPostModal=!0,this.serviceMenu=!1;break;case"WRITE":this.serviceMenu=!1,this.redirect("newWriting");break;default:break;case"CLOSE":this.serviceMenu=!1}}closePostModal(){this.preSelection?this.preSelection=!1:(this.displayPostModal=!1,this.displayModal=!1,this.prePostImgs=[])}logout(){var t=this;return(0,Ne.Z)(function*(){t.firebaseService.signOut(),location.reload()})()}checkAuth(){var t=this;return(0,Ne.Z)(function*(){null!=t.firebaseService.createUser&&(t.Auth=!0)})()}toggleMenu(t){var i=this;return(0,Ne.Z)(function*(){switch(t){case"Home":i.mainMenu=!i.mainMenu,i.activeMenu=!i.activeMenu;break;case"Search":i.mainMenu=!i.mainMenu,i.searchMenu=!i.searchMenu;break;case"Profile":i.mainMenu=!i.mainMenu,i.profileMenu=!i.profileMenu;break;case"Notifications":i.mainMenu=!i.mainMenu,i.notificationMenu=!i.notificationMenu;break;case"Legacy":i.mainMenu=!i.mainMenu,i.legacyMenu=!i.legacyMenu;break;case"Messages":i.mainMenu=!i.mainMenu,i.messageMenu=!i.messageMenu;break;case"Settings":i.mainMenu=!i.mainMenu,i.settingsMenu=!i.settingsMenu}})()}displayMessages(){this.viewNewMessageList=!this.viewNewMessageList}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Pu),r.Y36(mi),r.Y36(nd),r.Y36(ra),r.Y36(jb),r.Y36(Kb))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-navbar"]],decls:1,vars:1,consts:[["id","Nav","ref","TOPNAV",4,"ngIf"],["id","Nav","ref","TOPNAV"],[1,"navbar-fixed"],[1,"black","nav-extended","w3-animate-bottom",2,"position","fixed","top","0%"],[1,"nav-wrapper"],["to","/",1,"hide-on-med-and-down"],["href","#!","class","brand-logo left","id","title",3,"click",4,"ngIf"],["to","/",1,"hide-on-large-only"],["href","#!","id","MobileTitle",1,"brand-logo","center"],[1,"material-icons","right",2,"rotation","180deg"],["href","#","v-on:click","sidebar","data-target","mobile-demo",1,"sidenav-trigger"],[1,"material-icons","white-text"],[1,"right","hide-on-med-and-down",2,"padding-right","05%"],["class","startMenu",4,"ngIf"],["class","activeMenu",4,"ngIf"],["id","mobile-demo",1,"sidenav","center",2,"background-color","#000000"],[2,"width","25%","border-radius","50%",3,"src"],[1,"container"],[1,"white-text","center"],[1,"sidenav-close","white-text",3,"click"],["to","/Messages",1,"white-text","center"],["v-on:click","sidebar","href","#",1,"sidenav-close","white-text"],["to","/profile",1,"white-text"],["to","",1,"white-text"],["v-on:click","GetRuiNotes","href","#",1,"sidenav-close","white-text"],["v-if","SignedIn"],["v-on:click","signout",1,"red-text",2,"border","none","background-color","#000000"],["href","#",2,"color","red"],["class","serviceMenu",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"center"],["id","modal",3,"click",4,"ngIf"],["class","messageList",4,"ngIf"],["class","chatList",4,"ngIf"],["href","#!","id","title",1,"brand-logo","left",3,"click"],[1,"material-icons","right","white-text",2,"rotation","180deg"],[1,"material-icons","right","orange-text",2,"rotation","180deg"],[1,"startMenu"],["id","startMenuBtn",1,"large","material-icons",3,"click"],[1,"activeMenu"],["id","activeMenuIcon",1,"material-icons",3,"click"],[1,"activeMenuBtn",3,"click"],[1,"activeMenuBtn"],["id","searchTxt","placeholder","Search Obsidian. . .","type","text",1,"validate","white-text"],["searchTxt",""],[1,"serviceMenu"],["id","serviceList"],[4,"ngFor","ngForOf"],["id","serviceMenuBtn",1,"card",3,"click"],[1,"card-content","white-text"],[1,"card-title"],[1,"material-icons","small"],[1,"solid"],[2,"font-size","small"],["class","serviceCard ",4,"ngIf"],[1,"serviceCard"],["id","serviceBtn",1,"btn","btn-large","pulse",3,"click"],[1,"material-icons","large","right"],["id","modal",3,"click"],[1,"col","m8","l8","s12","offset-l2","offset-m2"],["id","modal1",3,"click"],["id","newPostHeader"],[1,"col","s12","m10","offset-m1"],["id","title","placeholder","Title. . .","type","text",1,"validate",3,"ngModel","ngModelChange"],[1,"modal-content",3,"click"],["id","postedImg","alt","",3,"src"],[1,"input-field","col","s12"],["placeholder","What do you have to say. . ?","id","writtenPassage",1,"materialize-textarea",3,"ngModel","ngModelChange"],["class","center",4,"ngFor","ngForOf"],[1,"modal-footer",3,"click"],[1,"col","s3"],[1,"btn","btn-large","blue","darken-4",3,"click"],[1,"btn","btn-large","blue","darken-4"],["for","fileUpload",2,"cursor","pointer"],[1,"material-icons"],["type","file","id","fileUpload","multiple","",1,"inp",3,"change"],[1,"btn","btn-large","red","darken-4",3,"click"],[1,"col","s12"],[1,"box2"],["class","array",4,"ngIf"],[3,"src"],[1,"array"],["class","card","id","preImgCard",4,"ngFor","ngForOf"],["id","preImgCard",1,"card"],["id","PreImg",3,"src","alt","click"],[1,"messageList"],[1,"white-text"],["id","testCardAevum","class","card",4,"ngFor","ngForOf"],["id","testCardAevum",1,"card"],[1,"space"],["id","aevumItem",1,"card",3,"click"],["id","legacyImg",1,"",3,"src"],[1,"messageContext"],[1,"messageTitle"],[1,"messageTxt"],[1,"chatList"],[2,"width","35%","background-color","#000000","position","fixed","top","7%","z-index","10"],[1,"col","s4"],["id","chatImg",1,"",3,"src"],[1,"col","s8"],[1,"orange-text","text-darken-3",2,"position","fixed","top","7%","left","5%","z-index","5","padding-left","1%"],["class","card","id","chatCardU",4,"ngIf"],["id","chatCardU",1,"card"],[1,"fromMessageContext"],[1,"UserMessageTxt"]],template:function(t,i){1&t&&r.YNc(0,$V,80,16,"div",0),2&t&&r.Q6J("ngIf",i.Auth)},directives:[lr,ns,zp,Qb,Q_],styles:['@import"https://fonts.googleapis.com/css?family=Allura|Dancing+Script|Parisienne&display=swap";#dropdown1[_ngcontent-%COMP%]{position:absolute;z-index:21}#friendPhoto[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:15px}#friendMenu[_ngcontent-%COMP%]{z-index:10;position:absolute;top:0%;right:0%}.leftSideMenu[_ngcontent-%COMP%]{position:fixed;bottom:10%;left:1%;height:60%;min-width:20%;background-color:#0f0f12;border:solid white 2px;border-radius:10px;z-index:2}#FriendsBtn[_ngcontent-%COMP%]{transition-delay:.5s}#FriendsBtn[_ngcontent-%COMP%]:hover{border:solid white 1px;cursor:pointer}#searchFriend[_ngcontent-%COMP%]{border:solid white 1px;background-color:#8080801f;border-radius:50px;padding-top:3%;padding-bottom:3%;color:#fff}.FriendsBox[_ngcontent-%COMP%]{position:fixed;left:.1%;z-index:9;background-color:#000000b3;padding:3%;max-width:24%;height:100%;top:8%}#wrap[_ngcontent-%COMP%]{border-radius:10px;padding:0%;width:230px;height:125px;max-height:150px;background:rgba(0,0,0,0);position:absolute;left:5%;z-index:9}#wrap[_ngcontent-%COMP%]:hover{border:solid rgb(235,198,35) 2px;cursor:pointer}#fTitle[_ngcontent-%COMP%]{color:#fff;font-family:"Times New Roman",Times,serif}#friendName[_ngcontent-%COMP%]{object-fit:cover;position:absolute;bottom:0%;right:5%;font-size:30px;color:#fff;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}#fnText[_ngcontent-%COMP%]{color:#fff;font-family:serif}#friendBtn[_ngcontent-%COMP%]{background-color:#c95328}#friendBtn[_ngcontent-%COMP%]:hover{background-color:coral;cursor:pointer}#friendBtn2[_ngcontent-%COMP%]{background-color:#880202}#friendBtn2[_ngcontent-%COMP%]:hover{background-color:#f50d0d;cursor:pointer}#openChatList[_ngcontent-%COMP%]{position:fixed;left:1%;bottom:15%;width:20%;z-index:5}#mesUploadBtn[_ngcontent-%COMP%]{position:fixed;bottom:3%;right:22%;z-index:14}#chatOptions[_ngcontent-%COMP%]{position:fixed;bottom:7%;right:1.5%;z-index:12}#postBtn[_ngcontent-%COMP%]{background-color:#0062d1}#noteTitle[_ngcontent-%COMP%]{color:#94a1d8}#noteBanner[_ngcontent-%COMP%]{color:#eba63e;font-family:"Times New Roman",Times,serif}.NewEntry[_ngcontent-%COMP%]{position:fixed;bottom:1%;right:1%;z-index:10;background:rgba(0,0,0,.75);border-radius:20%;padding:2%;width:35%}#userName[_ngcontent-%COMP%]{font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}h4[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif}#tab[_ngcontent-%COMP%]{font-family:"Allura",cursive}#title[_ngcontent-%COMP%]{background-color:#0000001f;font-family:"Allura",cursive;padding-top:1px;font-size:275%;padding-left:2%;color:#8a6217}#newPostHeader[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif;font-size:300%;color:#c2934a}#MobileTitle[_ngcontent-%COMP%]{font-family:"Allura",cursive;padding-top:0;font-size:205%}.collection[_ngcontent-%COMP%]{border:none}.RuiBox[_ngcontent-%COMP%]{position:fixed;left:.1%;z-index:9;background-color:#000000b3;padding:3%;max-width:23%;height:100%;top:8%}.RuiBox2[_ngcontent-%COMP%]{position:fixed;left:.1%;z-index:9;background-color:#000000e6;padding:3% 3% 5%;max-width:100%;height:62%;top:6%;border:solid #C2934A 1px;border-radius:25px;overflow:auto}#messageMenu[_ngcontent-%COMP%]{position:fixed;z-index:12;top:10%;left:0%;width:22%;background-color:#000}#msgDeleteBtn[_ngcontent-%COMP%]{color:#b22222;font-size:100%}#msgDeleteBtn[_ngcontent-%COMP%]:hover{color:red;cursor:pointer;font-size:150%}.hold[_ngcontent-%COMP%]{position:fixed;left:.1%;z-index:9;background-color:#0009;padding-top:5.9%;max-width:40%;width:22.5%;height:100%;top:8%;overflow:scroll;padding-bottom:15%}.MessageBox[_ngcontent-%COMP%]{position:fixed;left:.1%;z-index:10;background-color:#0000004d;padding-top:5.9%;max-width:38%;width:22%;height:95%;top:8%;overflow:scroll;padding-bottom:0%;-ms-overflow-style:none}#MessageListTitle[_ngcontent-%COMP%]{color:#fff;font-family:serif}#messageCard[_ngcontent-%COMP%]{background-color:#0000001a;border:solid #272C3C 2px;border-radius:25px;transition:width 2s;padding:1%}#messageCard[_ngcontent-%COMP%]:hover{background-color:#000c;border:solid rgb(46,95,255) 2px;border-radius:20px;cursor:pointer}#messageProfileImg[_ngcontent-%COMP%]{width:15%;position:absolute;left:5%;top:15%}#messageUsername[_ngcontent-%COMP%]{color:#c1934b;font-family:"Times New Roman",Times,serif;font-size:150%;position:relative;left:0%;top:0%;z-index:10}#messageTxt[_ngcontent-%COMP%]{color:#fff;font-family:"Times New Roman",Times,serif;font-size:125%;position:relative;z-index:10;left:20%;max-width:80%;max-height:30px;padding-bottom:2%}#MsgBtn[_ngcontent-%COMP%]:hover{cursor:pointer}#convoTop[_ngcontent-%COMP%]{position:fixed;top:10%;padding-left:1%;text-align:center;z-index:11;background:rgba(0,0,0,.75);padding-right:25%}#convoWith[_ngcontent-%COMP%]{color:#cea907;font-family:"Times New Roman",Times,serif;font-size:200%}#convoWith[_ngcontent-%COMP%]:hover{color:#9e4e03;font-family:"Times New Roman",Times,serif;font-size:200%;cursor:pointer}#chatDisplay[_ngcontent-%COMP%]{background-color:#000000f2;position:fixed;z-index:10;right:0;top:12%;height:100%;width:22%}#chatCloseBtn[_ngcontent-%COMP%]{color:red;position:absolute;left:50%;top:40%;font-size:200%;z-index:14}#chatCloseBtn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}#chatBox[_ngcontent-%COMP%]{position:relative;max-height:70%;height:68%;overflow:scroll}#messageBubble[_ngcontent-%COMP%]{background-color:#714e23;max-width:70%;width:-moz-fit-content;width:fit-content;min-width:20%;border-radius:15px;padding:.2% 1%}#myProfileImg[_ngcontent-%COMP%]{position:absolute;right:2%}#otherProfileImg[_ngcontent-%COMP%]{position:absolute;left:2%}#messageBubble2[_ngcontent-%COMP%]{background-color:#3b3b3ba2;max-width:70%;width:-moz-fit-content;width:fit-content;min-width:23%;position:relative;left:20%;border-radius:15px;padding-top:.2%;padding-bottom:.2%}#messageBubbleTxt[_ngcontent-%COMP%]{padding-bottom:0%}#newMessage[_ngcontent-%COMP%]{position:fixed;right:.5%;bottom:0%;z-index:11;border-radius:5px;color:#fff;background-color:#34334180;width:21.4%;max-height:250px;overflow:scroll}#newMessageSearch[_ngcontent-%COMP%]{position:fixed;top:10%;right:0%;z-index:15;background-color:#000000bf;height:100%;width:20%}#searchIcon[_ngcontent-%COMP%]{position:absolute;right:5%;top:20%}#userSearch[_ngcontent-%COMP%]{background-color:#a0a0a033;border-radius:50px}#searchUser[_ngcontent-%COMP%]{font-family:"Lucida Sans","Lucida Sans Regular","Lucida Grande","Lucida Sans Unicode",Geneva,Verdana,sans-serif;padding-left:1%}#newMessageArea[_ngcontent-%COMP%]{position:relative;left:0%;width:40%;max-width:80%}#sendMessageBtn[_ngcontent-%COMP%]{position:fixed;bottom:4%;right:1%;z-index:13;color:#c7893d}#sendMessageBtn[_ngcontent-%COMP%]:hover{position:fixed;bottom:3.4%;right:1%;color:#fff;cursor:pointer}#rTitle[_ngcontent-%COMP%]{color:#ca903a;font-family:"Times New Roman",Times,serif}#rnTitle[_ngcontent-%COMP%]{color:#90a1dd;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}#rnText[_ngcontent-%COMP%]{color:#fff;font-family:serif}#closeBtn[_ngcontent-%COMP%]{background-color:#0000;border:none;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}#startMenu[_ngcontent-%COMP%]{width:100%;height:50px;position:relative;animation:slide .5s;animation-direction:normal}#startMenuBtn[_ngcontent-%COMP%]{font-size:35px;padding-right:20px;color:#fff}#startMenuBtn[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}#searchTxt[_ngcontent-%COMP%]{width:500px;background-color:#ffffff17;border:solid white 2px;border-radius:20px}#activeMenuIcon[_ngcontent-%COMP%]{padding-right:35px;font-size:35px;color:#fff}#activeMenuIcon[_ngcontent-%COMP%]:hover{cursor:pointer;color:coral}.activeMenu[_ngcontent-%COMP%]{width:100%;height:50px;position:relative;animation:slide .5s;animation-direction:normal}@keyframes slide{0%{left:90%;top:0px}to{left:0%;top:0px}}.activeMenuBtn[_ngcontent-%COMP%]{padding-right:15px;width:50%;font-size:175%;font-family:"Times New Roman",Times,serif}.activeMenuBtn[_ngcontent-%COMP%]:hover{cursor:pointer;color:coral}#writtenPassage[_ngcontent-%COMP%]{color:#7e8cd4e3;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:30px;min-height:300px;height:350px;max-height:350px;margin:0 auto;background-color:#0000001f;overflow:scroll}#modal[_ngcontent-%COMP%]{position:fixed;z-index:10;padding-top:10px;padding-bottom:15%;left:0;top:7%;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{position:relative;text-align:center}#modalImg[_ngcontent-%COMP%]{min-width:50%;max-width:75%}#modalDisplay[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;position:fixed;z-index:11;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modal-footer[_ngcontent-%COMP%]{padding:2%}.modalTitle[_ngcontent-%COMP%]{color:#8ba1e2;font-family:Georgia,"Times New Roman",Times,serif}#postedImg[_ngcontent-%COMP%]{width:40%}#postedImg[_ngcontent-%COMP%]:hover{width:40%;cursor:pointer}#userInfo[_ngcontent-%COMP%]{position:absolute}#modalUser[_ngcontent-%COMP%]{color:#ca903a;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif;font-size:250%;padding-left:10px}#modalProfileImg[_ngcontent-%COMP%]{width:5%;border-radius:50%}#modal1[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;background-color:#161a23;border:solid #535D80 2px;width:100%;height:100%;padding:1%}.serviceMenu[_ngcontent-%COMP%]{position:fixed;background-color:#0f0f12f1;left:3%;bottom:0%;z-index:10;width:20%}.sidenav[_ngcontent-%COMP%]:hover{cursor:pointer}#serviceList[_ngcontent-%COMP%]{position:fixed;top:19%;max-height:700px;overflow:auto;animation:1s ease-out 0s 1 slideInFromLeft}#serviceMenuBtn[_ngcontent-%COMP%]{background-color:#0f131f;border:solid rgb(126,140,212) 1px;border-radius:10px;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif}#serviceMenuBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#0f1c47;border:solid rgb(126,140,212) 1px;border-radius:10px;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif}.serviceCard[_ngcontent-%COMP%]{position:fixed;bottom:10%;left:5%;z-index:10}#serviceBtn[_ngcontent-%COMP%]{background-color:#0f131f;border:solid rgb(126,140,212) 1px;border-radius:10px;font-family:"Courier New",Courier,monospace;font-size:20px}.slide-fade-enter-active[_ngcontent-%COMP%]{transition:all 2s ease}.slide-fade-leave-active[_ngcontent-%COMP%]{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[_ngcontent-%COMP%], .slide-fade-leave-to[_ngcontent-%COMP%]{transform:translate(10px);opacity:0}@keyframes slideInFromRight{0%{transform:translate(200px)}to{transform:translate(0)}}@keyframes slideInFromLeft{0%{transform:translate(-200px)}to{transform:translate(0)}}.messageList[_ngcontent-%COMP%]{position:fixed;right:0%;min-height:30%;height:90%;max-height:90%;overflow-y:scroll;overflow-x:hidden;z-index:10;animation-name:slideInLeft;animation-duration:1s;animation-direction:normal}.chatList[_ngcontent-%COMP%]{background-color:#0f0f127e;position:fixed;top:5%;left:0%;min-height:30%;height:80%;max-height:90%;overflow-y:scroll;overflow-x:hidden;z-index:10;animation-name:slideInLeft;animation-duration:1s;animation-direction:normal}.box2[_ngcontent-%COMP%]{overflow:scroll;flex-direction:row;display:flex;position:relative}#legacyImg[_ngcontent-%COMP%]{object-fit:cover}#aevumItem[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:150px;width:100%;display:inline-block}#testCardAevum[_ngcontent-%COMP%]{width:35%;min-width:25%;max-width:35%;display:inline-block;background-color:#0000}input[type=file][_ngcontent-%COMP%]{display:none}#testCardAevum[_ngcontent-%COMP%]{position:relative;top:10%;background-color:#0000}#aevumItem[_ngcontent-%COMP%]{background-color:#000;border-radius:15px;height:150px;width:300px;border:solid white 1px;display:inline-block;overflow-x:hidden}#chatCard[_ngcontent-%COMP%]{background-color:#0000;width:400px;height:-moz-fit-content;height:fit-content;display:inline-block;padding:3%}#chatCardU[_ngcontent-%COMP%]{background-color:#0000;width:400px;height:-moz-fit-content;height:fit-content;display:inline-block;padding:3%}#aevumItem[_ngcontent-%COMP%]:hover{background-color:#29040865;border-radius:15px;height:150px;cursor:pointer;border:solid rgb(255,123,0) 2px}.messageTitle[_ngcontent-%COMP%]{color:#fb0;font-family:"Times New Roman",Times,serif}.messageTxt[_ngcontent-%COMP%]{color:#fff;font-family:"Times New Roman",Times,serif}.fromMessageTxt[_ngcontent-%COMP%]{padding:5%;background-color:#41424b;border-radius:10px;color:#fff;font-family:"Times New Roman",Times,serif}.UserMessageTxt[_ngcontent-%COMP%]{padding:5%;background-color:#41424b;border-radius:10px;color:#fff;font-family:"Times New Roman",Times,serif}.UserMessageTxt[_ngcontent-%COMP%]{padding:5%;background-color:#94650da9;border-radius:10px;color:#fff;font-family:"Times New Roman",Times,serif}#legacyImg[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:15px;position:absolute;top:0%;z-index:0;filter:blur(4px);filter:brightness(40%)}#chatImg[_ngcontent-%COMP%]{vertical-align:middle;width:50%;border-radius:100%}.messageContext[_ngcontent-%COMP%]{position:relative;top:0%;left:5%;width:100%;z-index:1}.fromMessageContext[_ngcontent-%COMP%]{position:relative;top:0%;left:5%;width:100%;z-index:1}.toMessageContext[_ngcontent-%COMP%]{position:relative;top:0%;left:5%;width:100%;z-index:1}@keyframes slideInLeft{0%{right:-20%}to{right:0%}}#PreImg[_ngcontent-%COMP%]{object-fit:cover;width:150px;height:150px;border-radius:15px}#preImgCard[_ngcontent-%COMP%]{background-color:#03042461;border-radius:15px;height:200px;width:400px;border:solid black 1px}#preImgCard[_ngcontent-%COMP%]:hover{background-color:#03042457;border-radius:15px;height:200px;width:400px;border:solid rgb(241,158,32) 1px;cursor:pointer}.space[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%}.array[_ngcontent-%COMP%]{background-color:#0f0f12;border-radius:10px;max-height:200px;height:185px;display:flex;padding-left:2%;padding-right:2%;flex-direction:row;overflow-y:hidden;overflow-x:scroll}.postRow[_ngcontent-%COMP%]{width:100%;min-width:100;background-color:#0000;overflow-x:scroll}']}),n})();function zV(n,e){if(1&n&&(r.TgZ(0,"div",39),r.TgZ(1,"div",40),r.TgZ(2,"h4",41),r._uU(3),r.qZA(),r.TgZ(4,"i",42),r._uU(5),r.qZA(),r.TgZ(6,"i",43),r._uU(7,"more_vert"),r.qZA(),r.qZA(),r.qZA()),2&n){const t=e.$implicit;r.xp6(3),r.Oqu(t.title),r.xp6(2),r.Oqu(t.icon)}}function WV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",45),r.TgZ(1,"img",63),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).setCollageImageModal(u)}),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit,i=e.index;r.xp6(1),r.Gre("postModalCollageImg",i," z-depth-5"),r.s9C("src",t,r.LSH)}}function GV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"i",64),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.likeModalPost(a.modalPostID),a.modalPostLiked=!0}),r._uU(1," favorite_border "),r.qZA()}}function KV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"i",64),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.unLikeModalPost(a.modalPostID),a.modalPostLiked=!1}),r._uU(1," favorite "),r.qZA()}}function YV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",44),r.TgZ(2,"div",45),r.TgZ(3,"div",46),r.NdJ("click",function(){return r.CHM(t),r.oxw().closeModalDialogue()}),r.TgZ(4,"div",47),r.TgZ(5,"div",48),r.TgZ(6,"div",49),r.NdJ("click",function(){return r.CHM(t),r.oxw().goProfile()}),r._UZ(7,"img",50),r.TgZ(8,"h5",51),r._uU(9),r.qZA(),r.qZA(),r._UZ(10,"br"),r._UZ(11,"br"),r.TgZ(12,"div",52),r.NdJ("click",function(){return r.CHM(t),r.oxw().preSelection=!0}),r.TgZ(13,"h4",53),r._uU(14),r.qZA(),r._UZ(15,"br"),r._UZ(16,"br"),r.TgZ(17,"img",54),r.NdJ("click",function(){return r.CHM(t),r.oxw().setImageModal()}),r.qZA(),r.YNc(18,WV,2,4,"div",55),r.TgZ(19,"h5",56),r._uU(20),r.qZA(),r.qZA(),r.TgZ(21,"div",57),r.NdJ("click",function(){return r.CHM(t),r.oxw().preSelection=!0}),r.TgZ(22,"h6",58),r.TgZ(23,"span",59),r.YNc(24,GV,2,0,"i",60),r.YNc(25,KV,2,0,"i",60),r._uU(26),r.TgZ(27,"i",61),r.NdJ("click",function(){return r.CHM(t),r.oxw().commentPost()}),r._uU(28,"chat_bubble_outline"),r.qZA(),r._uU(29),r.qZA(),r.qZA(),r.TgZ(30,"h6",62),r._uU(31),r.qZA(),r._UZ(32,"br"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(7),r.s9C("src",t.modalPostUserProfileImg,r.LSH),r.xp6(2),r.Oqu(t.modalPostUser),r.xp6(5),r.Oqu(t.modalPostTitle),r.xp6(3),r.s9C("src",t.modalPostImage,r.LSH),r.xp6(1),r.Q6J("ngForOf",t.modalPostImages),r.xp6(2),r.Oqu(t.modalPostTxt),r.xp6(4),r.Q6J("ngIf",0==t.modalPostLiked),r.xp6(1),r.Q6J("ngIf",1==t.modalPostLiked),r.xp6(1),r.hij(" ",t.modalPostLikes," \xa0 "),r.xp6(3),r.hij(" ",t.modalPostComments," "),r.xp6(2),r.Oqu(t.modalPostDate)}}function QV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",76),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.modalPostLiked=!0,a.likeLegacyPost(a.modalPostID),a.addLegacyLike(a.modalPostID)}),r.TgZ(1,"i",74),r._uU(2,"favorite_border"),r.qZA(),r.qZA()}}function JV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",76),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.modalPostLiked=!1,a.unlikeLegacyPost(a.modalPostID),a.removeLegacyLike(a.modalPostID)}),r.TgZ(1,"i",74),r._uU(2,"favorite"),r.qZA(),r.qZA()}}function XV(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",77),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.modalPostSaved=!0,a.saveLegacy(a.modalPostID),a.addLegacyReader(a.modalPostID)}),r.TgZ(1,"i",74),r._uU(2,"bookmark_border"),r.qZA(),r.qZA()}}function e4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",77),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.modalPostSaved=!1,a.unSaveLegacy(a.modalPostID),a.removeLegacyReader(a.modalPostID)}),r.TgZ(1,"i",74),r._uU(2,"bookmark"),r.qZA(),r.qZA()}}const t4=function(){return["/Legacy"]},n4=function(n){return{id:n}};function r4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",44),r.TgZ(2,"div",45),r.TgZ(3,"div",65),r.NdJ("click",function(){return r.CHM(t),r.oxw().closeLegacyModal()}),r.TgZ(4,"div",47),r.TgZ(5,"div",66),r.TgZ(6,"div",52),r.NdJ("click",function(){return r.CHM(t),r.oxw().preSelection=!0}),r.TgZ(7,"div",67),r._UZ(8,"img",68),r.TgZ(9,"h3",69),r._uU(10),r.qZA(),r.TgZ(11,"div",44),r.TgZ(12,"h5",56),r._uU(13),r.qZA(),r.TgZ(14,"h6",59),r._uU(15),r.qZA(),r.TgZ(16,"div",0),r.TgZ(17,"div",44),r._UZ(18,"hr",70),r.qZA(),r.TgZ(19,"div",44),r.TgZ(20,"div",1),r.TgZ(21,"div",71),r.YNc(22,QV,3,0,"div",72),r.YNc(23,JV,3,0,"div",72),r.qZA(),r.TgZ(24,"div",71),r.TgZ(25,"div",73),r.TgZ(26,"i",74),r._uU(27,"book"),r.qZA(),r._uU(28," View "),r.qZA(),r.qZA(),r.TgZ(29,"div",71),r.YNc(30,XV,3,0,"div",75),r.YNc(31,e4,3,0,"div",75),r.qZA(),r.qZA(),r.qZA(),r._UZ(32,"br"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(8),r.s9C("src",t.modalPostImage,r.LSH),r.xp6(2),r.Oqu(t.modalPostTitle),r.xp6(3),r.Oqu(t.modalPostTxt),r.xp6(2),r.Oqu(t.modalPostUser),r.xp6(7),r.Q6J("ngIf",0==t.modalPostLiked),r.xp6(1),r.Q6J("ngIf",1==t.modalPostLiked),r.xp6(2),r.Q6J("routerLink",r.DdM(10,t4))("queryParams",r.VKq(11,n4,t.modalPostID)),r.xp6(5),r.Q6J("ngIf",0==t.modalPostSaved),r.xp6(1),r.Q6J("ngIf",1==t.modalPostSaved)}}function s4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",85),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).incrementMangaPage()}),r.TgZ(1,"div",86),r.TgZ(2,"div",87),r._UZ(3,"img",88),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw(2);r.xp6(3),r.s9C("src",t.modalPostImages[0],r.LSH)}}function o4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"img",94),r.NdJ("click",function(){return r.CHM(t),r.oxw(3).incrementMangaPage()}),r.qZA()}if(2&n){const t=r.oxw(3);r.s9C("src",t.modalPostImages[t.mangaPage+1],r.LSH)}}function a4(n,e){1&n&&(r.TgZ(0,"div",95),r.TgZ(1,"span"),r._uU(2,"End of Pages"),r.qZA(),r.qZA())}function l4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",89),r.TgZ(1,"div",90),r.TgZ(2,"img",91),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).decrementMangaPage()}),r.qZA(),r.qZA(),r.TgZ(3,"div",90),r.YNc(4,o4,1,1,"img",92),r.YNc(5,a4,3,0,"div",93),r.qZA(),r.qZA()}if(2&n){const t=r.oxw(2);r.xp6(2),r.s9C("src",t.modalPostImages[t.mangaPage],r.LSH),r.xp6(2),r.Q6J("ngIf",t.mangaPage+1<t.mangaPageLimit),r.xp6(1),r.Q6J("ngIf",t.mangaPage+1>=t.mangaPageLimit)}}function c4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"i",64),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.likeModalPost(a.modalPostID),a.modalPostLiked=!0}),r._uU(1," favorite_border "),r.qZA()}}function u4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"i",64),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.unLikeModalPost(a.modalPostID),a.modalPostLiked=!1}),r._uU(1," favorite "),r.qZA()}}function d4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",78),r.TgZ(2,"div",45),r.TgZ(3,"div",46),r.NdJ("click",function(){return r.CHM(t),r.oxw().closeModalDialogue()}),r.TgZ(4,"div",79),r.TgZ(5,"div",80),r.TgZ(6,"div",49),r.NdJ("click",function(){return r.CHM(t),r.oxw().goProfile()}),r._UZ(7,"img",81),r.TgZ(8,"h5",51),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"div",52),r.NdJ("click",function(){return r.CHM(t),r.oxw().preSelection=!0}),r.TgZ(11,"span"),r.TgZ(12,"h4",53),r._uU(13),r.qZA(),r.qZA(),r.TgZ(14,"div",0),r.YNc(15,s4,4,1,"div",82),r.YNc(16,l4,6,3,"div",83),r.qZA(),r.qZA(),r.TgZ(17,"div",84),r.NdJ("click",function(){return r.CHM(t),r.oxw().preSelection=!0}),r.TgZ(18,"h6",58),r.TgZ(19,"span",59),r.YNc(20,c4,2,0,"i",60),r.YNc(21,u4,2,0,"i",60),r._uU(22),r.TgZ(23,"i",61),r.NdJ("click",function(){return r.CHM(t),r.oxw().commentPost()}),r._uU(24,"chat_bubble_outline"),r.qZA(),r._uU(25),r.qZA(),r.qZA(),r.TgZ(26,"h6",62),r._uU(27),r.qZA(),r._UZ(28,"br"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(7),r.s9C("src",t.modalPostUserProfileImg,r.LSH),r.xp6(2),r.hij("",t.modalPostUser," - Author"),r.xp6(4),r.Oqu(t.modalPostTitle),r.xp6(2),r.Q6J("ngIf",0==t.mangaPage),r.xp6(1),r.Q6J("ngIf",t.mangaPage>0),r.xp6(4),r.Q6J("ngIf",0==t.modalPostLiked),r.xp6(1),r.Q6J("ngIf",1==t.modalPostLiked),r.xp6(1),r.hij(" ",t.modalPostLikes," \xa0 "),r.xp6(3),r.hij(" ",t.modalPostComments," "),r.xp6(2),r.Oqu(t.modalPostDate)}}function h4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",96),r.NdJ("click",function(){return r.CHM(t),r.oxw().closeImgModal()}),r.TgZ(1,"div",97),r.TgZ(2,"div",98),r._UZ(3,"img",99),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(3),r.s9C("src",t.imgModal,r.LSH)}}function f4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",45),r.TgZ(1,"img",63),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).setCollageImageModal(u)}),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit,i=e.index;r.xp6(1),r.Gre("postModalCollageImg",i," z-depth-5"),r.s9C("src",t,r.LSH)}}function p4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"i",110),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.likeModalPost(a.modalPostID),a.modalPostLiked=!0}),r._uU(1," favorite_border "),r.qZA()}}function g4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"i",110),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.unLikeModalPost(a.modalPostID),a.modalPostLiked=!1}),r._uU(1," favorite "),r.qZA()}}function m4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",100),r.TgZ(1,"div",44),r.TgZ(2,"div",45),r.TgZ(3,"div",101),r.NdJ("click",function(){return r.CHM(t),r.oxw().closeModalDialogue()}),r.TgZ(4,"div",47),r.TgZ(5,"div",102),r.TgZ(6,"div",0),r.TgZ(7,"div",45),r.TgZ(8,"div",103),r.NdJ("click",function(){return r.CHM(t),r.oxw().goProfile()}),r._UZ(9,"img",104),r.TgZ(10,"h1",105),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",52),r.NdJ("click",function(){return r.CHM(t),r.oxw().preSelection=!0}),r.TgZ(13,"h3",53),r._uU(14),r.qZA(),r._UZ(15,"br"),r.TgZ(16,"img",54),r.NdJ("click",function(){return r.CHM(t),r.oxw().setImageModal()}),r.qZA(),r.YNc(17,f4,2,4,"div",55),r.TgZ(18,"h5",56),r._uU(19),r.qZA(),r.qZA(),r.TgZ(20,"div",57),r.NdJ("click",function(){return r.CHM(t),r.oxw().preSelection=!0}),r.TgZ(21,"h4",106),r.TgZ(22,"span",59),r.YNc(23,p4,2,0,"i",107),r.YNc(24,g4,2,0,"i",107),r._uU(25),r.TgZ(26,"i",108),r.NdJ("click",function(){return r.CHM(t),r.oxw().commentPost()}),r._uU(27,"chat_bubble_outline"),r.qZA(),r._uU(28),r.qZA(),r.qZA(),r.TgZ(29,"h5",109),r._uU(30),r.qZA(),r._UZ(31,"br"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(9),r.s9C("src",t.modalPostUserProfileImg,r.LSH),r.xp6(2),r.Oqu(t.modalPostUser),r.xp6(3),r.Oqu(t.modalPostTitle),r.xp6(2),r.s9C("src",t.modalPostImage,r.LSH),r.xp6(1),r.Q6J("ngForOf",t.modalPostImages),r.xp6(2),r.Oqu(t.modalPostTxt),r.xp6(4),r.Q6J("ngIf",0==t.modalPostLiked),r.xp6(1),r.Q6J("ngIf",1==t.modalPostLiked),r.xp6(1),r.hij(" ",t.modalPostLikes," \xa0 "),r.xp6(3),r.hij(" ",t.modalPostComments," "),r.xp6(2),r.Oqu(t.modalPostDate)}}function _4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",45),r.TgZ(1,"img",63),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).setCollageImageModal(u)}),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit,i=e.index;r.xp6(1),r.Gre("postModalCollageImg",i," z-depth-5"),r.s9C("src",t,r.LSH)}}function y4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"i",110),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.likeModalPost(a.modalPostID),a.modalPostLiked=!0}),r._uU(1," favorite_border "),r.qZA()}}function v4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"i",110),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(2);return a.unLikeModalPost(a.modalPostID),a.modalPostLiked=!1}),r._uU(1," favorite "),r.qZA()}}function b4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",29),r.TgZ(1,"div",44),r.TgZ(2,"div",45),r.TgZ(3,"div",101),r.NdJ("click",function(){return r.CHM(t),r.oxw().closeModalDialogue()}),r.TgZ(4,"div",47),r.TgZ(5,"div",102),r.TgZ(6,"div",0),r.TgZ(7,"div",45),r.TgZ(8,"div",103),r.NdJ("click",function(){return r.CHM(t),r.oxw().goProfile()}),r._UZ(9,"img",104),r.TgZ(10,"h1",105),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",52),r.NdJ("click",function(){return r.CHM(t),r.oxw().preSelection=!0}),r.TgZ(13,"h3",53),r._uU(14),r.qZA(),r._UZ(15,"br"),r.TgZ(16,"img",54),r.NdJ("click",function(){return r.CHM(t),r.oxw().setImageModal()}),r.qZA(),r.YNc(17,_4,2,4,"div",55),r.TgZ(18,"h5",56),r._uU(19),r.qZA(),r.qZA(),r.TgZ(20,"div",57),r.NdJ("click",function(){return r.CHM(t),r.oxw().preSelection=!0}),r.TgZ(21,"h4",106),r.TgZ(22,"span",59),r.YNc(23,y4,2,0,"i",107),r.YNc(24,v4,2,0,"i",107),r._uU(25),r.TgZ(26,"i",108),r.NdJ("click",function(){return r.CHM(t),r.oxw().commentPost()}),r._uU(27,"chat_bubble_outline"),r.qZA(),r._uU(28),r.qZA(),r.qZA(),r.TgZ(29,"h5",109),r._uU(30),r.qZA(),r._UZ(31,"br"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(9),r.s9C("src",t.modalPostUserProfileImg,r.LSH),r.xp6(2),r.Oqu(t.modalPostUser),r.xp6(3),r.Oqu(t.modalPostTitle),r.xp6(2),r.s9C("src",t.modalPostImage,r.LSH),r.xp6(1),r.Q6J("ngForOf",t.modalPostImages),r.xp6(2),r.Oqu(t.modalPostTxt),r.xp6(4),r.Q6J("ngIf",0==t.modalPostLiked),r.xp6(1),r.Q6J("ngIf",1==t.modalPostLiked),r.xp6(1),r.hij(" ",t.modalPostLikes," \xa0 "),r.xp6(3),r.hij(" ",t.modalPostComments," "),r.xp6(2),r.Oqu(t.modalPostDate)}}function C4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",113),r.TgZ(1,"div",114),r.TgZ(2,"div",115),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).showLegacyModal(u)}),r.TgZ(3,"h4",41),r._uU(4),r.qZA(),r._UZ(5,"img",116),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.title),r.xp6(1),r.s9C("src",t.cover,r.LSH)}}function w4(n,e){if(1&n&&(r.TgZ(0,"div",18),r.TgZ(1,"h4",111),r._uU(2,"New"),r.qZA(),r.TgZ(3,"div",10),r.YNc(4,C4,6,2,"div",112),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(4),r.Q6J("ngForOf",t.finalNewArr)}}function T4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",117),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw().navigateLegacy(u)}),r.TgZ(1,"div",114),r.TgZ(2,"div",118),r.TgZ(3,"h4",41),r._uU(4),r.qZA(),r._UZ(5,"img",116),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.title),r.xp6(1),r.s9C("src",t.cover,r.LSH)}}function E4(n,e){if(1&n&&r._UZ(0,"img",127),2&n){const t=r.oxw().$implicit;r.s9C("src",t.image,r.LSH)}}function I4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"div",119),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw().showModalDialog(u)}),r.TgZ(2,"div",120),r._UZ(3,"br"),r.TgZ(4,"h6",121),r._uU(5),r.qZA(),r.TgZ(6,"div",45),r.YNc(7,E4,1,1,"img",122),r.qZA(),r.TgZ(8,"div",123),r.TgZ(9,"div",124),r._uU(10),r.qZA(),r.qZA(),r._UZ(11,"br"),r.TgZ(12,"p",125),r.TgZ(13,"i"),r._uU(14),r.qZA(),r.qZA(),r.TgZ(15,"p",126),r._uU(16),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.title),r.xp6(2),r.Q6J("ngIf","https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2F%CE%95%CE%BB%CE%B5%CF%85%CC%81%CE%B8%CE%B5%CF%81%CE%B7%20%CF%83%CE%BA%CE%B5%CC%81%CF%88%CE%B7.PNG?alt=media&token=1ddf6078-d29a-4532-ab6a-026c6cd6f35d"!=t.image),r.xp6(3),r.Oqu(t.text),r.xp6(4),r.Oqu(t.username),r.xp6(2),r.Oqu(t.date)}}function A4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",117),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw().showModalDialog(u)}),r.TgZ(1,"div",114),r.TgZ(2,"div",118),r.TgZ(3,"h4",41),r._uU(4),r.qZA(),r._UZ(5,"img",116),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.title),r.xp6(1),r.s9C("src",t.image,r.LSH)}}function x4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",128),r.TgZ(1,"div",129),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw().showModalMangaDialog(u)}),r.TgZ(2,"h4",130),r._uU(3),r.qZA(),r._UZ(4,"img",131),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(3),r.Oqu(t.title),r.xp6(1),r.s9C("src",t.image,r.LSH)}}function D4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",132),r.TgZ(1,"div",133),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw().showModalDialogDesktop(u)}),r.TgZ(2,"div",134),r.TgZ(3,"div",135),r._uU(4,"Time"),r.qZA(),r.TgZ(5,"div",136),r.TgZ(6,"h6",137),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"div",138),r._uU(9),r.qZA(),r.TgZ(10,"p",139),r.TgZ(11,"i"),r._uU(12),r.qZA(),r.qZA(),r.TgZ(13,"p",126),r._uU(14),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(7),r.Oqu(t.title),r.xp6(2),r.Oqu(t.text),r.xp6(3),r.Oqu(t.username),r.xp6(2),r.Oqu(t.date)}}function S4(n,e){if(1&n&&r._UZ(0,"img",127),2&n){const t=r.oxw().$implicit;r.s9C("src",t.image,r.LSH)}}function k4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"div",119),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw().showModalDialog(u)}),r.TgZ(2,"div",140),r._UZ(3,"br"),r.TgZ(4,"h5",121),r._uU(5),r.qZA(),r.TgZ(6,"div",45),r.YNc(7,S4,1,1,"img",122),r.qZA(),r.TgZ(8,"div",123),r.TgZ(9,"div",124),r._uU(10),r.qZA(),r.qZA(),r._UZ(11,"br"),r.TgZ(12,"p",125),r.TgZ(13,"i"),r._uU(14),r.qZA(),r.qZA(),r.TgZ(15,"p",126),r._uU(16),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.title),r.xp6(2),r.Q6J("ngIf","https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2F%CE%95%CE%BB%CE%B5%CF%85%CC%81%CE%B8%CE%B5%CF%81%CE%B7%20%CF%83%CE%BA%CE%B5%CC%81%CF%88%CE%B7.PNG?alt=media&token=1ddf6078-d29a-4532-ab6a-026c6cd6f35d"!=t.image),r.xp6(3),r.Oqu(t.text),r.xp6(4),r.Oqu(t.username),r.xp6(2),r.Oqu(t.date)}}function M4(n,e){if(1&n&&r._UZ(0,"img",127),2&n){const t=r.oxw().$implicit;r.s9C("src",t.image,r.LSH)}}function O4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"div",119),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw().showModalDialog(u)}),r.TgZ(2,"div",140),r._UZ(3,"br"),r.TgZ(4,"h5",121),r._uU(5),r.qZA(),r.TgZ(6,"div",45),r.YNc(7,M4,1,1,"img",122),r.qZA(),r.TgZ(8,"div",123),r.TgZ(9,"div",124),r._uU(10),r.qZA(),r.qZA(),r._UZ(11,"br"),r.TgZ(12,"p",125),r.TgZ(13,"i"),r._uU(14),r.qZA(),r.qZA(),r.TgZ(15,"p",126),r._uU(16),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.title),r.xp6(2),r.Q6J("ngIf","https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2F%CE%95%CE%BB%CE%B5%CF%85%CC%81%CE%B8%CE%B5%CF%81%CE%B7%20%CF%83%CE%BA%CE%B5%CC%81%CF%88%CE%B7.PNG?alt=media&token=1ddf6078-d29a-4532-ab6a-026c6cd6f35d"!=t.image),r.xp6(3),r.Oqu(t.text),r.xp6(4),r.Oqu(t.username),r.xp6(2),r.Oqu(t.date)}}let P4=(()=>{class n{constructor(t,i,a,u,h){this.router=t,this.AuthService=i,this.userService=a,this.firebaseAuth=u,this.chapterService=h,this.imgLeft="https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FCCF733DE-0488-49E1-B128-95350491A843.jpeg?alt=media&token=ad602b29-0866-4796-9d3d-bc66ac99c262",this.imgCenter="https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FIMG_0132.jpg?alt=media&token=7f967075-407b-47fe-b717-8289fbefae05",this.imgRight="https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FIMG_4533.jpg?alt=media&token=778bd24d-85d3-4fa9-afbd-746ca36b545b",this.newAevum=!1,this.displayLegacyList=!1,this.legacyID="",this.testList=[{title:"Truth",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FCCF733DE-0488-49E1-B128-95350491A843.jpeg?alt=media&token=ad602b29-0866-4796-9d3d-bc66ac99c262"},{title:"Event Horizon",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FB1BF8558-3D05-46E1-830B-627CD82B5A78.jpeg?alt=media&token=a286c12d-5f26-4f71-a720-c83f3a55ad40"},{title:"Ambition",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2F1.10.png?alt=media&token=cb1cbbb6-006a-4b9c-8f45-e5b5a11c9210"},{title:"Faith",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2F1.9.png?alt=media&token=c16816f8-eaed-4079-b686-3ad1d53fe87a"},{title:"Autumn",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2F1.7.png?alt=media&token=4dba1cb9-8899-421e-87f7-48c3679bfb8a"}],this.aevumList=[{id:"",title:"",text:"",timestamp:"",cover:"",status:""}],this.aevumActiveList=[{id:"",title:"",text:"",timestamp:"",cover:"",status:""}],this.aevumUpcomingList=[{id:"",title:"",text:"",timestamp:"",cover:"",status:""}],this.aevumClosedList=[{id:"",title:"",text:"",timestamp:"",cover:"",status:""}],this.legacyList=[{title:"",cover:"",desc:"",privacy:"",type:"",updated:"",author:""}],this.menuItems=[{title:"New Post",icon:"create"},{title:"Legacy",icon:"book"},{title:"Forum",icon:"forum"},{title:"Messages",icon:"email"},{title:"Notifications",icon:"insert_comment"}],this.activeUsers=[{username:"Veritas",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FA2CB3D73-7042-44EB-8076-0F22AD72A934.jpeg?alt=media&token=b57bc02a-fcea-46ed-be73-cc1f64a65db6"},{username:"Gehenna",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FA0F36188-5CF2-4363-A318-47738A38CB7B.jpeg?alt=media&token=2f806254-6039-4a37-a1f3-177f908c69e5"},{username:"Valia",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=acd7aa64-b4f0-45e4-9b36-03dcd2b8145b"},{username:"Autumn",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2F2b67925f-7dff-4070-8ded-15665d3a7ca9.png?alt=media&token=cc56daca-c78a-4e97-9617-469cfeb6a489"},{username:"Maze",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FIMG_0384.PNG?alt=media&token=5cca5a81-32a5-40bc-a652-b603f6a063d6"},{username:"Jade",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2F148D895E-1BD6-4FE1-AA76-9E45ED9D8DD4.jpeg?alt=media&token=3e7eec27-3430-4962-af96-2546835a6442"}],this.WritingList=[{title:"Thank you",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FIMG_0140.PNG?alt=media&token=3c72eed7-b2f1-4be7-a20a-cc7b1e7a0a16",sample:"Thankful I am thankful for love \n      I am thankful for trust \n      I am thankful for a day \n      Where I can lust \n      Not myself \n      But my ambition \n      For there is a honest intention \n      In making great decisions. \n      I am thankful for my mom \n      Who has shown me up \n      And has shown me down \n      For I have grown \n      Into the women I am now \n      I am thankful for my siblings \n      For they gave me \n      A Reason to live \n      When I didn\u2019t see it give  \n      Me a place to forgive\n      I am thankful for you \n      For you are great \n      You are a smile \n      On a gloomy day \n      You show me love \n      You show me trust \n      You show me things \n      That I should forever lust. \n      Thank you. ",username:"Nocturna",date:"November 2021",profileImg:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"},{title:"Breathless",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FIMG_0140.PNG?alt=media&token=3c72eed7-b2f1-4be7-a20a-cc7b1e7a0a16",sample:"\n              The sun has sunken \n            The moon has woken \n        A kiss; the body is drunken \n        A touch; it gives the unspoken \n        They both know the function \n        As he allows his body to awoken \n        And she allows the seduction \n                    To betoken \n              This reproduction \n                Into an open \n                  Abduction \n        Breathless as they have broken \n        Down the construction \n        Of a wall that was a token \n        Of the hurt and destruction \n                Of the unbroken \n        they stare at the potion  \n        Of a new love that wasn\u2019t spoken\n                    But a production \n          Of a love, breathless and open.   \n          Love you \u{1f98b}\u{1f49c}",username:"Nocturna",date:"November 2021"},{title:"Smile",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FIMG_0140.PNG?alt=media&token=3c72eed7-b2f1-4be7-a20a-cc7b1e7a0a16",sample:"\n        Smile \n        The morning arose upon my room \n        A phone buzz jerks me from my sleep \n        For my mind resorts to whom \n        Only one who can keep \n        A smile that will bloom \n        When I open my phone and peep \n        That my lover has consumed \n        My phone with messages that steep \n        Into my heart and resume \n        To make my heart leap \n        And groom \n        My love for him. \u{1f49c}\u{1f98b}",username:"Nocturna",date:"November 2021",profileImg:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"},{title:"Touch",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FIMG_0140.PNG?alt=media&token=3c72eed7-b2f1-4be7-a20a-cc7b1e7a0a16",sample:"\n      Your touch \n      Your embrace \n      Your eyes to which I race \n      Your smell to which I chase \n      I crave you beyond the base \n      Of life itself for which I face \n      I love you ",username:"Nocturna",date:"November 2021",profileImg:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"},{title:"Rings",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/N4Posts%2FItVzlZqqYXQukCYVI3TZodI7oQq2%2Fimages%2FIMG_0140.PNG?alt=media&token=3c72eed7-b2f1-4be7-a20a-cc7b1e7a0a16",sample:"\n          Two black rings \n\n          Hold so much weight \n          For they are not just things \n          They create \n          This safe space that brings \n          A comfort and a gate \n          To this door that flings \n          Out this great \n          Vulnerability that has wings \n          So vast and allows fate \n          To sting \n          And it becomes late \n          As he hands her his black ring \n          That hold so much weight. ",username:"Nocturna",date:"November 2021",profileImg:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"}],this.NFT=[{title:"Img",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"},{title:"Img",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"},{title:"Img",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"},{title:"Img",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"},{title:"Img",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"},{title:"Img",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"},{title:"Img",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/RuiLogo.png?alt=media&token=2a00ea98-57ac-45ee-9da9-008127c19d2a"}],this.recentCount=0,this.post=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:""}],this.postColB=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:""}],this.postColC=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:""}],this.recentPosts=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:"",username:"",date:""}],this.mobilePosts=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:"",username:"",date:""}],this.allPosts=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:"",username:"",date:"",timestamp:""}],this.allLegacies=[],this.regularPosts=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:"",username:"",date:""}],this.regularPostsB=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:"",username:"",date:""}],this.regularPostsC=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:"",username:"",date:""}],this.recentImgs=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:"",username:"",date:""}],this.recentCollages=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:"",postImgs:[]}],this.recentStoryboards=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:"",postImgs:[]}],this.recentWritings=[{id:"",title:"",text:"",image:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2FMint.png?alt=media&token=1d6925dd-efc9-4f5e-9110-79ca1d7200ea",numLikes:"",date:"",username:""}],this.imagePool=[""],this.imgPrev="",this.imgPrev2="",this.imgPrev3="",this.display=!1,this.displayImgModal=!1,this.displayWritingModal=!1,this.displayWritingModalDesktop=!1,this.imgModal="",this.preSelection=!1,this.modalPostTitle="",this.modalPostTxt="",this.modalPostDate="",this.modalPostImage="",this.modalPostImages=[],this.modalPostUser="",this.modalPostUserProfileImg="",this.modalPostAuthor="",this.modalPostID="",this.modalPostLikes="0",this.modalPostComments="0",this.modalPostLiked=!1,this.modalPostUnLiked=!1,this.modalPostSaved=!1,this.count="",this.tempUsername="",this.currentUserID="",this.likesList=[],this.savedList=[],this.finalNewArr=[],this.dataCollected=!1,this.legacyCollected=!1,this.aevumCollected=!1,this.wordCount=0,this.writtenPages=[],this.displayModal=!1,this.displayLegacyModal=!1,this.displayMangaModal=!1,this.mangaPage=0,this.mangaPageLimit=0,this.readingManga=!1,this.firebaseAuth.authState.subscribe(g=>{g?(this.userData=g,localStorage.setItem("userData",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("userData"))):(localStorage.setItem("userData","null"),JSON.parse(localStorage.removeItem("userData")))})}ngOnInit(){this.dataCollected=!1,this.checkAuthStatus(),this.loadAllData(),this.recentPostScrollCheck(),this.recentImageScrollCheck(),this.recentWritingScrollCheck()}recentPostScrollCheck(){const t=document.getElementById("regularPostScroll");let i=0;null!=t&&(console.log("Element = "+t),t.onscroll=a=>{t.scrollTop<i||(i=t.scrollTop<=0?0:t.scrollTop,t.scrollLeft+t.offsetWidth>=t.scrollWidth&&alert("Add more to query recent posts"))})}recentImageScrollCheck(){const t=document.getElementById("recentImagePostsScroll");let i=0;null!=t&&(console.log("Element = "+t),t.onscroll=a=>{t.scrollTop<i||(i=t.scrollTop<=0?0:t.scrollTop,t.scrollLeft+t.offsetWidth>=t.scrollWidth&&alert("Add more to query recent Image posts"))})}recentWritingScrollCheck(){const t=document.getElementById("recentWritingScroll");let i=0;null!=t&&(console.log("Element = "+t),t.onscroll=a=>{t.scrollTop<i||(i=t.scrollTop<=0?0:t.scrollTop,t.scrollLeft+t.offsetWidth>=t.scrollWidth&&alert("Add more to query recent Writing posts"))})}checkAuthStatus(){this.userService.authStatus()}loadAllData(){this.dataCollected=!1,this.dataCollected||(this.loadAevum(),this.loadPosts(),this.loadLegacies(),this.dataCollected=!0)}loadLocalPosts(){this.allPosts.splice(0,1),this.recentPosts.splice(0,1),this.recentCollages.splice(0,1),this.recentStoryboards.splice(0,1),this.recentImgs.splice(0,1),this.recentWritings.splice(0,1),this.post.splice(0,1),this.postColB.splice(0,1),this.postColC.splice(0,1);const i=JSON.parse(this.localDataValue);i.forEach(a=>{""==a.image||"standard"!=a.type&&null!=a.type?""==a.image&&null==a.type&&this.countWords(a.text)<99||"standard"==a.type&&this.countWords(a.text)<99?this.recentPosts.push(a):"Images"==a.type||"Manga"==a.type?(a.postImg=a.postImgs[0],this.recentCollages.push(a)):(this.countWords(a.text)>99||"Writing"==a.type)&&(a.text.split(" ").slice(100).join(" "),a.type="Writing",this.recentWritings.push(a)):this.recentImgs.push(a)}),this.first=i[0],this.last=i[i.length-1]}loadAevum(){this.aevumList.splice(0,1),this.aevumActiveList.splice(0,1),this.aevumUpcomingList.splice(0,1),this.aevumClosedList.splice(0,1),this.AuthService.getAevum().subscribe(t=>{localStorage.removeItem("AllAevum"),this.aevumActiveList=[],this.aevumUpcomingList=[],this.aevumClosedList=[],t.map(i=>{const a=i.payload.doc.data(),u={id:i.payload.doc.id,title:a.title,cover:a.cover,timestamp:a.timestamp,status:a.status,text:a.text};"Active"==u.status?(this.aevumActiveList.push(u),this.finalNewArr.push(u),this.newAevum=!0):"upcoming"==u.status?(this.aevumUpcomingList.push(u),this.newAevum=!0):(this.aevumClosedList.push(u),this.newAevum=!0)})})}loadLegacies(){this.legacyList.splice(0,1),this.AuthService.getLegacies().subscribe(t=>{localStorage.removeItem("AllLegacies"),t.map(i=>{this.legacyList=[];const a=i.payload.doc.data(),u={id:i.payload.doc.id,title:a.title,desc:a.desc,cover:""!=a.cover?a.cover:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2F%CE%95%CE%BB%CE%B5%CF%85%CC%81%CE%B8%CE%B5%CF%81%CE%B7%20%CF%83%CE%BA%CE%B5%CC%81%CF%88%CE%B7.PNG?alt=media&token=1ddf6078-d29a-4532-ab6a-026c6cd6f35d",author:a.author,timestamp:a.timestamp,type:a.type,privacy:a.privacy,updated:a.updated};"public"==u.privacy&&(this.legacyList.push(u),this.finalNewArr.push(u))}),localStorage.setItem("AllLegacies",JSON.stringify(this.legacyList)),this.firstLegacy=this.legacyList[0],this.lastLegacy=this.legacyList[this.legacyList.length-1]}),0==this.legacyList.length?this.loadAllLegacy():this.displayLegacyList=!0}loadAllLegacy(){this.legacyList.splice(0,1),this.AuthService.getAllLegacyPosts().subscribe(t=>{localStorage.removeItem("AllLegacies"),t.map(i=>{const a=i.payload.doc.data(),u={id:i.payload.doc.id,title:a.title,desc:a.desc,cover:""!=a.cover?a.cover:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2F%CE%95%CE%BB%CE%B5%CF%85%CC%81%CE%B8%CE%B5%CF%81%CE%B7%20%CF%83%CE%BA%CE%B5%CC%81%CF%88%CE%B7.PNG?alt=media&token=1ddf6078-d29a-4532-ab6a-026c6cd6f35d",author:a.author,timestamp:a.timestamp,type:a.type,privacy:a.privacy,updated:a.updated};"public"==u.privacy&&(this.legacyList.push(u),this.finalNewArr.push(u))}),localStorage.setItem("AllLegacies",JSON.stringify(this.legacyList)),this.firstLegacy=this.legacyList[0],this.lastLegacy=this.legacyList[this.legacyList.length-1]})}loadLocalLegacies(){this.legacyList.splice(0,1);const i=JSON.parse(this.localLegacyDV);i.forEach(a=>{"public"==a.privacy&&(this.legacyList.push(a),this.finalNewArr.push(a))}),this.firstLegacy=i[0],this.lastLegacy=i[i.length-1]}showModalDialog(t){this.modalPostLiked=!1,this.modalPostSaved=!1,this.likesList=[],this.savedList=[],console.log("CARD INFO"),console.log(t),this.AuthService.getLikes(t.id).subscribe(i=>{i.map(a=>{this.likesList.push(a.payload.doc.id)}),this.modalPostLiked=!!this.likesList.includes(this.userData.uid)}),this.AuthService.getLikesCount(t.id).subscribe(i=>{this.modalPostLikes=i.size}),"Images"==t.type||"standard"==t.type||""!=t.image?(this.modalPostID=t.id,this.modalPostTitle=t.title,this.modalPostTxt=t.text,this.modalPostDate=t.date,this.modalPostImage="Images"!=t.type?t.image:"",this.modalPostImages=t.postImgs,this.displayModal=!0):"Storyboard"==t.type?(this.modalPostID=t.id,this.modalPostTitle=t.title,this.modalPostTxt=t.text,this.modalPostDate=t.date,this.modalPostImage="",this.modalPostImages=t.postImgs,this.displayModal=!0):"Writing"==t.type&&(this.modalPostID=t.id,this.modalPostTitle=t.title,this.modalPostTxt=t.text,this.modalPostDate=t.date,this.modalPostImage="",this.modalPostImages=t.postImgs,this.displayWritingModal=!0),this.loadUserInfo(t)}showModalDialogDesktop(t){this.wordCount=0,this.writtenPages=[],this.modalPostLiked=!1,this.modalPostSaved=!1,this.likesList=[],this.savedList=[],console.log("CARD INFO"),console.log(t),this.AuthService.getLikes(t.id).subscribe(h=>{h.map(g=>{this.likesList.push(g.payload.doc.id)}),this.modalPostLiked=!!this.likesList.includes(this.userData.uid)}),this.AuthService.getLikesCount(t.id).subscribe(h=>{this.modalPostLikes=h.size}),"Images"==t.type||"standard"==t.type||""!=t.image?(this.modalPostID=t.id,this.modalPostTitle=t.title,this.modalPostTxt=t.text,this.modalPostDate=t.date,this.modalPostImage="Images"!=t.type?t.image:"",this.modalPostImages=t.postImgs,this.displayModal=!0):"Storyboard"==t.type?(this.modalPostID=t.id,this.modalPostTitle=t.title,this.modalPostTxt=t.text,this.modalPostDate=t.date,this.modalPostImage="",this.modalPostImages=t.postImgs,this.displayModal=!0):"Writing"==t.type&&(this.modalPostID=t.id,this.modalPostTitle=t.title,this.modalPostTxt=t.text,this.modalPostDate=t.date,this.modalPostImage="",this.modalPostImages=t.postImgs,this.displayWritingModalDesktop=!0);let i=this.modalPostTxt;var a="",u=0;for(let h=0;h<i.length;h++)a+=i[h]," "==i[h]&&(this.wordCount+=1),250==this.wordCount&&(u++,this.wordCount=0,this.writtenPages.push({PageText:a,Page:u}));this.wordCount+=1,this.loadUserInfo(t)}showModalMangaDialog(t){this.modalPostLiked=!1,this.modalPostSaved=!1,this.likesList=[],this.savedList=[],console.log("CARD INFO"),console.log(t),this.AuthService.getLikes(t.id).subscribe(i=>{i.map(a=>{this.likesList.push(a.payload.doc.id)}),this.modalPostLiked=!!this.likesList.includes(this.userData.uid)}),this.AuthService.getLikesCount(t.id).subscribe(i=>{this.modalPostLikes=i.size}),"Manga"==t.type&&(this.modalPostID=t.id,this.modalPostTitle=t.title,this.modalPostTxt=t.text,this.modalPostDate=t.date,this.modalPostImages=t.postImgs,this.mangaPageLimit=this.modalPostImages.length,this.displayMangaModal=!0),this.loadUserInfo(t)}incrementMangaPage(){this.mangaPage+1==this.mangaPageLimit&&this.closeModalDialogue(),this.readingManga?this.mangaPage=this.mangaPage+2:this.readingManga=!0}decrementMangaPage(){this.mangaPage-1==0&&(this.closeModalDialogue(),this.mangaPage=0),this.mangaPage-1>0&&(this.mangaPage=this.mangaPage-2)}closeModalDialogue(){this.preSelection?this.preSelection=!1:(this.displayModal=!1,this.displayWritingModal=!1,this.displayMangaModal=!1,this.mangaPage=0)}navigateLegacy(t){this.router.navigate(["/Legacy"],{queryParams:{id:t.id},queryParamsHandling:"merge"})}navigateChapter(t){console.log("CARDID: "+t.id),this.router.navigate(["/Reading"],{queryParams:{id:t.id},queryParamsHandling:"merge"})}showLegacyModal(t){this.modalPostLiked=!1,this.modalPostSaved=!1,this.likesList=[],this.savedList=[],this.modalPostTitle=t.title,this.modalPostTxt=t.desc,this.modalPostDate=t.updated,this.modalPostImage=t.cover,this.modalPostID=t.id,this.AuthService.getLegacyLikes(this.modalPostID).subscribe(i=>{i.map(a=>{this.likesList.push(a.payload.doc.id)}),this.modalPostLiked=!!this.likesList.includes(this.userData.uid)}),this.AuthService.getLegacySaves(this.modalPostID,this.userData.uid).subscribe(i=>{i.map(a=>{this.savedList.push(a.payload.doc.id)}),this.modalPostSaved=!!this.savedList.includes(this.modalPostID)}),this.displayLegacyModal=!0,this.loadUserInfo(t)}loadPosts(){this.allPosts.splice(0,1),this.recentPosts.splice(0,1),this.recentCollages.splice(0,1),this.recentStoryboards.splice(0,1),this.recentImgs.splice(0,1),this.recentWritings.splice(0,1),this.post.splice(0,1),this.postColB.splice(0,1),this.postColC.splice(0,1),this.AuthService.getPosts().subscribe(t=>{localStorage.removeItem("AllPosts"),this.allPosts=[],this.recentCollages=[],this.recentPosts=[],this.recentStoryboards=[],this.recentImgs=[],this.recentWritings=[],t.map(i=>{const a=i.payload.doc.data(),u={id:i.payload.doc.id,title:a.title,text:a.text,image:""!=a.postImg?a.postImg:"",numLikes:null!=a.NumLikes?a.NumLikes:"0",numComments:null!=a.NumComments?a.NumComments:"0",userKey:a.userkey,date:a.date,type:a.type,postImgs:a.postImgs,username:a.username},h={id:i.payload.doc.id,title:a.title,text:a.text,image:""!=a.postImg?a.postImg:"",numLikes:null!=a.NumLikes?a.NumLikes:"0",numComments:null!=a.NumComments?a.NumComments:"0",userKey:a.userkey,date:a.date,timestamp:a.timestamp,type:a.type,postImgs:a.postImgs,username:a.username};this.getUser(a.userkey),this.mobilePosts.push(u),this.allPosts.push(h),""==h.image||"standard"!=h.type&&null!=h.type?""==h.image&&null==h.type&&this.countWords(h.text)<99||"standard"==h.type&&this.countWords(h.text)<99?this.recentPosts.push(h):"Images"!=h.type&&"Storyboard"!=h.type&&"Manga"!=h.type||null==a.postImgs?(this.countWords(h.text)>99||"Writing"==h.type)&&(h.text.split(" ").slice(100).join(" "),h.type="Writing",this.recentWritings.push(h)):(console.log("Data upload Test for image"),console.log("Data upload Test for image II : "+a.postImgs[0]),console.log(h),h.image=a.postImgs[0],this.recentCollages.push(h)):this.recentImgs.push(h),this.imagePool.push(h.image),this.AuthService.getLikes(h.id)}),console.log("Number of Posts collected: "+this.allPosts.length),localStorage.setItem("AllPosts",JSON.stringify(this.allPosts)),this.first=this.allPosts[0],this.last=this.allPosts[this.allPosts.length-1],this.lastTimestamp=this.allPosts[this.allPosts.length-1].timestamp})}loadUserInfo(t){this.AuthService.getUserInfo(t.userKey).then(a=>{const u=a.data();this.modalPostUser=u.displayName,this.modalPostUserProfileImg=u.photoURL})}reRoute(t){}readChapter(t){var i=t;i.LegacyId=this.legacyID,console.log(t),sessionStorage.getItem("chapterData")?(console.log("Cleaning chapter Data"),sessionStorage.removeItem("chapterData"),console.log("Cleaning chapter from Service"),this.chapterService.cleanChapter(),this.chapterService.setChapter(i),sessionStorage.setItem("chapterData",JSON.stringify(i)),sessionStorage.setItem("returnValue","Home"),this.router.navigate(["/Reading"])):(console.log("No Data to report"),this.chapterService.setChapter(i),console.log("Storing new chapter"),sessionStorage.setItem("chapterData",JSON.stringify(i)),sessionStorage.setItem("returnValue","Home"),this.router.navigate(["/Reading"]))}getUser(t){return this.AuthService.getUserInfo(t).then(i=>{const a=i.data();this.tempUsername=a}),this.tempUsername}showDialog(){this.display=!0}getLikesNum(t){return this.AuthService.getLikesCount(t)}likeLegacyPost(t){const i=JSON.parse(localStorage.getItem("userData"));this.AuthService.likeLegacyPost(t,i.uid)}unlikeLegacyPost(t){this.AuthService.unLikeLegacyPost(t,this.userData.uid)}saveLegacy(t){this.AuthService.saveLegacyPost(t,this.userData.uid)}unSaveLegacy(t){this.AuthService.unSaveLegacyPost(t,this.userData.uid)}addLegacyLike(t){this.AuthService.addLegacyLike(t,this.userData.uid)}removeLegacyLike(t){this.AuthService.removeLegacyLike(t,this.userData.uid)}addLegacyReader(t){this.AuthService.addLegacyFollower(t,this.userData.uid)}removeLegacyReader(t){this.AuthService.removeLegacyFollower(t,this.userData.uid)}shuffleImg(){var t=Math.floor(19*Math.random())+1,i=Math.floor(19*Math.random())+1,a=Math.floor(19*Math.random())+1;document.getElementById("bannerImgLeft").src=this.imagePool[t],document.getElementById("bannerImgCenter").src=this.imagePool[i],document.getElementById("bannerImgRight").src=this.imagePool[a]}countWords(t){return(t=(t=(t=t.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")).split(" ").length}closeLegacyModal(){this.preSelection?this.preSelection=!1:this.displayLegacyModal=!1}displayModalImg(){this.displayImgModal=!0}displayModalWriting(){this.displayWritingModal=!0}setImageModal(){this.displayModalImg(),this.imgModal="",this.imgModal=this.modalPostImage,this.preSelection=!0}setCollageImageModal(t){this.displayModalImg(),this.imgModal="",this.imgModal=t,this.preSelection=!0}closeImgModal(){this.displayImgModal=!1}closeWritingModal(){this.displayWritingModal=!1}goProfile(){alert("Going to Profile Page"),this.preSelection=!0}likeModalPost(t){this.AuthService.likePost(t,this.userData.uid),this.modalPostLikes=+this.modalPostLikes+1}unLikeModalPost(t){this.AuthService.unLikePost(t,this.userData.uid);var i=+this.modalPostLikes;0!=i&&(this.modalPostLikes=i-1)}commentPost(){this.preSelection=!0}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(mi),r.Y36(nd),r.Y36(Pu),r.Y36(ra),r.Y36(lI))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-home"]],decls:79,vars:15,consts:[[1,"row"],[1,"hide-on-med-and-down"],["id","topBanner",1,""],["id","liveBanner",1,"center"],["id","bannerTitle",1,"white-text","hide-on-small-only"],[1,"banner","center"],["src","../../assets/Ruimel.png",1,"RuiLogo","hide-on-med-and-down"],["id","livePhotoBanner",1,"center"],["id","sections",1,"row"],["id","main",1,"row","hide"],[1,"box2"],["id","testCard","class","card",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["class","row ","id","modalDisplay",3,"click",4,"ngIf"],["class","row hide-on-small-only",4,"ngIf"],["class","row hide-on-med-and-up",4,"ngIf"],["class","row","id","main",4,"ngIf"],[1,"row","container"],["id","main",1,"row"],["id","menuTitle"],["id","testCardAevum","class","card",3,"click",4,"ngFor","ngForOf"],[1,"hide-on-small-only"],["id","regularPostScroll",1,"box"],[1,"testbox"],["id","collageCard",4,"ngFor","ngForOf"],["id","recentWritingScroll",1,"box2"],["id","WritingCard","class","card",4,"ngFor","ngForOf"],[1,"row","hide","container"],[1,"box","hide"],[1,"row","hide-on-med-and-up"],[1,"mobileBox"],[1,"col","s12","m12","s12"],[1,"eternal"],["id","eternalList",1,"center"],["id","glowText"],["id","glowText2"],["id","glowText3"],["id","glowText4"],["id","glowText5"],["id","testCard",1,"card"],["id","MainCard",1,"card"],[1,"legacyTitle"],["id","MenuIcon",1,"material-icons"],["id","legacyOptions",1,"material-icons","hide"],[1,"container"],[1,"center"],["id","modal",3,"click"],[1,"col","m8","l8","s12","offset-l2","offset-m2"],["id","modal1"],["id","userInfo",3,"click"],["id","modalProfileImg0","alt","",1,"left",3,"src"],["id","modalUser0",1,"left"],[1,"modal-content",3,"click"],[1,"modalTitle"],["id","postedImg","alt","",3,"src","click"],["class","center",4,"ngFor","ngForOf"],["id","post","disabled","",1,"white-text","center",2,"text-overflow","ellipsis","width","100%","white-space","pre-wrap","word-wrap","break-word"],[1,"modal-footer",3,"click"],[1,"extra","left"],[1,"white-text"],["id","favoriteIcon","class","material-icons red-text",3,"click",4,"ngIf"],["id","chatBubble",1,"material-icons",3,"click"],["id","postDate",1,"right"],[3,"src","click"],["id","favoriteIcon",1,"material-icons","red-text",3,"click"],["id","legacyModal",3,"click"],["id","legacyModal1"],["id","userModalLegacy",1,"card"],["id","legacyModalImg2",1,"",3,"src"],[1,"modalLegacyTitle"],[1,"solid"],[1,"col","s4"],["class","btn btn-large red darken-4",3,"click",4,"ngIf"],[1,"btn","btn-large","blue","darken-4",3,"routerLink","queryParams"],[1,"material-icons"],["class","btn btn-large blue-grey darken-4",3,"click",4,"ngIf"],[1,"btn","btn-large","red","darken-4",3,"click"],[1,"btn","btn-large","blue-grey","darken-4",3,"click"],[1,"MangaBook"],[1,"col","m12","l12","s12"],["id","mangaModal"],["id","modalProfileMangaImg0","alt","",1,"left",3,"src"],["class","center",3,"click",4,"ngIf"],["style","width: 100%;",4,"ngIf"],[1,"modal-footer","hide",3,"click"],[1,"center",3,"click"],[1,"row",2,"border","solid blue 1px"],[1,"col","s12"],["alt","coverPage","id","MangaCover",3,"src"],[2,"width","100%"],[1,"col","s6"],["alt","Page1","id","MangaPage1",3,"src","click"],["alt","Page2","id","MangaPage2",3,"src","click",4,"ngIf"],["class","white-text","id","endTxt",4,"ngIf"],["alt","Page2","id","MangaPage2",3,"src","click"],["id","endTxt",1,"white-text"],["id","modalDisplay",1,"row",3,"click"],[1,"col","s12","m12","l10","offset-l1"],["id","imageSection",1,"center"],["id","modalImg",3,"src"],[1,"row","hide-on-small-only"],["id","writingModal",3,"click"],["id","WritingModal1"],["id","userInfoModal",3,"click"],["id","modalProfileImgNew","alt","",1,"center",3,"src"],["id","modalUserName",1,"center"],[1,"extra","center"],["id","favoriteIcon","class","medium material-icons red-text",3,"click",4,"ngIf"],["id","chatBubble",1,"medium","material-icons",3,"click"],["id","postDate",1,"center"],["id","favoriteIcon",1,"medium","material-icons","red-text",3,"click"],["id","aevumTitle"],["id","testCardAevum","class","card",4,"ngFor","ngForOf"],["id","testCardAevum",1,"card"],[1,"space"],["id","aevumItem",1,"card",3,"click"],["id","legacyImg",1,"",3,"src"],["id","testCardAevum",1,"card",3,"click"],["id","aevumItem",1,"card"],["id","userRecentPosts2",1,"card",3,"click"],["id","userPostWriting",1,"card"],[1,"writingTitle"],["class","","id","recentImg",3,"src",4,"ngIf"],["id","containedTxt"],["id","writingTxt2"],["id","writtenUser2"],["id","writingOptions"],["id","recentImg",1,"",3,"src"],["id","collageCard"],["id","imageCard",1,"card",3,"click"],[1,"userPostTitle"],["id","collageImg","alt","CollageImg",3,"src"],["id","WritingCard",1,"card"],["id","userWritingLongPosts",1,"card",3,"click"],["id","userLongWriting",1,"card"],[1,"tintShade"],[1,"col","s3"],[1,"writingLongTitle"],["id","writingLongTxt"],["id","writtenLongUser"],["id","userLongWriting2",1,"card"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"app-navbar"),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r.TgZ(4,"div",3),r.TgZ(5,"h1",4),r.TgZ(6,"i"),r._uU(7,"A Palace of Poetry"),r.qZA(),r.qZA(),r.TgZ(8,"div",5),r._UZ(9,"img",6),r.qZA(),r.qZA(),r.TgZ(10,"div",7),r._UZ(11,"div",0),r.qZA(),r.qZA(),r.TgZ(12,"div",8),r.TgZ(13,"div",9),r.TgZ(14,"div",10),r.YNc(15,zV,8,2,"div",11),r.qZA(),r.qZA(),r.YNc(16,YV,33,11,"div",12),r.YNc(17,r4,33,13,"div",12),r.YNc(18,d4,29,10,"div",12),r.YNc(19,h4,4,1,"div",13),r.YNc(20,m4,32,11,"div",14),r.YNc(21,b4,32,11,"div",15),r.YNc(22,w4,5,1,"div",16),r.TgZ(23,"div",17),r._UZ(24,"hr"),r.qZA(),r.TgZ(25,"div",18),r.TgZ(26,"h5",19),r._uU(27,"Legacy Posts"),r.qZA(),r.TgZ(28,"div",10),r.YNc(29,T4,6,2,"div",20),r.qZA(),r.qZA(),r.TgZ(30,"div",21),r.TgZ(31,"div",18),r.TgZ(32,"h5",19),r._uU(33,"Recent Posts"),r.qZA(),r.TgZ(34,"div",22),r.YNc(35,I4,17,5,"div",11),r.qZA(),r.qZA(),r.TgZ(36,"div",18),r.TgZ(37,"h5",19),r._uU(38,"Recent Images"),r.qZA(),r.TgZ(39,"div",10),r.YNc(40,A4,6,2,"div",20),r.qZA(),r.qZA(),r.TgZ(41,"div",18),r.TgZ(42,"h4",19),r._uU(43,"Manga/Collages"),r.qZA(),r.TgZ(44,"div",23),r.YNc(45,x4,5,2,"div",24),r.qZA(),r.qZA(),r.TgZ(46,"div",18),r.TgZ(47,"h5",19),r._uU(48,"Recent Writings"),r.qZA(),r.TgZ(49,"div",25),r.YNc(50,D4,15,4,"div",26),r.qZA(),r.qZA(),r.TgZ(51,"div",27),r._UZ(52,"hr"),r.qZA(),r.TgZ(53,"div",28),r.YNc(54,k4,17,5,"div",11),r.qZA(),r.qZA(),r.TgZ(55,"div",17),r._UZ(56,"hr"),r.qZA(),r.TgZ(57,"div",29),r.TgZ(58,"div",30),r.YNc(59,O4,17,5,"div",11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(60,"div",0),r.TgZ(61,"div",31),r.TgZ(62,"div",32),r.TgZ(63,"ul",33),r.TgZ(64,"li"),r.TgZ(65,"h2",34),r._uU(66,"Night Day Infinity Eternal Connect Time Nocturne Protect Love"),r.qZA(),r.qZA(),r.TgZ(67,"li"),r.TgZ(68,"h2",35),r._uU(69," \u0627\u0644\u0644\u064a\u0644 \u060c \u0627\u0644\u064a\u0648\u0645 \u060c \u0627\u0644\u0644\u0627\u0646\u0647\u0627\u064a\u0629 \u060c \u0627\u0644\u0623\u0628\u062f\u064a\u0629 \u060c \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u060c \u0627\u0644\u0648\u0642\u062a \u060c \u0627\u0644\u0645\u0648\u0633\u064a\u0642\u0649 \u0627\u0644\u0647\u0627\u062f\u0626\u0629 \u060c \u062d\u0645\u0627\u064a\u0629 \u060c \u0627\u0644\u062d\u0628"),r.qZA(),r.qZA(),r.TgZ(70,"li"),r.TgZ(71,"h2",36),r._uU(72,"\u591c\u3001\u65e5\u3001\u7121\u9650\u3001\u6c38\u9060\u3001\u63a5\u7d9a\u3001\u6642\u9593\u3001\u591c\u60f3\u66f2\u3001\u5b88\u308b\u3001\u611b"),r.qZA(),r.qZA(),r.TgZ(73,"li"),r.TgZ(74,"h2",37),r._uU(75,"\u0397\u03bc\u03ad\u03c1\u03b1 \u039d\u03cd\u03c7\u03c4\u03b1\u03c2 \u0386\u03c0\u03b5\u03b9\u03c1\u03b7 \u0391\u03b9\u03ce\u03bd\u03b9\u03b1 \u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7 \u03a7\u03c1\u03cc\u03bd\u03bf\u03c2 \u03a0\u03c1\u03bf\u03c3\u03c4\u03b1\u03c4\u03b5\u03cd\u03c3\u03c4\u03b5 \u03c4\u03b7\u03bd \u0391\u03b3\u03ac\u03c0\u03b7"),r.qZA(),r.qZA(),r.TgZ(76,"li"),r.TgZ(77,"h2",38),r._uU(78,"\u591c\uff0c\u5929\uff0c,\u65e0\u9650\uff0c\u6c38\u6052\uff0c\u8fde\u63a5\uff0c\u65f6\u95f4\uff0c\u591c\u66f2\uff0c\u4fdd\u62a4\uff0c\u7231"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(15),r.Q6J("ngForOf",i.menuItems),r.xp6(1),r.Q6J("ngIf",i.displayModal),r.xp6(1),r.Q6J("ngIf",i.displayLegacyModal),r.xp6(1),r.Q6J("ngIf",i.displayMangaModal),r.xp6(1),r.Q6J("ngIf",i.displayImgModal),r.xp6(1),r.Q6J("ngIf",i.displayWritingModal),r.xp6(1),r.Q6J("ngIf",i.displayWritingModal),r.xp6(1),r.Q6J("ngIf",i.newAevum),r.xp6(7),r.Q6J("ngForOf",i.legacyList),r.xp6(6),r.Q6J("ngForOf",i.recentPosts),r.xp6(5),r.Q6J("ngForOf",i.recentImgs),r.xp6(5),r.Q6J("ngForOf",i.recentCollages),r.xp6(5),r.Q6J("ngForOf",i.recentWritings),r.xp6(4),r.Q6J("ngForOf",i.recentPosts),r.xp6(5),r.Q6J("ngForOf",i.recentPosts))},directives:[nC,ns,lr,Og],styles:['@import"https://fonts.googleapis.com/css?family=Allura|Dancing+Script|Parisienne&display=swap";#main[_ngcontent-%COMP%]{width:100%}#liveBanner[_ngcontent-%COMP%]{height:225px;position:absolute;top:6.5%;width:100%;z-index:3}#livePhotoBanner[_ngcontent-%COMP%]{height:175px;position:absolute;background-color:#13151b;top:7.5%;width:100%;z-index:-3}.banner[_ngcontent-%COMP%]{position:absolute;top:0%;width:100%}.horizontal-mat-list-item[_ngcontent-%COMP%]{float:right;display:list-item}.RuiLogo[_ngcontent-%COMP%]{width:8%;border-radius:50%;z-index:-1}#bannerTitle[_ngcontent-%COMP%]{font-family:"Allura",cursive;position:absolute;top:10%;width:100%;z-index:3}#sections[_ngcontent-%COMP%]{position:absolute;width:100%;top:29%}#menuTitle[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif;padding-left:1%;color:#c4dcff}#aevumTitle[_ngcontent-%COMP%]{color:#bd7d2d;font-family:"Times New Roman",Times,serif;padding-left:1%}#activeTitle[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif;padding-left:1%;color:#c4dcff;position:relative;z-index:-1}#testCard[_ngcontent-%COMP%]{width:75%;min-width:75;display:inline-block;background-color:#0000}#testCardAevum[_ngcontent-%COMP%]{width:25%;min-width:25%;max-width:25%;display:inline-block;background-color:#0000}#testCard2[_ngcontent-%COMP%]{width:5%;min-width:75;display:inline-block;background-color:#f000}#WritingCard[_ngcontent-%COMP%]{width:75%;height:100%;display:inline-block;border:none;background-color:#0000;padding:0%}#page1[_ngcontent-%COMP%]{border:solid white 2px;height:100%;min-height:100%;width:95%;background-color:#535d80}#WrittenPage[_ngcontent-%COMP%]{width:75%;height:100%;display:inline-block;border:solid white 2px;background-color:#0000;padding:0%}#collageCard[_ngcontent-%COMP%]{height:200px;width:500px;border:none;border-radius:10px;display:inline-block;background-color:#0000;padding:1%}#imageCard[_ngcontent-%COMP%]{border-radius:10px;min-height:175px;height:175px;max-height:175px;background-color:#0000}#imageCard[_ngcontent-%COMP%]:hover{cursor:pointer;border:solid 2px orange;border-radius:10px;min-height:175px;height:175px;max-height:175px;background-color:#0000}#collageImg[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:15px}.mobileBox[_ngcontent-%COMP%]{overflow:scroll;flex-direction:column;display:flex;position:relative;animation:slide 3.5s;animation-direction:normal;padding-left:5%}.box[_ngcontent-%COMP%]{overflow:scroll;flex-direction:row;display:flex;position:relative;animation:slide 3.5s;animation-direction:normal}.testbox[_ngcontent-%COMP%]{padding-left:5px;overflow:scroll;flex-direction:row;display:flex;position:relative;animation:slide 3.5s;animation-direction:normal}.box2[_ngcontent-%COMP%]{overflow:scroll;flex-direction:row;display:flex;position:relative;animation:rightSlide 3.5s;animation-direction:normal}@keyframes rightSlide{0%{right:90%;top:0px}to{right:0%;top:0px}}#menuCards[_ngcontent-%COMP%]{width:90%;padding-left:5%;display:inline-block}#MainCard[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:100px;width:275px;border:solid rgb(40,97,255) 1px;display:inline-block}#MainCard[_ngcontent-%COMP%]:hover{background-color:#290408;border-radius:15px;height:100px;cursor:pointer;border:solid rgb(255,123,0) 2px}#activeUserCard[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:100px;width:300px;display:inline-block;max-width:250px;position:relative;background:linear-gradient(to right,red,purple);padding:2px}#activeUserCard[_ngcontent-%COMP%]:hover{background-color:#290408;border-radius:15px;height:100px;cursor:pointer;border:solid rgb(255,123,0) 2px}#userPosts[_ngcontent-%COMP%]{background-color:#030424;border-radius:0;height:300px;width:300px;border:solid black 1px;display:inline-block}#userWritingPosts[_ngcontent-%COMP%]{background-color:#03042400;border-radius:15px;padding-left:20%;height:250px;width:700px;display:inline-block}#userWritingLongPosts[_ngcontent-%COMP%]{background-color:#03042400;border-radius:15px;padding-left:20%;height:250px;width:700px;display:inline-block}#readingPages[_ngcontent-%COMP%]{background-color:#03042400;border-radius:15px;padding-left:20%;height:50%;width:100%;display:inline-block}#userRecentPosts[_ngcontent-%COMP%]{background-color:#03042400;border-radius:15px;padding-left:20%;height:500px;width:700px;display:inline-block}#userRecentPosts2[_ngcontent-%COMP%]{background-color:#03042400;height:350px;width:500px;padding-right:5%;padding-left:10;display:inline-block;border:none}#userPosts[_ngcontent-%COMP%]:hover{background-color:#290408;border-radius:15px;height:350px;width:350px;cursor:pointer;border:solid rgb(255,123,0) 2px}#aevumItem[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:125px;width:80%;display:inline-block}#aevumItem[_ngcontent-%COMP%]:hover{background-color:#290408;border-radius:15px;height:150px;cursor:pointer;border:solid rgb(255,38,0) 2px}#userLegacy[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:200px;width:100%;border:solid black 1px;display:inline-block}#userImgRecent[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:200px;width:400px;border:solid black 1px;display:inline-block}#userImgRecent[_ngcontent-%COMP%]:hover{background-color:#030424;border-radius:15px;height:200px;width:400px;border:solid rgb(241,158,32) 1px;display:inline-block;cursor:pointer}#userModalLegacy[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:500px;width:100%;border:solid black 1px;display:inline-block}#userLegacy[_ngcontent-%COMP%]:hover{background-color:#290408;border-radius:15px;height:225px;cursor:pointer;border:solid rgb(255,123,0) 2px}.space[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%}#userWriting[_ngcontent-%COMP%]{background-color:#141736;border-radius:15px;height:400px;width:400px;padding:5%;border:solid black 1px;display:inline-block}#userPostWriting[_ngcontent-%COMP%]{background-color:#12141a;border-radius:0;min-height:50%;max-height:100%;height:100%;width:100%;padding:5%;border:solid rgb(146,179,255) 1px;display:inline-block;overflow:hidden;text-overflow:ellipsis}#userLongWriting[_ngcontent-%COMP%]{background-color:#12141a;border-radius:0;min-height:50%;max-height:100%;height:100%;width:100%;padding:5%;border:solid rgb(146,179,255) 1px;display:inline-block;overflow:hidden;text-overflow:ellipsis}#userLongWriting0[_ngcontent-%COMP%]{background-color:#12141a;border-radius:0;height:450px;width:80%;padding:5%;border:solid rgb(146,179,255) 1px;display:inline-block;overflow:hidden;text-overflow:ellipsis}#userLongWriting0[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#181b24;border-radius:0;min-height:50%;max-height:100%;width:100%;padding:5%;border:solid rgb(212,149,32) 1px;display:inline-block;overflow:hidden;text-overflow:ellipsis}#userLongWriting2[_ngcontent-%COMP%]{background-color:#12141a;border-radius:0;width:100%;padding:5%;border:solid rgb(146,179,255) 1px;display:inline-block;overflow:hidden;text-overflow:ellipsis}#userLongWriting2[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#181b24;border-radius:0;min-height:50%;max-height:100%;width:100%;padding:5%;border:solid rgb(212,149,32) 1px;display:inline-block;overflow:hidden;text-overflow:ellipsis}#userWriting[_ngcontent-%COMP%]:hover{background-color:#1d1c1c;border-radius:15px;height:400px;cursor:pointer}#userLongWriting[_ngcontent-%COMP%]:hover{background-color:#16134b;cursor:pointer;border-radius:0;height:100%;width:100%;padding:5%;border:solid rgb(255,255,255) 2px;display:inline-block}.writingTitle[_ngcontent-%COMP%]{color:#788ddb;text-shadow:5px 5px #000000;font-family:"Times New Roman",Times,serif;font-size:max(2vw,2px);text-align:center;z-index:4}.writingLongTitle[_ngcontent-%COMP%]{color:#788ddb;text-shadow:5px 5px #000000;font-family:"Times New Roman",Times,serif;font-size:max(2vw,2px);text-align:center;position:absolute;z-index:4;top:50%}#wprofileImg[_ngcontent-%COMP%]{width:15%;border-radius:50%;position:absolute;bottom:0%;left:0%;opacity:.4;z-index:1}#writtenUser[_ngcontent-%COMP%]{position:absolute;left:5%;top:-5%;font-size:30px;z-index:2;color:#bd7d2d}#writtenLongUser[_ngcontent-%COMP%]{position:absolute;left:5%;top:-5%;font-size:20px;z-index:2;color:#bd7d2d}.tintShade[_ngcontent-%COMP%]{background-color:#000000bd;z-index:2;position:absolute;top:0%;left:0%;width:120%;height:120%}#writingLongTxt[_ngcontent-%COMP%]{text-overflow:ellipsis;padding-left:5%;padding-right:5%;position:absolute;z-index:0;color:#ffffff6b}#writtenUser2[_ngcontent-%COMP%]{position:absolute;left:5%;top:-5%;font-size:25px;z-index:2;color:#bd7d2d}#writingOptions[_ngcontent-%COMP%]{position:absolute;right:1%;bottom:0%;font-size:90%;z-index:5;color:#474747}#writingOptions[_ngcontent-%COMP%]:hover{position:absolute;right:1%;bottom:0%;font-size:90%;z-index:5;color:coral;cursor:pointer}.userPostTitle[_ngcontent-%COMP%]{color:#f5f5f5;text-shadow:5px 5px #000000;font-family:"Times New Roman",Times,serif;font-size:max(2vw,2px);position:absolute;left:10%;top:0%;z-index:5}l[_ngcontent-%COMP%]   #userPostImg[_ngcontent-%COMP%]{max-width:4%;width:4%;height:10%;border-radius:15px}.postImg[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:15px}.postCollageImg0[_ngcontent-%COMP%]{object-fit:cover;width:350px;height:150px;border-radius:15px;position:absolute;top:0%;z-index:4;box-shadow:5px 5px 10px 10px #00000081}.postCollageImg1[_ngcontent-%COMP%]{position:absolute;top:25%;z-index:3;object-fit:cover;width:350px;height:150px;border-radius:15px;box-shadow:5px 5px 10px 10px #00000081}.postCollageImg2[_ngcontent-%COMP%]{position:absolute;top:45%;z-index:2;object-fit:cover;width:350px;height:150px;border-radius:15px;box-shadow:5px 5px 10px 10px #00000081}.postCollageImg3[_ngcontent-%COMP%]{position:absolute;top:60%;z-index:1;object-fit:cover;width:350px;height:150px;border-radius:15px;box-shadow:5px 5px 10px 10px #00000081}.legacyTitle[_ngcontent-%COMP%]{color:#f5f5f5;text-shadow:5px 5px #000000;font-family:"Times New Roman",Times,serif;font-size:max(2vw,2px);position:absolute;right:10%;bottom:5%;z-index:3}.recentImgTitle[_ngcontent-%COMP%]{color:#f5f5f5;text-shadow:5px 5px #000000;font-family:"Times New Roman",Times,serif;font-size:max(2vw,2px);position:absolute;right:10%;bottom:5%;z-index:3}#legacyImg[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:15px}#recentImg[_ngcontent-%COMP%]{object-fit:cover;width:200px;height:100px;border-radius:15px}#recentImg2[_ngcontent-%COMP%]{object-fit:cover;width:200px;height:150px;border-radius:15px}#legacyModalImg2[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;object-fit:cover;width:50%;max-height:500px;border-radius:15px}#recentImg[_ngcontent-%COMP%]{object-fit:cover;width:70%;height:0%;border-radius:15px}#legacyTxt[_ngcontent-%COMP%]{text-overflow:ellipsis;padding-left:5%;padding-right:5%;height:100px;max-height:50px;position:absolute;z-index:4;color:#ffffff6b}#writingTxt[_ngcontent-%COMP%]{text-overflow:ellipsis;padding-left:5%;padding-right:5%;position:absolute;z-index:4;color:#ffffff6b}#writingTxt2[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif;font-size:20px;text-align:center;z-index:4;color:#ffffffce;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-height:25x;max-height:200px;-webkit-line-clamp:10;-webkit-box-orient:vertical}#containedTxt[_ngcontent-%COMP%]{text-overflow:ellipsis}#MenuIcon[_ngcontent-%COMP%]{position:absolute;left:5%;top:5%;font-size:500%;z-index:1;background-color:#5083c77a;color:#ffa743;opacity:.8;padding:3%;border-radius:50px}#userPostOptions[_ngcontent-%COMP%]{position:absolute;right:0%;bottom:5%;font-size:250%;z-index:5;color:#fff}#userPostOptions[_ngcontent-%COMP%]:hover{position:absolute;right:0%;bottom:5%;font-size:250%;z-index:5;color:coral;cursor:pointer}#userPostFav[_ngcontent-%COMP%]{position:absolute;left:3%;bottom:2%;font-size:250%;z-index:5;color:red}#userPostFav[_ngcontent-%COMP%]:hover{position:absolute;left:0%;bottom:0%;font-size:350%;z-index:5;color:coral;cursor:pointer}#userLikes[_ngcontent-%COMP%]{position:absolute;left:13%;bottom:0%;font-size:200%;z-index:5;color:#fff}#legacyOptions[_ngcontent-%COMP%]{position:absolute;right:0%;top:0%;font-size:250%;z-index:5;color:#fff}#legacyOptions[_ngcontent-%COMP%]:hover{position:absolute;right:0%;top:0%;font-size:250%;z-index:5;color:coral;cursor:pointer}ul#menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}#modal[_ngcontent-%COMP%]{position:fixed;z-index:10;padding-top:10px;padding-bottom:15%;left:0;top:7%;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}#writingModal[_ngcontent-%COMP%]{position:fixed;z-index:10;padding-top:0;padding-bottom:15%;left:0;top:3%;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#000000e0}#legacyModal[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;position:fixed;z-index:10;padding-top:10px;padding-bottom:15%;left:0;top:7%;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}#legacyModalImg[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;width:15%}#modal1[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;background-color:#161a23;border:solid #535D80 2px;width:100%;height:100%;padding:1%}#mangaModal[_ngcontent-%COMP%]{background-color:#000000ce;border:solid #535D80 2px;width:100%;height:100%;padding:1%;position:fixed;overflow:hidden;top:0%}#mangamodal1[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;background-color:#000000dc;border:solid #535D80 2px;width:100%;height:100%;padding:1%}#WritingModal1[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;width:100%;height:100%;padding:1%}#legacyModal1[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;background-color:#121627;border-radius:20px;border:solid rgb(223,153,23) 1px;width:100%;height:100%;padding:0% 00.5% 10%}#modalUser[_ngcontent-%COMP%]{color:#ca903a;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif;font-size:250%;padding-left:10px}#modalUserName[_ngcontent-%COMP%]{color:#ca903a;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif;font-size:250%;padding-left:10px}#modalProfileImg0[_ngcontent-%COMP%]{position:absolute;top:5%;left:2%;width:10%;border-radius:50%;z-index:1}#modalProfileMangaImg0[_ngcontent-%COMP%]{position:absolute;top:5%;left:2%;width:5%;border-radius:50%;z-index:1}#modalUser0[_ngcontent-%COMP%]{color:#ca903a;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif;font-size:125%;padding-left:10px;position:relative;z-index:3;left:12%}#modalProfileImg[_ngcontent-%COMP%]{position:absolute;top:5%;width:5%;border-radius:50%;z-index:1}#modalProfileImgNew[_ngcontent-%COMP%]{width:15%;border-radius:50%}#userInfo[_ngcontent-%COMP%]{position:relative;padding-top:0%;left:0%;top:0%}#userInfoModal[_ngcontent-%COMP%]{position:left;padding-top:5%}.modal-content[_ngcontent-%COMP%]{position:relative;text-align:center}#MangaCover[_ngcontent-%COMP%]{width:600px;min-width:600px;max-width:600px;text-align:center}#MangaCover[_ngcontent-%COMP%]:hover{width:40%;border:solid white 1px;text-align:center;cursor:pointer}#MangaPage1[_ngcontent-%COMP%]{width:80%;max-height:850px;border:solid white .5px}#MangaPage2[_ngcontent-%COMP%]{width:80%;max-height:850px;border:solid white .5px}#MangaPage1[_ngcontent-%COMP%]:hover{width:80%;border:solid white .5px;cursor:pointer}#endTxt[_ngcontent-%COMP%]{text-align:center;height:100%;width:100%}#MangaPage2[_ngcontent-%COMP%]:hover{width:80%;border:solid white 2px;cursor:pointer}#modalImg[_ngcontent-%COMP%]{min-width:50%;max-width:75%}#modalDisplay[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;position:fixed;z-index:11;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modal-footer[_ngcontent-%COMP%]{padding:2%}.modalTitle[_ngcontent-%COMP%]{color:#8ba1e2;font-family:Georgia,"Times New Roman",Times,serif}.modalLegacyTitle[_ngcontent-%COMP%]{color:#cc9620;font-family:Georgia,"Times New Roman",Times,serif}#postedImg[_ngcontent-%COMP%]{width:40%}#postedImg[_ngcontent-%COMP%]:hover{width:40%;cursor:pointer}#chatBubble[_ngcontent-%COMP%]{color:#8ba1e2}#postDate[_ngcontent-%COMP%]{color:#535d80}#post[_ngcontent-%COMP%]{font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}.eternal[_ngcontent-%COMP%]{color:#33394eb3;font-family:"Parisienne";position:fixed;z-index:-1;top:20%;left:1%;width:100%}#glowText[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:relative;animation-iteration-count:infinite}#glowTextLag[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:absolute;left:-1000px;overflow:hidden}#glowText2[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example2;animation-duration:50s;position:relative;animation-iteration-count:infinite}#glowText3[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:relative;animation-iteration-count:infinite}#glowText4[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example2;animation-duration:50s;position:relative;animation-iteration-count:infinite}#glowText5[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:relative;animation-iteration-count:infinite}@keyframes example{0%{left:0%;top:0px}50%{left:50%;top:0px}to{left:0%;top:0px}}@keyframes example2{0%{right:0%;top:0px}50%{right:50%;top:0px}to{right:0%;top:0px}}.postModalCollageImg0[_ngcontent-%COMP%]{object-fit:cover;width:50%;height:150px;border-radius:15px;z-index:4;box-shadow:5px 5px 10px 10px #00000081}.postModalCollageImg1[_ngcontent-%COMP%]{z-index:3;object-fit:cover;width:50%;height:150px;border-radius:15px;box-shadow:5px 5px 10px 10px #00000081}.postModalCollageImg2[_ngcontent-%COMP%]{z-index:2;object-fit:cover;width:50%;height:150px;border-radius:15px;box-shadow:5px 5px 10px 10px #00000081}.postModalCollageImg3[_ngcontent-%COMP%]{z-index:1;object-fit:cover;width:50%;height:150px;border-radius:15px;box-shadow:5px 5px 10px 10px #00000081}.postModalCollageImg0[_ngcontent-%COMP%]:hover{cursor:pointer;object-fit:cover;width:50%;height:150px;border:solid rgb(204,132,37) 2px;border-radius:15px;z-index:4;box-shadow:5px 5px 10px 10px #00000081}.postModalCollageImg1[_ngcontent-%COMP%]:hover{cursor:pointer;z-index:3;object-fit:cover;width:50%;height:150px;border:solid rgb(204,132,37) 2px;border-radius:15px;box-shadow:5px 5px 10px 10px #00000081}.postModalCollageImg2[_ngcontent-%COMP%]:hover{cursor:pointer;z-index:2;object-fit:cover;width:50%;height:150px;border-radius:15px;border:solid rgb(204,132,37) 2px;box-shadow:5px 5px 10px 10px #00000081}.postModalCollageImg3[_ngcontent-%COMP%]:hover{cursor:pointer;z-index:1;object-fit:cover;width:50%;height:150px;border-radius:15px;border:solid rgb(204,132,37) 2px;box-shadow:5px 5px 10px 10px #00000081}@keyframes slideInFromBelow{0%{transform:translateY(100%)}to{transform:translateY(0)}}#favoriteIcon[_ngcontent-%COMP%]:hover{cursor:pointer}']}),n})();function R4(n,e){if(1&n&&(r.TgZ(0,"div",21),r.TgZ(1,"div",22),r.TgZ(2,"div",23),r.TgZ(3,"h4",24),r._uU(4),r.qZA(),r._UZ(5,"img",25),r.qZA(),r.qZA(),r.qZA()),2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.title),r.xp6(1),r.s9C("src",t.cover,r.LSH)}}function L4(n,e){if(1&n&&(r.TgZ(0,"div",21),r.TgZ(1,"div",22),r.TgZ(2,"div",23),r.TgZ(3,"h4",24),r._uU(4),r.qZA(),r._UZ(5,"img",25),r.qZA(),r.qZA(),r.qZA()),2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.title),r.xp6(1),r.s9C("src",t.cover,r.LSH)}}let N4=(()=>{class n{constructor(){this.AevumMenuList=[{title:"",cover:"",desc:"",action:""}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-discover"]],decls:46,vars:2,consts:[[1,"hide-on-small-only"],["id","topBanner",1,""],["id","liveBanner",1,"center"],["id","bannerTitle",1,"white-text","hide-on-small-only"],[1,"banner","center"],["src","../../assets/Ruimel.png",1,"RuiLogo","hide-on-small-only"],["id","livePhotoBanner",1,"center"],[1,"row"],["id","topPadding",1,"row"],["id","main",1,"row"],["id","menuTitle"],[1,"box2"],["id","testCardAevum","class","card",4,"ngFor","ngForOf"],[1,"col","s12","m12","s12"],[1,"eternal"],["id","eternalList",1,"center"],["id","glowText"],["id","glowText2"],["id","glowText3"],["id","glowText4"],["id","glowText5"],["id","testCardAevum",1,"card"],[1,"space"],["id","aevumItem",1,"card"],[1,"legacyTitle"],["id","legacyImg",1,"",3,"src"]],template:function(t,i){1&t&&(r._UZ(0,"app-navbar"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r.TgZ(4,"h1",3),r.TgZ(5,"i"),r._uU(6,"Discover Obsidian"),r.qZA(),r.qZA(),r.TgZ(7,"div",4),r._UZ(8,"img",5),r.qZA(),r.qZA(),r.TgZ(9,"div",6),r._UZ(10,"div",7),r.qZA(),r.qZA(),r.TgZ(11,"div",8),r._UZ(12,"br"),r.qZA(),r.TgZ(13,"div",9),r.TgZ(14,"h4",10),r._uU(15," \xa0 Aevum Collections"),r.qZA(),r.TgZ(16,"div",11),r.YNc(17,R4,6,2,"div",12),r.qZA(),r.qZA(),r.TgZ(18,"div",7),r._UZ(19,"br"),r.qZA(),r.TgZ(20,"div",9),r.TgZ(21,"h4",10),r._uU(22," \xa0 Posts"),r.qZA(),r.TgZ(23,"div",11),r.YNc(24,L4,6,2,"div",12),r.qZA(),r.qZA(),r.TgZ(25,"div",7),r._UZ(26,"br"),r.qZA(),r.qZA(),r.TgZ(27,"div",7),r.TgZ(28,"div",13),r.TgZ(29,"div",14),r.TgZ(30,"ul",15),r.TgZ(31,"li"),r.TgZ(32,"h2",16),r._uU(33,"Night Day Infinity Eternal Connect Time Nocturne Protect Love"),r.qZA(),r.qZA(),r.TgZ(34,"li"),r.TgZ(35,"h2",17),r._uU(36," \u0627\u0644\u0644\u064a\u0644 \u060c \u0627\u0644\u064a\u0648\u0645 \u060c \u0627\u0644\u0644\u0627\u0646\u0647\u0627\u064a\u0629 \u060c \u0627\u0644\u0623\u0628\u062f\u064a\u0629 \u060c \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u060c \u0627\u0644\u0648\u0642\u062a \u060c \u0627\u0644\u0645\u0648\u0633\u064a\u0642\u0649 \u0627\u0644\u0647\u0627\u062f\u0626\u0629 \u060c \u062d\u0645\u0627\u064a\u0629 \u060c \u0627\u0644\u062d\u0628"),r.qZA(),r.qZA(),r.TgZ(37,"li"),r.TgZ(38,"h2",18),r._uU(39,"\u591c\u3001\u65e5\u3001\u7121\u9650\u3001\u6c38\u9060\u3001\u63a5\u7d9a\u3001\u6642\u9593\u3001\u591c\u60f3\u66f2\u3001\u5b88\u308b\u3001\u611b"),r.qZA(),r.qZA(),r.TgZ(40,"li"),r.TgZ(41,"h2",19),r._uU(42,"\u0397\u03bc\u03ad\u03c1\u03b1 \u039d\u03cd\u03c7\u03c4\u03b1\u03c2 \u0386\u03c0\u03b5\u03b9\u03c1\u03b7 \u0391\u03b9\u03ce\u03bd\u03b9\u03b1 \u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7 \u03a7\u03c1\u03cc\u03bd\u03bf\u03c2 \u03a0\u03c1\u03bf\u03c3\u03c4\u03b1\u03c4\u03b5\u03cd\u03c3\u03c4\u03b5 \u03c4\u03b7\u03bd \u0391\u03b3\u03ac\u03c0\u03b7"),r.qZA(),r.qZA(),r.TgZ(43,"li"),r.TgZ(44,"h2",20),r._uU(45,"\u591c\uff0c\u5929\uff0c,\u65e0\u9650\uff0c\u6c38\u6052\uff0c\u8fde\u63a5\uff0c\u65f6\u95f4\uff0c\u591c\u66f2\uff0c\u4fdd\u62a4\uff0c\u7231"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(17),r.Q6J("ngForOf",i.AevumMenuList),r.xp6(7),r.Q6J("ngForOf",i.AevumMenuList))},directives:[nC,ns],styles:['#liveBanner[_ngcontent-%COMP%]{height:225px;position:absolute;top:7.5%;width:100%;z-index:3}#livePhotoBanner[_ngcontent-%COMP%]{height:175px;position:absolute;background-color:#13151b;top:7.5%;width:100%;z-index:-3}.banner[_ngcontent-%COMP%]{position:absolute;top:0%;width:100%}.horizontal-mat-list-item[_ngcontent-%COMP%]{float:right;display:list-item}#topPadding[_ngcontent-%COMP%]{padding-bottom:10%}#menuTitle[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif;padding-left:1%;color:#c4dcff}.box2[_ngcontent-%COMP%]{overflow:scroll;flex-direction:row;display:flex;position:relative;animation:rightSlide 3.5s;animation-direction:normal}.RuiLogo[_ngcontent-%COMP%]{width:8%;border-radius:50%;z-index:-1}#bannerTitle[_ngcontent-%COMP%]{font-family:"Allura",cursive;position:absolute;top:10%;width:100%;z-index:3}.eternal[_ngcontent-%COMP%]{color:#33394eb3;font-family:"Parisienne";position:fixed;z-index:-1;top:20%;left:1%;width:100%}#glowText[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:relative;animation-iteration-count:infinite}#glowTextLag[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:absolute;left:-1000px;overflow:hidden}#glowText2[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example2;animation-duration:50s;position:relative;animation-iteration-count:infinite}#glowText3[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:relative;animation-iteration-count:infinite}#glowText4[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example2;animation-duration:50s;position:relative;animation-iteration-count:infinite}#glowText5[_ngcontent-%COMP%]{font-family:"Parisienne";animation-direction:normal;animation-name:example;animation-duration:50s;position:relative;animation-iteration-count:infinite}@keyframes example{0%{left:0%;top:0px}50%{left:50%;top:0px}to{left:0%;top:0px}}@keyframes example2{0%{right:0%;top:0px}50%{right:50%;top:0px}to{right:0%;top:0px}}']}),n})();function F4(n,e){if(1&n&&(r.TgZ(0,"h1",25),r.TgZ(1,"u"),r._uU(2),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Oqu(t.title)}}function U4(n,e){if(1&n&&(r.TgZ(0,"h1",26),r.TgZ(1,"u"),r._uU(2),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.hij("Editing ",t.title,"")}}function Z4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",39),r.NdJ("click",function(){return r.CHM(t),r.oxw(3).updateLegacy()}),r._uU(1,"Save Changes"),r.qZA()}}function B4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",39),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(3);return a.editMode=!a.editMode}),r._uU(1,"Cancel Editing"),r.qZA()}}function V4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",40),r.NdJ("click",function(){return r.CHM(t),r.oxw(3).deleteLegacy()}),r._uU(1,"Delete Legacy"),r.qZA()}}function q4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",41),r.NdJ("click",function(){return r.CHM(t),r.oxw(3).deleteChapters()}),r._uU(1,"Delete Selected"),r.qZA()}}function H4(n,e){if(1&n&&(r.TgZ(0,"div",35),r.YNc(1,Z4,2,0,"div",36),r.TgZ(2,"div",1),r._UZ(3,"br"),r.qZA(),r.YNc(4,B4,2,0,"div",36),r.TgZ(5,"div",1),r._UZ(6,"br"),r.qZA(),r.YNc(7,V4,2,0,"div",37),r.TgZ(8,"div",1),r._UZ(9,"br"),r.qZA(),r.YNc(10,q4,2,0,"div",38),r.qZA()),2&n){const t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",t.isAuthor&&t.editMode),r.xp6(3),r.Q6J("ngIf",t.isAuthor&&t.editMode),r.xp6(3),r.Q6J("ngIf",t.isAuthor&&t.editMode),r.xp6(3),r.Q6J("ngIf",t.isAuthor&&t.editMode&&t.FDL>0)}}function j4(n,e){1&n&&(r.TgZ(0,"div",45),r._uU(1,"Standard Post"),r.qZA())}function $4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",46),r.NdJ("click",function(){return r.CHM(t),r.oxw(3).editLegacy()}),r._uU(1,"New Chapter"),r.qZA()}}function z4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",47),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(3);return a.newMode=!a.newMode}),r._uU(1,"Cancel"),r.qZA()}}function W4(n,e){if(1&n&&(r.TgZ(0,"div",35),r.YNc(1,j4,2,0,"div",42),r.TgZ(2,"div",1),r._UZ(3,"br"),r.qZA(),r.YNc(4,$4,2,0,"div",43),r.TgZ(5,"div",1),r._UZ(6,"br"),r.qZA(),r.YNc(7,z4,2,0,"div",44),r.TgZ(8,"div",1),r._UZ(9,"br"),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",t.isAuthor&&t.newMode),r.xp6(3),r.Q6J("ngIf",t.isAuthor&&t.newMode),r.xp6(3),r.Q6J("ngIf",t.isAuthor&&t.newMode)}}function G4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",39),r.NdJ("click",function(){return r.CHM(t),r.oxw(3).newMode=!0}),r._uU(1,"New Entry"),r.qZA()}}function K4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",39),r.NdJ("click",function(){r.CHM(t);const a=r.oxw(3);return a.editMode=!a.editMode}),r._uU(1,"Edit Legacy"),r.qZA()}}function Y4(n,e){if(1&n&&(r.TgZ(0,"div",35),r.TgZ(1,"div",1),r._UZ(2,"br"),r.qZA(),r.YNc(3,G4,2,0,"div",36),r.TgZ(4,"div",1),r._UZ(5,"br"),r.qZA(),r.YNc(6,K4,2,0,"div",36),r.qZA()),2&n){const t=r.oxw(2);r.xp6(3),r.Q6J("ngIf",t.isAuthor),r.xp6(3),r.Q6J("ngIf",t.isAuthor)}}function Q4(n,e){if(1&n&&(r.TgZ(0,"div",27),r.TgZ(1,"div",28),r.TgZ(2,"div",29),r.TgZ(3,"div",20),r._UZ(4,"img",30),r.TgZ(5,"h4",31),r.TgZ(6,"b"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"div",1),r.TgZ(9,"div",22),r._UZ(10,"hr",32),r.qZA(),r.qZA(),r.TgZ(11,"div",22),r.TgZ(12,"h5",33),r._uU(13),r.qZA(),r.TgZ(14,"h5",33),r._uU(15),r.qZA(),r.TgZ(16,"h5",33),r._uU(17),r.qZA(),r.YNc(18,H4,11,4,"div",34),r.YNc(19,W4,10,3,"div",34),r.YNc(20,Y4,7,2,"div",34),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(4),r.s9C("src",t.authorProfileImg,r.LSH),r.xp6(3),r.Oqu(t.author),r.xp6(6),r.hij("Entries: ",t.Entries,""),r.xp6(2),r.hij("Likes: ",t.Likes,""),r.xp6(2),r.hij("Readers: ",t.Readers,""),r.xp6(1),r.Q6J("ngIf",t.editMode),r.xp6(1),r.Q6J("ngIf",t.newMode),r.xp6(1),r.Q6J("ngIf",!t.newMode)}}function J4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",50),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).followLegacy()}),r._uU(1,"Follow"),r.qZA()}}function X4(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",50),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).unFollowLegacy()}),r._uU(1,"Unfollow"),r.qZA()}}function eq(n,e){if(1&n&&(r.TgZ(0,"div",27),r.TgZ(1,"div",28),r.TgZ(2,"div",48),r.TgZ(3,"div",20),r._UZ(4,"img",30),r.TgZ(5,"h4",31),r.TgZ(6,"b"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"div",1),r.TgZ(9,"div",22),r._UZ(10,"hr",32),r.qZA(),r.qZA(),r.TgZ(11,"div",22),r.TgZ(12,"h5",33),r._uU(13),r.qZA(),r.TgZ(14,"h5",33),r._uU(15),r.qZA(),r.TgZ(16,"h5",33),r._uU(17),r.qZA(),r.TgZ(18,"div",1),r._UZ(19,"br"),r.qZA(),r.YNc(20,J4,2,0,"div",49),r.YNc(21,X4,2,0,"div",49),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(4),r.s9C("src",t.authorProfileImg,r.LSH),r.xp6(3),r.Oqu(t.author),r.xp6(6),r.hij("Entries: ",t.Entries,""),r.xp6(2),r.hij("Likes: ",t.Likes,""),r.xp6(2),r.hij("Readers: ",t.Readers,""),r.xp6(3),r.Q6J("ngIf",!t.isAuthor&&!t.isFollowing),r.xp6(1),r.Q6J("ngIf",!t.isAuthor&&t.isFollowing)}}function tq(n,e){if(1&n&&r._UZ(0,"img",62),2&n){const t=r.oxw(2);r.s9C("src",t.cover,r.LSH)}}function nq(n,e){if(1&n&&r._UZ(0,"img",62),2&n){const t=r.oxw(2);r.Q6J("src",t.downloadLink,r.LSH)}}function iq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",63),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).changePrivacy()}),r.TgZ(1,"h5",64),r._uU(2),r.qZA(),r.qZA()}if(2&n){const t=r.oxw(2);r.xp6(2),r.Oqu(t.privacySetting)}}function rq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",65),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).changePrivacy()}),r.TgZ(1,"h5",64),r._uU(2),r.qZA(),r.qZA()}if(2&n){const t=r.oxw(2);r.xp6(2),r.Oqu(t.privacySetting)}}function sq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",18),r.TgZ(1,"div",1),r.TgZ(2,"div",51),r.TgZ(3,"div",20),r.TgZ(4,"div",52),r.TgZ(5,"div",53),r.TgZ(6,"span",54),r.TgZ(7,"i",55),r._uU(8,"add_a_photo"),r.qZA(),r._uU(9," Click to Change Cover"),r.qZA(),r.YNc(10,tq,1,1,"img",56),r.YNc(11,nq,1,1,"img",56),r.qZA(),r.TgZ(12,"input",57),r.NdJ("change",function(a){return r.CHM(t),r.oxw().upload(a)}),r.qZA(),r.qZA(),r.TgZ(13,"textarea",58),r.NdJ("ngModelChange",function(a){return r.CHM(t),r.oxw().title=a}),r.qZA(),r.TgZ(14,"div",1),r._UZ(15,"br"),r.qZA(),r.TgZ(16,"textarea",59),r.NdJ("ngModelChange",function(a){return r.CHM(t),r.oxw().desc=a}),r.qZA(),r.TgZ(17,"div",22),r.TgZ(18,"h4"),r._uU(19,"Current Privacy Setting : "),r.qZA(),r.TgZ(20,"div",22),r.YNc(21,iq,3,1,"div",60),r.YNc(22,rq,3,1,"div",61),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(10),r.Q6J("ngIf",!t.imageUploaded),r.xp6(1),r.Q6J("ngIf",t.imageUploaded),r.xp6(2),r.Q6J("ngModel",t.title),r.xp6(3),r.Q6J("ngModel",t.desc),r.xp6(5),r.Q6J("ngIf",t.isPublic),r.xp6(1),r.Q6J("ngIf",!t.isPublic)}}function oq(n,e){if(1&n&&(r.TgZ(0,"div",18),r.TgZ(1,"div",1),r.TgZ(2,"div",51),r.TgZ(3,"div",20),r.TgZ(4,"h4",66),r.TgZ(5,"i"),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(6),r.Oqu(t.desc)}}function aq(n,e){1&n&&(r.TgZ(0,"div",1),r.TgZ(1,"div",71),r.TgZ(2,"div",19),r.TgZ(3,"h3",72),r.TgZ(4,"i"),r._uU(5,"No Chapters as of yet. . . "),r.qZA(),r.qZA(),r._UZ(6,"br"),r.qZA(),r._UZ(7,"div",73),r.qZA(),r.qZA())}function lq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",75),r.TgZ(1,"div",76),r.TgZ(2,"div",77),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(3).readChapter(u)}),r.TgZ(3,"span",78),r._uU(4),r.qZA(),r.TgZ(5,"p",79),r._uU(6),r.qZA(),r._UZ(7,"img",80),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.title),r.xp6(2),r.Oqu(t.date),r.xp6(1),r.s9C("src",t.cover,r.LSH)}}function cq(n,e){if(1&n&&(r.TgZ(0,"div",1),r.TgZ(1,"div",51),r.TgZ(2,"div",23),r.YNc(3,lq,8,3,"div",74),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(3),r.Q6J("ngForOf",t.publicEntries)}}function uq(n,e){if(1&n&&(r.TgZ(0,"div",67),r.TgZ(1,"div",1),r.TgZ(2,"div",68),r.TgZ(3,"div",28),r.TgZ(4,"h3",69),r.TgZ(5,"b"),r._uU(6,"Chapters"),r.qZA(),r.qZA(),r._UZ(7,"hr",32),r.qZA(),r.qZA(),r.qZA(),r.YNc(8,aq,8,0,"div",70),r.YNc(9,cq,4,1,"div",70),r.qZA()),2&n){const t=r.oxw();r.xp6(8),r.Q6J("ngIf",!t.hasEntries),r.xp6(1),r.Q6J("ngIf",t.hasEntries)}}function dq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",83),r.TgZ(1,"div",76),r.TgZ(2,"div",84),r.NdJ("click",function(){const a=r.CHM(t),u=a.$implicit,h=a.index;return r.oxw(2).removeForDeletion(u.id,u,h)}),r.TgZ(3,"span",78),r._uU(4),r.qZA(),r._UZ(5,"img",80),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.title),r.xp6(1),r.s9C("src",t.cover,r.LSH)}}function hq(n,e){if(1&n&&(r.TgZ(0,"div",67),r.TgZ(1,"div",1),r.TgZ(2,"div",81),r.TgZ(3,"div",28),r.TgZ(4,"h3",69),r.TgZ(5,"b"),r._uU(6,"To Be Deleted"),r.qZA(),r.qZA(),r._UZ(7,"hr",32),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",1),r.TgZ(9,"div",51),r.TgZ(10,"div",23),r.YNc(11,dq,6,2,"div",82),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(11),r.Q6J("ngForOf",t.preDeletedEntries)}}function fq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",75),r.TgZ(1,"div",76),r.TgZ(2,"div",84),r.NdJ("click",function(){const a=r.CHM(t),u=a.$implicit,h=a.index;return r.oxw(2).addForDeletion(u.id,u,h)}),r.TgZ(3,"span",78),r._uU(4),r.qZA(),r.TgZ(5,"p",79),r._uU(6),r.qZA(),r._UZ(7,"img",80),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.title),r.xp6(2),r.Oqu(t.date),r.xp6(1),r.s9C("src",t.cover,r.LSH)}}function pq(n,e){if(1&n&&(r.TgZ(0,"div",67),r.TgZ(1,"div",1),r.TgZ(2,"div",81),r.TgZ(3,"div",28),r.TgZ(4,"h3",69),r.TgZ(5,"b"),r._uU(6,"Click to Select for Deletion "),r.qZA(),r.qZA(),r._UZ(7,"hr",32),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",1),r.TgZ(9,"div",51),r.TgZ(10,"div",23),r.YNc(11,fq,8,3,"div",74),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(11),r.Q6J("ngForOf",t.publicEntries)}}function gq(n,e){if(1&n&&(r.TgZ(0,"div",85),r.TgZ(1,"div",22),r.TgZ(2,"div",18),r.TgZ(3,"div",86),r.TgZ(4,"h4",87),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"div",86),r.TgZ(7,"h4",87),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"div",86),r.TgZ(10,"h4",87),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(5),r.hij("Entries ",t.Entries," "),r.xp6(3),r.hij("Likes ",t.Likes," "),r.xp6(3),r.hij("Readers ",t.Readers,"")}}function mq(n,e){if(1&n&&(r.TgZ(0,"div",85),r.TgZ(1,"div",22),r.TgZ(2,"div",18),r.TgZ(3,"div",86),r.TgZ(4,"h4",87),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"div",86),r.TgZ(7,"h4",87),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"div",86),r.TgZ(10,"h4",87),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(5),r.hij("Entries ",t.Entries," "),r.xp6(3),r.hij("Likes ",t.Likes," "),r.xp6(3),r.hij("Readers ",t.Readers,"")}}function _q(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",88),r.TgZ(1,"div",76),r.TgZ(2,"div",89),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw().readChapter(u)}),r.TgZ(3,"span",78),r._uU(4),r.qZA(),r.TgZ(5,"p",79),r._uU(6),r.qZA(),r._UZ(7,"img",80),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.title),r.xp6(2),r.Oqu(t.date),r.xp6(1),r.s9C("src",t.cover,r.LSH)}}let yq=(()=>{class n{constructor(t,i,a,u,h,g,C){this.route=t,this.router=i,this.activatedroute=a,this.AuthService=u,this.firebaseAuth=h,this.chapterService=g,this.af=C,this.alreadyLoaded="false",this.newMode=!1,this.editMode=!1,this.newEntryMenu=!1,this.legacyID="",this.currentUser="",this.currentUserID="",this.title="",this.desc="",this.updated="",this.author="",this.authorProfileImg="",this.preCover="",this.cover="",this.mainImg="",this.imageLoaded=!1,this.readers="",this.likes="",this.isAuthor=!1,this.isFollowing=!1,this.Entries="0",this.Likes="0",this.Readers="0",this.Contributers="0",this.hasEntries=!1,this.collectedIDs=[],this.forDeletion=[],this.FDL=0,this.allEntries=[{id:"",title:"",text:"",previewTxt:"",author:"",privacy:"",cover:"",timestamp:"",date:"",type:"",updated:""}],this.publicEntries=[{id:"",title:"",text:"",previewTxt:"",author:"",privacy:"",cover:"",timestamp:"",date:"",type:"",updated:""}],this.privateEntries=[{id:"",title:"",text:"",previewTxt:"",author:"",privacy:"",cover:"",timestamp:"",date:"",type:"",updated:""}],this.preDeletedEntries=[{id:"",title:"",text:"",previewTxt:"",author:"",privacy:"",cover:"",timestamp:"",date:"",type:"",updated:""}],this.legacyBookmarks=[],this.loadedData=!1,this.filePath="",this.imageUploaded=!1,this.downloadLink="",this.defaultPostImgPath="/N4Posts",this.defaultLegacyImgPath="/LegacyCovers",this.showErrMsg=!1,this.privacySetting="",this.isPublic=!0,this.count=0,this.activatedroute.queryParams.subscribe(A=>{this.legacyID=A.id})}ngOnInit(){}ngAfterViewInit(){const t=JSON.parse(localStorage.getItem("userData"));this.currentUserID=t.uid;const i=sessionStorage.getItem("chapterData");sessionStorage.getItem("returnValue"),i?(console.log("Chapter Data Already Reloaded"),sessionStorage.removeItem("chapterData")):console.log("No Chapter data to remove from Legacy"),this.loadedData||(this.loadLegacyInfo(),this.loadBookmarkedLegacies(),this.loadedData=!0,this.count++),this.preDeletedEntries.pop(),$(document).ready(function(){$(".parallax").parallax()})}deleteLegacy(){confirm("Are you sure you want to delete the "+this.title+" legacy \n")&&(console.log("Deleting Legacy"),this.collectedIDs.length>0&&(this.collectedIDs.forEach(i=>{console.log("Deleting Chapter Prior to Legacy Deletion: "+i),this.forDeletion.push(i)}),this.deleteChapters()),this.AuthService.deleteLegacy(this.legacyID).then(()=>{console.log("Legacy Deleted"),M.toast({html:"Successfully Deleted Legacy"}),this.router.navigate(["/"])}))}addReader(t,i){this.AuthService.addLegacySubscriber(t,i).then(()=>{})}removeReader(t,i){this.AuthService.removeLegacySubscriber(t,i).then(()=>{})}followLegacy(){this.AuthService.bookmarkLegacy(this.legacyID,this.currentUserID).then(t=>{M.toast({html:"Successfully Bookmarked Legacy"}),this.isFollowing=!0,this.addReader(this.legacyID,this.currentUserID)}).catch(t=>{M.toast({html:"Error saving legacy - "+t})})}unFollowLegacy(){this.AuthService.unBookmarkLegacy(this.legacyID,this.currentUserID).then(t=>{M.toast({html:"Unfollowed Legacy"}),this.isFollowing=!1,this.removeReader(this.legacyID,this.currentUserID)}).catch(t=>{M.toast({html:"Error unfollowing: "+t})})}upload(t){this.filePath=t.target.files[0];var i=t.target.files[0].name;console.log(this.filePath),console.log(t.target.files[0].name),this.uploadFile(i)}uploadFile(t){console.log("UploadFile Called. . ."),console.log("Attempting upload to firebase ");var i=this.defaultLegacyImgPath+"/"+this.currentUserID+"/"+t,a=this.af.upload(i,this.filePath),u=this.af.ref(i);a.percentageChanges(),console.log("Uploading... "),a.snapshotChanges().pipe(dr(()=>{this.imageLink=u.getDownloadURL(),this.imageLink.subscribe(g=>{this.downloadLink=g}),this.setImage(),this.imageUploaded=!0})).subscribe()}setImage(){this.imageUploaded=!0,this.cover=this.downloadLink}addForDeletion(t,i,a){this.preDeletedEntries.push(i),this.forDeletion.push(t),this.FDL++,this.publicEntries.splice(a,1)}removeForDeletion(t,i,a){this.publicEntries.push(i);var u=this.forDeletion.indexOf(t);this.FDL--,this.forDeletion.splice(u,1),this.preDeletedEntries.splice(u,1)}deleteChapters(){this.forDeletion.forEach(t=>{this.AuthService.deleteLegacyChapter(this.legacyID,t).then(i=>{M.toast({html:"Successfully Deleted"})}).catch(i=>{M.toast({html:"Error Deleting Chapter: "+i})})})}updateLegacy(){this.AuthService.updateLegacy(this.legacyID,{cover:1==this.imageUploaded?this.downloadLink:this.cover,title:this.title,desc:this.desc,privacy:this.privacySetting}).then(()=>{M.toast({html:"Legacy Updated"}),this.editMode=!1,location.reload()}).catch(i=>{M.toast({html:"Error Saving : "+i})})}loadBookmarkedLegacies(){this.AuthService.loadBookmarkedLegacies(this.currentUserID).subscribe(t=>{this.legacyBookmarks=[],t.map(i=>{const a=i.payload.doc.data();this.legacyBookmarks.push({id:i.payload.doc.id,title:a.title,cover:a.cover,author:a.author,legacyID:a.legacyID,privacy:a.privacy})})}),this.legacyBookmarks.includes(this.legacyID)&&(this.isFollowing=!0)}loadLegacyInfo(){this.AuthService.loadLegacy(this.legacyID).then(t=>{const i=t.data();this.title=i.title,this.desc=i.desc,this.cover=i.cover,this.author=i.author,this.privacySetting=i.privacy,this.author==this.currentUserID&&(this.isAuthor=!0),this.isPublic="public"==this.privacySetting}).then(()=>{this.getUserInfo(this.author),localStorage.setItem("refresh","true"),this.loadLegacyPosts()}),this.alreadyLoaded=localStorage.getItem("refresh")}changePrivacy(){this.isPublic?(this.privacySetting="private",this.isPublic=!1):(this.privacySetting="public",this.isPublic=!0)}NewLegacyEntry(){}editLegacy(){var t={};t.LegacyId=this.legacyID,sessionStorage.getItem("chapterData")?(console.log("Cleaning chapter Data"),sessionStorage.removeItem("chapterData"),console.log("Cleaning chapter from Service"),this.chapterService.cleanChapter(),this.chapterService.setChapter(t),sessionStorage.setItem("chapterData",this.legacyID),this.router.navigate(["/editLegacyChapter"])):(console.log("Storing new chapter"),sessionStorage.setItem("chapterData",this.legacyID),this.router.navigate(["/editLegacyChapter"])),sessionStorage.setItem("chapterData",this.legacyID),this.router.navigate(["/editLegacyChapter"])}loadLegacyPosts(){this.allEntries.splice(0,1),this.privateEntries.splice(0,1),this.publicEntries.splice(0,1),this.AuthService.getLegacyPosts(this.legacyID).subscribe(t=>{this.publicEntries=[],t.map(i=>{var a;const u=i.payload.doc.data(),h={id:i.payload.doc.id,title:u.title,text:u.text,previewTxt:null===(a=u.text)||void 0===a?void 0:a.split(" ").splice(0,15).join(" "),cover:""!=u.cover?u.cover:this.cover,author:u.author,date:u.date,timestamp:u.timestamp,privacy:u.privacy,type:u.type,updated:u.updated};this.collectedIDs.push(i.payload.doc.id),this.allEntries.push(h),"public"==h.privacy&&(this.publicEntries.push(h),this.hasEntries=!0),"private"==h.privacy&&this.privateEntries.push(h),this.Entries=this.publicEntries.length})})}getUserInfo(t){this.AuthService.getUserInfo(t).then(i=>{const a=i.data();this.author=a.displayName,this.authorProfileImg=a.photoURL})}readChapter(t){var i=t;i.LegacyId=this.legacyID,console.log(t),sessionStorage.getItem("chapterData")?(console.log("Cleaning chapter Data"),sessionStorage.removeItem("chapterData"),console.log("Cleaning chapter from Service"),this.chapterService.cleanChapter(),this.chapterService.setChapter(i),sessionStorage.setItem("chapterData",JSON.stringify(i)),this.router.navigate(["/Reading"])):(console.log("No Data to report"),this.chapterService.setChapter(i),console.log("Storing new chapter"),sessionStorage.setItem("chapterData",JSON.stringify(i)),this.router.navigate(["/Reading"]))}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(qi),r.Y36(mi),r.Y36(qi),r.Y36(nd),r.Y36(ra),r.Y36(lI),r.Y36(Kb))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-legacy"]],decls:46,vars:17,consts:[[2,"position","fixed","top","0%","width","100%","z-index","5"],[1,"row"],[1,"hide-on-med-only","hide-on-small-only"],["id","editParallax",1,"parallax-container",3,"click"],[1,"parallax"],["id","editCoverImg",3,"src"],["class","parallaxHeader","id","legacyTitle",4,"ngIf"],["class","parallaxHeader","id","editLegacyTitleParallax",4,"ngIf"],[1,"section","white-text"],["class","row black",4,"ngIf"],["class","row container",4,"ngIf"],["class","FullEntries",4,"ngIf"],[1,"hide-on-large-only","hide-on-small-only"],[1,"parallax-container"],[1,"parallaxHeader"],["id","coverImg",3,"src"],["id","authorTxt"],["class","row center black",4,"ngIf"],[1,"row","container"],[1,""],[1,"center"],[1,"white-text","text-darken-3","darken-3"],[1,"container"],[1,"box2"],["id","testCardAevumMed","class","card",4,"ngFor","ngForOf"],["id","legacyTitle",1,"parallaxHeader"],["id","editLegacyTitleParallax",1,"parallaxHeader"],[1,"row","black"],[2,"padding-left","5%"],[1,"authorBox"],["id","authorProfileImg","alt","authorProfileImg",3,"src"],[1,"authorNameDesk"],[1,"solid"],["id","legacyDesc"],["class","regMenu",4,"ngIf"],[1,"regMenu"],["class","btn-large","id","authorMenuBtn",3,"click",4,"ngIf"],["class","btn-large","id","authorMenuDeleteBtn",3,"click",4,"ngIf"],["class","btn-large red darken-3","id","authorMenuBtn",3,"click",4,"ngIf"],["id","authorMenuBtn",1,"btn-large",3,"click"],["id","authorMenuDeleteBtn",1,"btn-large",3,"click"],["id","authorMenuBtn",1,"btn-large","red","darken-3",3,"click"],["class","btn-large","id","authorMenuBtnPost",4,"ngIf"],["class","btn-large","id","authorMenuBtnPost",3,"click",4,"ngIf"],["class","btn-large","id","authorMenuBtnCancel",3,"click",4,"ngIf"],["id","authorMenuBtnPost",1,"btn-large"],["id","authorMenuBtnPost",1,"btn-large",3,"click"],["id","authorMenuBtnCancel",1,"btn-large",3,"click"],[1,"followerBox"],["class","btn-large","id","followBtn",3,"click",4,"ngIf"],["id","followBtn",1,"btn-large",3,"click"],[1,"col","s9","offset-s3"],[1,"file-field","input-field","black"],["id","aevumItemDel",1,"card"],[1,"card-title"],[1,"material-icons"],["class","","id","editBookCoverImg",3,"src",4,"ngIf"],["type","file",3,"change"],["placeholder","Enter Title. . .","id","editlegacyTitle",1,"materialize-textarea",3,"ngModel","ngModelChange"],["placeholder","Start Here . . .","id","editlegacyDesc",1,"materialize-textarea",3,"ngModel","ngModelChange"],["id","publicBtn","class","",3,"click",4,"ngIf"],["id","privateBtn",3,"click",4,"ngIf"],["id","editBookCoverImg",1,"",3,"src"],["id","publicBtn",1,"",3,"click"],["id","fancyTxt"],["id","privateBtn",3,"click"],["id","legacyDesc",1,"white-text","text-darken-3","darken-3"],[1,"FullEntries"],[1,"col","s3","offset-s3"],[1,"bannerTxt"],["class","row",4,"ngIf"],[1,"col","s9","offset-s4"],["id","legacyDesc",1,"white-text"],[2,"padding-bottom","25%"],["id","testCardAevum","class","card",4,"ngFor","ngForOf"],["id","testCardAevum",1,"card"],[1,"space"],["id","aevumItem",1,"card",3,"click"],[1,"cardTitle"],["id","cardFooter",1,"blue-grey-text","text-lighten-3"],["id","bookCoverImg",1,"",3,"src"],[1,"col","s6","offset-s3"],["id","delCardAevum","class","card",4,"ngFor","ngForOf"],["id","delCardAevum",1,"card"],["id","aevumItemDel",1,"card",3,"click"],[1,"row","center","black"],[1,"col","s4"],["id","subtitle"],["id","testCardAevumMed",1,"card"],["id","aevumItemMed",1,"card",3,"click"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"app-navbar"),r.qZA(),r.TgZ(2,"div",1),r._UZ(3,"br"),r._UZ(4,"br"),r.qZA(),r.TgZ(5,"div",2),r.TgZ(6,"div",3),r.NdJ("click",function(u){return i.upload(u)}),r.TgZ(7,"div",4),r._UZ(8,"img",5),r.YNc(9,F4,3,1,"h1",6),r.YNc(10,U4,3,1,"h1",7),r.qZA(),r.qZA(),r.TgZ(11,"div",8),r.YNc(12,Q4,21,8,"div",9),r.YNc(13,eq,22,7,"div",9),r.YNc(14,sq,23,6,"div",10),r.YNc(15,oq,7,1,"div",10),r.YNc(16,uq,10,2,"div",11),r.YNc(17,hq,12,1,"div",11),r.YNc(18,pq,12,1,"div",11),r.qZA(),r.qZA(),r.TgZ(19,"div",12),r.TgZ(20,"div",13),r.TgZ(21,"div",4),r.TgZ(22,"h2",14),r.TgZ(23,"u"),r._uU(24),r.qZA(),r.qZA(),r._UZ(25,"img",15),r.TgZ(26,"div",1),r.TgZ(27,"p",16),r.TgZ(28,"i"),r._uU(29),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"div",8),r.YNc(31,gq,12,3,"div",17),r.YNc(32,mq,12,3,"div",17),r.TgZ(33,"div",1),r._UZ(34,"br"),r.qZA(),r.TgZ(35,"div",18),r.TgZ(36,"div",1),r.TgZ(37,"div",19),r.TgZ(38,"div",20),r.TgZ(39,"h4",21),r.TgZ(40,"i"),r._uU(41),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(42,"div",1),r.TgZ(43,"div",22),r.TgZ(44,"div",23),r.YNc(45,_q,8,3,"div",24),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(8),r.s9C("src",i.cover,r.LSH),r.xp6(1),r.Q6J("ngIf",!i.editMode),r.xp6(1),r.Q6J("ngIf",i.editMode),r.xp6(2),r.Q6J("ngIf",i.isAuthor),r.xp6(1),r.Q6J("ngIf",!i.isAuthor),r.xp6(1),r.Q6J("ngIf",i.editMode),r.xp6(1),r.Q6J("ngIf",!i.editMode),r.xp6(1),r.Q6J("ngIf",!i.editMode),r.xp6(1),r.Q6J("ngIf",i.editMode&&i.forDeletion.length>0),r.xp6(1),r.Q6J("ngIf",i.editMode&&i.hasEntries),r.xp6(6),r.Oqu(i.title),r.xp6(1),r.s9C("src",i.cover,r.LSH),r.xp6(4),r.Oqu(i.author),r.xp6(2),r.Q6J("ngIf",i.isAuthor),r.xp6(1),r.Q6J("ngIf",!i.isAuthor),r.xp6(9),r.Oqu(i.desc),r.xp6(4),r.Q6J("ngForOf",i.publicEntries))},directives:[nC,lr,ns,zp,Qb,Q_],styles:['#editCoverImg[_ngcontent-%COMP%]{width:25%;filter:brightness(35%)}#editCoverImg[_ngcontent-%COMP%]:hover{cursor:pointer;width:25%;filter:brightness(15%)}#coverImg[_ngcontent-%COMP%]{width:25%;filter:brightness(55%)}.parallaxHeader[_ngcontent-%COMP%]{position:absolute;top:50%;text-align:left;padding-left:15%;z-index:2;color:#ffae00;text-shadow:2px 2px #000000;font-family:"Times New Roman",Times,serif}#editLegacyTitle[_ngcontent-%COMP%]{position:absolute;top:50%;text-align:left;padding-left:15%;z-index:5;color:#ffae00;text-shadow:2px 2px #000000;font-family:"Times New Roman",Times,serif}#editLegacyTitleParallax[_ngcontent-%COMP%]{position:absolute;top:50%;text-align:left;padding-left:15%;z-index:5;color:#fff;text-shadow:2px 2px #000000;font-family:"Times New Roman",Times,serif}#editParallax[_ngcontent-%COMP%]:hover{cursor:pointer}#section[_ngcontent-%COMP%]{background-color:#f000}.header[_ngcontent-%COMP%]{color:#c48f00;font-family:Arial,Helvetica,sans-serif}.authorBox[_ngcontent-%COMP%]{background-color:#0b0e18;height:80%;width:20%;position:absolute;top:60%;border-radius:10px}.followerBox[_ngcontent-%COMP%]{background-color:#0b0e18;height:65%;width:20%;position:absolute;top:60%;border-radius:10px}#authorProfileImg[_ngcontent-%COMP%]{width:50%;border-radius:50%}.authorNameDesk[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif;color:#ff9100}#legacyDesc[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif}#authorMenuBtn[_ngcontent-%COMP%]{background-color:#80570b;width:100%}#authorMenuBtnPost[_ngcontent-%COMP%]{background-color:#0b3880;width:100%}#authorMenuBtnChapter[_ngcontent-%COMP%]{background-color:#0b3880;width:100%}#authorMenuBtnCancel[_ngcontent-%COMP%]{background-color:#800b0b;width:100%}#authorMenuDeleteBtn[_ngcontent-%COMP%]{background-color:#800f0b;width:100%}#editBtn[_ngcontent-%COMP%]{background-color:#80570b}#editBtn[_ngcontent-%COMP%]:hover{background-color:#ffc400}#followBtn[_ngcontent-%COMP%]{background-color:#008cff}#followBtn[_ngcontent-%COMP%]:hover{background-color:#023a8f}#authorTxt[_ngcontent-%COMP%]{font-size:175%;float:left;vertical-align:baseline;padding-left:1%;color:#fff;position:absolute;top:65%;left:15%;text-align:left}#subtitle[_ngcontent-%COMP%]{color:#fff;font-family:Georgia,"Times New Roman",Times,serif}.collection-item[_ngcontent-%COMP%]{background-color:#181f3d}.collection-item[_ngcontent-%COMP%]:hover{background-color:#212a55;cursor:pointer}.section[_ngcontent-%COMP%]{background-color:#00000073}.bannerTxt[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif;color:#99c5ff}.box2[_ngcontent-%COMP%]{width:100%;height:200px;overflow-x:scroll;flex-direction:row;display:flex;position:relative}.cardTitle[_ngcontent-%COMP%]{color:#f5f5f5;text-shadow:5px 5px #000000;font-family:"Times New Roman",Times,serif;font-size:max(2vw,22px);position:absolute;right:10%;top:5%;z-index:3}#cardFooter[_ngcontent-%COMP%]{color:#f5f5f5;text-shadow:5px 5px #000000;font-family:"Times New Roman",Times,serif;font-size:max(1vw,12px);position:absolute;right:10%;bottom:1%;z-index:3}#cardFooterMenu[_ngcontent-%COMP%]{color:#f5f5f5;text-shadow:5px 5px #000000;font-family:"Times New Roman",Times,serif;font-size:max(1vw,12px);position:absolute;left:10%;bottom:5%;z-index:4}#bookCoverImg[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:15px;position:absolute;z-index:1}#editBookCoverImg[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:15px;z-index:1}#editBookCoverImg[_ngcontent-%COMP%]:hover{object-fit:cover;width:100%;height:100%;border-radius:15px;z-index:1;filter:brightness(35%)}.card-title[_ngcontent-%COMP%]{position:absolute;top:5%;left:50%;z-index:5}#delCardAevum[_ngcontent-%COMP%]{width:35%;min-width:30%;max-width:40%;height:200px;display:inline-block;background-color:#0000}#testCardAevumMed[_ngcontent-%COMP%]{width:60%;min-width:30%;max-width:50%;height:400px;display:inline-block;background-color:#0000}#testCardAevum[_ngcontent-%COMP%]{width:35%;min-width:30%;max-width:40%;height:400px;display:inline-block;background-color:#0000}#aevumItemMed[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:200px;width:100%;display:inline-block}#aevumItemMed[_ngcontent-%COMP%]:hover{background-color:#290408;border-radius:15px;height:200px;cursor:pointer;border:solid rgb(255,38,0) 2px}#aevumItem[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:400px;width:100%;display:inline-block}#aevumItem[_ngcontent-%COMP%]:hover{background-color:#290408;border-radius:15px;height:400px;cursor:pointer;border:solid rgb(255,38,0) 2px}#aevumItemDel[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:200px;width:100%;display:inline-block}#aevumItemDel[_ngcontent-%COMP%]:hover{background-color:#290408;border-radius:15px;height:200px;cursor:pointer;border:solid rgb(255,38,0) 2px}.bookFrame[_ngcontent-%COMP%]{width:35%;min-width:25%;max-width:35%;display:inline-block;background-color:#0000}#editlegacyTitle[_ngcontent-%COMP%]{color:#429aff;font-family:"Times New Roman",Times,serif;font-size:30px;background-color:#181818;border-radius:10px;height:50px}#editlegacyDesc[_ngcontent-%COMP%]{color:#4284da;font-family:"Times New Roman",Times,serif;font-size:30px;height:200px;background-color:#181818;border-radius:10px}#userOptions[_ngcontent-%COMP%]{color:#fff}#userOptions[_ngcontent-%COMP%]:hover{color:#fa8500;cursor:pointer;font-size:40px}.title[_ngcontent-%COMP%]{font-family:Georgia,"Times New Roman",Times,serif;color:#d6900f}#publicBtn[_ngcontent-%COMP%]{background-color:#07f;padding:1%;width:100%;border-radius:10px}#privateBtn[_ngcontent-%COMP%]{background-color:#f30;padding:1%;width:100%;border-radius:10px}#publicBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#59a7ff;padding:1%;width:100%;border-radius:10px}#privateBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ff704d;padding:1%;width:100%;border-radius:10px}#fancyTxt[_ngcontent-%COMP%]{font-family:"Times New Roman",Times,serif}#PreImg[_ngcontent-%COMP%]{object-fit:cover;width:200px;height:100px;border-radius:15px}#preImgCard[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:200px;width:400px;border:solid black 1px;display:inline-block}#preImgCard[_ngcontent-%COMP%]:hover{background-color:#030424;border-radius:15px;height:200px;width:400px;border:solid rgb(241,158,32) 1px;display:inline-block;cursor:pointer}',"#time[_ngcontent-%COMP%]{\n          width: 4px;\n      }"]}),n})(),AF=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn&&this.router.navigate([""]),!0}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(nd),r.LFG(mi))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qh=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return!0!==this.authService.isLoggedIn&&this.router.navigate(["Login"]),!0}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(nd),r.LFG(mi))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ao=Q(8124);function vq(n,e){1&n&&(r.TgZ(0,"h5",33),r.TgZ(1,"i",34),r._uU(2,"bookmark_border"),r.qZA(),r.qZA())}function bq(n,e){1&n&&(r.TgZ(0,"h5",35),r.TgZ(1,"i",34),r._uU(2,"bookmark"),r.qZA(),r.qZA())}function Cq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",15),r.TgZ(1,"div",16),r.TgZ(2,"div",17),r.TgZ(3,"div",18),r.TgZ(4,"div",19),r._UZ(5,"img",20),r.qZA(),r.TgZ(6,"div",21),r.TgZ(7,"h6",22),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",23),r.TgZ(10,"input",24),r.NdJ("ngModelChange",function(a){return r.CHM(t),r.oxw().newTitle=a}),r.qZA(),r.qZA(),r.TgZ(11,"div",25),r.TgZ(12,"div",18),r.TgZ(13,"div",16),r.TgZ(14,"div",26),r.TgZ(15,"h5",27),r.NdJ("click",function(){r.CHM(t);const a=r.oxw();return a.savedProgress=!0,a.menuCall("SAVE")}),r._uU(16,"Save"),r.qZA(),r.qZA(),r.TgZ(17,"div",26),r.YNc(18,vq,3,0,"h5",28),r.YNc(19,bq,3,0,"h5",29),r.qZA(),r.TgZ(20,"div",26),r.TgZ(21,"h5",30),r.NdJ("click",function(){r.CHM(t);const a=r.oxw();return a.displayPostMenu=!a.displayPostMenu}),r._uU(22,"Post"),r.qZA(),r.qZA(),r.TgZ(23,"div",26),r.TgZ(24,"h5",16),r.TgZ(25,"i",31),r._uU(26,"send"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"div",26),r.TgZ(28,"h5",30),r.NdJ("click",function(){return r.CHM(t),r.oxw().menuCall("DELETE")}),r._uU(29,"Delete"),r.qZA(),r.qZA(),r.TgZ(30,"div",26),r.TgZ(31,"h5",32),r.TgZ(32,"i",31),r._uU(33,"close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(5),r.s9C("src",t.userProfileImg,r.LSH),r.xp6(3),r.Oqu(t.username),r.xp6(2),r.Q6J("ngModel",t.newTitle),r.xp6(8),r.Q6J("ngIf",!t.savedProgress),r.xp6(1),r.Q6J("ngIf",t.savedProgress)}}function wq(n,e){if(1&n&&(r.TgZ(0,"div",6),r.TgZ(1,"div",2),r.TgZ(2,"h3",36),r.TgZ(3,"i"),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(4),r.Oqu(t.startMsg)}}function Tq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"li"),r.TgZ(1,"div",39),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).menuCall(u.param)}),r.TgZ(2,"h5"),r.TgZ(3,"i"),r._uU(4),r.qZA(),r._uU(5," \xa0"),r.TgZ(6,"i",40),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r._UZ(8,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.name),r.xp6(3),r.Oqu(t.icon)}}function Eq(n,e){if(1&n&&(r.TgZ(0,"div",37),r.TgZ(1,"ul"),r.YNc(2,Tq,9,2,"li",38),r._UZ(3,"br"),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.subMenu)}}function Iq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"li"),r.TgZ(1,"div",39),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).postMenuCall(u.param)}),r.TgZ(2,"h5"),r.TgZ(3,"i"),r._uU(4),r.qZA(),r._uU(5," \xa0"),r.TgZ(6,"i",40),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r._UZ(8,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.name),r.xp6(3),r.Oqu(t.icon)}}function Aq(n,e){if(1&n&&(r.TgZ(0,"div",37),r.TgZ(1,"div",18),r.TgZ(2,"div",16),r.TgZ(3,"h5",41),r.TgZ(4,"i"),r._uU(5,"Select where to Post"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"ul"),r.YNc(7,Iq,9,2,"li",38),r._UZ(8,"br"),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(7),r.Q6J("ngForOf",t.postMenu)}}function xq(n,e){if(1&n&&(r.TgZ(0,"div",18),r.TgZ(1,"div",16),r.TgZ(2,"h5",41),r.TgZ(3,"i"),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(4),r.Oqu(t.legacyListTxt)}}function Dq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",44),r.TgZ(1,"div",45),r.TgZ(2,"div",46),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).saveLegacy(u.id)}),r.TgZ(3,"h4",47),r._uU(4),r.qZA(),r._UZ(5,"img",49),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(4),r.Oqu(t.title),r.xp6(1),r.s9C("src",t.cover,r.LSH)}}function Sq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",37),r.YNc(1,xq,5,1,"div",13),r.TgZ(2,"div",42),r.YNc(3,Dq,6,2,"div",43),r.qZA(),r.TgZ(4,"div",42),r.TgZ(5,"div",44),r.TgZ(6,"div",45),r.TgZ(7,"div",46),r.NdJ("click",function(){r.CHM(t);const a=r.oxw();return a.displayLegacyList=!1,a.displayModal=!0}),r.TgZ(8,"h5",47),r._uU(9,"New Legacy?"),r.qZA(),r._UZ(10,"img",48),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",0==t.legacyList.length),r.xp6(2),r.Q6J("ngForOf",t.legacyList)}}function kq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"img",83),r.NdJ("change",function(a){return r.CHM(t),r.oxw(2).upload(a)}),r.qZA()}if(2&n){const t=r.oxw(2);r.s9C("src",t.defaultImgCover,r.LSH)}}function Mq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"img",83),r.NdJ("change",function(a){return r.CHM(t),r.oxw(2).upload(a)}),r.qZA()}if(2&n){const t=r.oxw(2);r.Q6J("src",t.downloadLink,r.LSH)}}function Oq(n,e){1&n&&(r.TgZ(0,"h6",84),r.TgZ(1,"i"),r._uU(2,"Please Fill out all fields"),r.qZA(),r.qZA())}function Pq(n,e){1&n&&(r.TgZ(0,"h6",85),r.TgZ(1,"i"),r._uU(2,"Enter Legacy Info"),r.qZA(),r.qZA())}function Rq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",18),r.TgZ(1,"div",2),r.TgZ(2,"div",3),r.TgZ(3,"div",50),r.NdJ("click",function(){return r.CHM(t),r.oxw().testClose()}),r.TgZ(4,"div",51),r.TgZ(5,"div",52),r.TgZ(6,"div",53),r.NdJ("click",function(){return r.CHM(t),r.oxw().displayModal=!0}),r.TgZ(7,"div",54),r.NdJ("click",function(){return r.CHM(t),r.oxw().preSelection=!0}),r.TgZ(8,"div",55),r.TgZ(9,"div",56),r.TgZ(10,"label",57),r.TgZ(11,"span",58),r._uU(12,"Change Cover Image"),r.qZA(),r.YNc(13,kq,1,1,"img",59),r.YNc(14,Mq,1,1,"img",59),r.qZA(),r.TgZ(15,"input",60),r.NdJ("change",function(a){return r.CHM(t),r.oxw().upload(a)}),r.qZA(),r.qZA(),r.TgZ(16,"div",61),r.YNc(17,Oq,3,0,"h6",62),r.YNc(18,Pq,3,0,"h6",63),r.TgZ(19,"div",3),r._UZ(20,"hr",64),r.qZA(),r.TgZ(21,"input",65),r.NdJ("ngModelChange",function(a){return r.CHM(t),r.oxw().newLegacyTitle=a}),r.qZA(),r.TgZ(22,"textarea",66),r.NdJ("ngModelChange",function(a){return r.CHM(t),r.oxw().newLegacyDescription=a}),r.qZA(),r._UZ(23,"br"),r._UZ(24,"br"),r.TgZ(25,"span",67),r.NdJ("click",function(){return r.CHM(t),r.oxw().swapPrivacy()}),r.TgZ(26,"i",11),r._uU(27,"remove_red_eye"),r.qZA(),r._uU(28," \xa0 "),r.TgZ(29,"i"),r._uU(30,"Legacy Privacy Settings: "),r.TgZ(31,"b"),r._uU(32),r.qZA(),r.qZA(),r.qZA(),r._UZ(33,"br"),r._UZ(34,"br"),r.TgZ(35,"button",68),r.NdJ("click",function(){return r.CHM(t),r.oxw().newLegacy()}),r._uU(36,"Save Legacy"),r.TgZ(37,"i",69),r._uU(38,"\xa0 send"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(39,"div",70),r.TgZ(40,"div",71),r.TgZ(41,"div",3),r.TgZ(42,"h4",72),r.TgZ(43,"b"),r._uU(44,"New Legacy"),r.qZA(),r.qZA(),r.TgZ(45,"span",73),r.TgZ(46,"input",74),r.NdJ("ngModelChange",function(a){return r.CHM(t),r.oxw().newLegacyTitle=a}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(47,"textarea",66),r.NdJ("ngModelChange",function(a){return r.CHM(t),r.oxw().newLegacyDescription=a}),r.qZA(),r.qZA(),r.TgZ(48,"div",18),r.TgZ(49,"div",3),r.TgZ(50,"div",21),r.TgZ(51,"div",75),r.TgZ(52,"button",76),r.TgZ(53,"h6",77),r._uU(54,"\xa0 Add Cover Img \xa0"),r.qZA(),r.TgZ(55,"i",78),r._uU(56,"add_a_photo"),r.qZA(),r.qZA(),r.TgZ(57,"input",79),r.NdJ("change",function(a){return r.CHM(t),r.oxw().upload(a)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(58,"div",21),r.TgZ(59,"div",80),r.TgZ(60,"button",81),r.NdJ("click",function(){return r.CHM(t),r.oxw().swapPrivacy()}),r.TgZ(61,"h6",77),r._uU(62),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(63,"div",18),r.TgZ(64,"div",2),r.TgZ(65,"div",16),r.TgZ(66,"button",82),r._uU(67,"Save Legacy"),r.TgZ(68,"i",69),r._uU(69,"\xa0 send"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(70,"div",18),r._UZ(71,"br"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(13),r.Q6J("ngIf",!t.imageUploaded),r.xp6(1),r.Q6J("ngIf",t.imageUploaded),r.xp6(3),r.Q6J("ngIf",t.showErrMsg),r.xp6(1),r.Q6J("ngIf",!t.showErrMsg),r.xp6(3),r.Q6J("ngModel",t.newLegacyTitle),r.xp6(1),r.Q6J("ngModel",t.newLegacyDescription),r.xp6(10),r.Oqu(t.privacy),r.xp6(14),r.Q6J("ngModel",t.newLegacyTitle),r.xp6(1),r.Q6J("ngModel",t.newLegacyDescription),r.xp6(15),r.hij("\xa0 Privacy Settings: ",t.privacy," \xa0")}}function Lq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",90),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).setWriting(u)}),r.TgZ(2,"h6",91),r.TgZ(3,"b"),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r._UZ(6,"hr",64),r.qZA(),r.qZA()}if(2&n){const t=e.$implicit,i=e.index;r.xp6(4),r.AsE("",i+1," - ",t.title,"")}}function Nq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",86),r.TgZ(1,"span"),r.TgZ(2,"b"),r.TgZ(3,"i",87),r.NdJ("click",function(){return r.CHM(t),r.oxw().prevWriting=!1}),r._uU(4,"close"),r.qZA(),r.TgZ(5,"i"),r.TgZ(6,"h5",88),r._uU(7,"Previous Writings"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",3),r._UZ(9,"hr",64),r.qZA(),r.TgZ(10,"div",89),r.YNc(11,Lq,7,2,"div",38),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(11),r.Q6J("ngForOf",t.previousWriting)}}let Fq=(()=>{class n{constructor(t,i,a,u){this.AuthService=t,this.firebaseAuth=i,this.firebase=a,this.af=u,this.curentUserID="",this.coverImg="",this.type="Writing",this.displayModal=!1,this.legacyList=[{id:"",title:"",cover:"",desc:"",privacy:"",type:"",updated:"",author:"",legacyID:""}],this.defaultImg="",this.defaultImgCover="https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2F%CE%95%CE%BB%CE%B5%CF%85%CC%81%CE%B8%CE%B5%CF%81%CE%B7%20%CF%83%CE%BA%CE%B5%CC%81%CF%88%CE%B7.PNG?alt=media&token=1ddf6078-d29a-4532-ab6a-026c6cd6f35d",this.defaultPostImgPath="/N4Posts",this.defaultLegacyImgPath="/LegacyCovers",this.newLegacyTitle="",this.newLegacyDescription="",this.newLegacyCover="",this.privacy="public",this.displayLegacyList=!1,this.legacyListTxt="Select Legacy to save to",this.previousWriting=[],this.startMsg="Begin writing to your heart's content",this.newTitle="",this.writtenPassage="",this.imageCover="",this.modalActive=!1,this.prevWriting=!1,this.displayNavTool=!0,this.displaySubMenu=!1,this.displayPostMenu=!1,this.subMenu=[{name:"Delete Post",icon:"clear",param:"DELETE"}],this.postMenu=[{name:"Legacy",icon:"book",param:"LEGACY"},{name:"Obsidian Rune",icon:"brightness_2",param:"OBSIDIAN"}],this.tempID="",this.savedProgress=!1,this.timeSaved="",this.timeStamp=new Date,this.username="",this.userProfileImg="",this.filePath="",this.imageUploaded=!1,this.downloadLink="",this.showErrMsg=!1,this.preSelection=!1,this.firebaseAuth.authState.subscribe(h=>{h?(this.userData=h,localStorage.setItem("userData",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("userData"))):(localStorage.setItem("userData","null"),JSON.parse(localStorage.removeItem("userData")))})}upload(t){console.log("Upload function Called. . ."),this.filePath=t.target.files[0];var i=t.target.files[0].name;console.log(this.filePath),console.log(t.target.files[0].name),this.uploadFile(i)}uploadFile(t){console.log("UploadFile Called. . ."),console.log("Attempting upload to firebase ");var i=this.defaultLegacyImgPath+"/"+this.userData.uid+"/"+t,a=this.af.upload(i,this.filePath),u=this.af.ref(i);a.percentageChanges(),a.snapshotChanges().pipe(dr(()=>{this.imageLink=u.getDownloadURL(),this.imageLink.subscribe(g=>{this.downloadLink=g}),this.setImage(),this.imageUploaded=!0})).subscribe()}setImage(){this.imageUploaded=!0}testOpen(){}testClose(){this.preSelection?this.preSelection=!1:this.displayModal=!1}ngOnInit(){this.userData=JSON.parse(localStorage.getItem("userData")),this.tempID=this.AuthService.generateID(),this.loadPreviousWriting();var t=(new Date).toLocaleString();this.timeSaved=t,this.username=this.userData.displayName,this.userProfileImg=this.userData.photoURL}ngAfterViewInit(){const t=document.querySelector("textarea");t.addEventListener("keydown",i=>{9===i.keyCode&&(i.preventDefault(),t.setRangeText("     ",t.selectionStart,t.selectionStart,"end"))})}adjustHeight(){var t,i,a,u,h;null===(t=document.getElementById("textRow"))||void 0===t||t.setAttribute("position","fixed"),null===(i=document.getElementById("textRow"))||void 0===i||i.setAttribute("top","5%"),null===(a=document.getElementById("textRow"))||void 0===a||a.setAttribute("width","100%"),null===(u=document.getElementById("writtenPassage"))||void 0===u||u.setAttribute("style","height: 750px"),null===(h=document.getElementById("writtenPassage"))||void 0===h||h.setAttribute("style","max-height: 750px")}swapPrivacy(){this.privacy="public"==this.privacy?"private":"public"}setWriting(t){this.newTitle=t.title,this.writtenPassage=t.text,this.tempID=t.id}loadPreviousWriting(){this.AuthService.fetchWritingProgress(this.userData.uid).subscribe(t=>{this.previousWriting=[],t.map(i=>{const a=i.payload.doc.data(),u={id:i.payload.doc.id,title:a.title,text:a.text,prev:a.text,date:a.date};u.prev=u.prev+"...",this.previousWriting.push(u),this.prevWriting=!0})})}saveLegacy(t){this.AuthService.newLegacyPost({author:this.userData.uid,cover:0==this.imageUploaded?this.downloadLink:this.defaultImgCover,date:this.timeSaved,privacy:this.privacy,text:this.writtenPassage,timestamp:this.timeStamp,title:this.newTitle,legacyID:t},t).then(()=>{ao.toast({html:"Saved to Legacy"})})}newLegacy(){0==this.newLegacyTitle.length||0==this.newLegacyDescription.length||""==this.newLegacyTitle||""==this.newLegacyDescription?this.showErrMsg=!0:(this.AuthService.newLegacy({author:this.userData.uid,cover:1==this.imageUploaded?this.downloadLink:this.defaultImgCover,date:this.timeSaved,privacy:this.privacy,desc:this.newLegacyDescription,timestamp:this.timeStamp,title:this.newLegacyTitle,type:"Legacy"}).then(()=>{ao.toast({html:"New Legacy Created"})}),this.displayModal=!1,this.cleanList(),this.displayLegacyList=!1)}cleanList(){this.legacyList.splice(0,1),this.legacyList=[],this.loadLegacyPosts()}savePost(){const t={title:this.newTitle,text:this.writtenPassage,userkey:this.userData.uid,date:this.timeSaved,type:this.getCount(this.writtenPassage)<1e3?"standard":"Writing",timestamp:this.timeStamp,NumComments:"0",NumLikess:"0",hashtags:[],postImgs:null,post_id:this.tempID,username:this.userData.displayName};this.AuthService.newPost(t,this.tempID).then(()=>{ao.toast({html:"Posted to Obsidian"})})}saveProgress(){this.validate()&&(""==this.tempID?(this.tempID=this.AuthService.generateID(),this.AuthService.saveWritingProgress({title:this.newTitle,text:this.writtenPassage,userkey:this.userData.uid,date:this.timeSaved},this.userData.uid,this.tempID)):(this.AuthService.saveWritingProgress({title:this.newTitle,text:this.writtenPassage,userkey:this.userData.uid,date:this.timeSaved},this.userData.uid,this.tempID),ao.toast({html:"Progress Saved"})))}getCount(t){return(t=(t=(t=t.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")).split(" ").length}deleteProgress(){""!=this.tempID?(console.log("Deleting"),this.AuthService.deleteWritingProgress(this.userData.uid,this.tempID)):console.log(this.tempID)}menuCall(t){switch(t){case"TAG":alert("Tag Users called");break;case"IMG_COVER":alert("Add Image Cover called");break;case"SAVE":this.saveProgress();break;case"POST":this.displaySubMenu=!1,this.displayPostMenu=!0;break;case"DELETE":this.newTitle="",this.writtenPassage="",this.deleteProgress()}}loadLegacyPosts(){this.legacyList.splice(0,1),this.AuthService.getUserLegacies(this.userData.uid).subscribe(i=>{i.map(a=>{const u=a.payload.doc.data();this.legacyList.push({id:a.payload.doc.id,title:u.title,desc:u.desc,cover:""!=u.cover?u.cover:"https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2F%CE%95%CE%BB%CE%B5%CF%85%CC%81%CE%B8%CE%B5%CF%81%CE%B7%20%CF%83%CE%BA%CE%B5%CC%81%CF%88%CE%B7.PNG?alt=media&token=1ddf6078-d29a-4532-ab6a-026c6cd6f35d",author:u.author,timestamp:u.timestamp,type:u.type,privacy:u.privacy,updated:u.updated,legacyID:u.legacyID})})}),0==this.legacyList.length&&(this.legacyListTxt="No Legacies to save to...")}postMenuCall(t){switch(t){case"LEGACY":this.validate()&&(this.displayPostMenu=!1,this.displaySubMenu=!1,this.loadLegacyPosts(),this.cleanList(),this.displayLegacyList=!0);break;case"OBSIDIAN":this.validate()&&this.savePost();break;case"CANCEL":this.displayPostMenu=!1,this.displaySubMenu=!0}}validate(){return null==this.newTitle||""==this.newTitle?(alert("Must fill in Title"),!1):null!=this.writtenPassage&&""!=this.writtenPassage||(alert("You have to write something before you post... "),!1)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(nd),r.Y36(ra),r.Y36(jb),r.Y36(Kb))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-writing"]],decls:23,vars:8,consts:[["class","row black","id","subNav",4,"ngIf"],["id","startMsgRow",1,"row"],[1,"center"],[1,"container"],["class","col s12",4,"ngIf"],["id","textRow",1,"row"],[1,"col","s12"],[1,"input-field","col","s12"],["placeholder","Start Here . . .","id","writtenPassage",1,"materialize-textarea",3,"ngModel","ngModelChange"],["id","menuBtn",1,"hide-on-small-only",3,"click"],[1,"white-text"],[1,"material-icons"],["class","subMenu",4,"ngIf"],["class","row",4,"ngIf"],["class","prevMenu",4,"ngIf"],["id","subNav",1,"row","black"],[1,""],[1,"col","m3"],[1,"row"],[1,"col","s2","offset-s1"],["alt","",1,"circle",2,"width","100%",3,"src"],[1,"col","s6"],[1,"username"],[1,"col","s12","m4"],["id","title","placeholder","Title. . .","type","text",1,"validate",3,"ngModel","ngModelChange"],[1,"col","m3","offset-m1"],[1,"col","s2"],[1,"saveBtn",3,"click"],["class","saveBtn","style","color: rgb(61, 123, 255);",4,"ngIf"],["class"," savedBtn",4,"ngIf"],[1,"postBtn",3,"click"],[1,"material-icons",2,"font-size","30px","color","rgb(61, 123, 255)"],[1,"right"],[1,"saveBtn",2,"color","rgb(61, 123, 255)"],[1,"material-icons",2,"font-size","30px"],[1,"savedBtn"],["id","startMsg",1,"center"],[1,"subMenu"],[4,"ngFor","ngForOf"],["id","subMenuBtn",1,"center",3,"click"],["id","subMenuBtnIcon",1,"material-icons"],[1,"",2,"color","rgb(126, 140, 212)"],[1,"box2"],["id","testCardAevum","class","card",4,"ngFor","ngForOf"],["id","testCardAevum",1,"card"],[1,"space"],["id","aevumItem",1,"card",3,"click"],[1,"legacyTitle"],["src","https://obsidianrune.com/static/img/Ruimel.da20829.png","id","legacyImg",1,""],["id","legacyImg",1,"",3,"src"],["id","modal",3,"click"],[1,"col","s6","offset-s3"],["id","newLegacyCard",1,"card"],["id","legacyModal1",3,"click"],[1,"modal-content",3,"click"],["id","userModalLegacy",1,"card"],[1,"image-upload"],["for","file-input","id","imgFileInput"],["id","newLegacyHeaderTxt"],["id","legacyModalImg2",3,"src","change",4,"ngIf"],["id","file-input","accept","*.png.jpg","type","file",3,"change"],[1,"container",2,"padding-top","2%"],["id","errHeader",4,"ngIf"],["id","subHeader",4,"ngIf"],[1,"solid"],["maxlength","50","id","newLegacytitle","placeholder","Enter New Legacy Title. . .","type","text",1,"validate",3,"ngModel","ngModelChange"],["maxlength","1000","placeholder","Enter Description. . .","id","newLegacyDescription",1,"materialize-textarea",3,"ngModel","ngModelChange"],["id","privacySpan",3,"click"],[1,"btn","btn-large",2,"background-color","rgb(143, 92, 29)",3,"click"],[1,"material-icons","white-text"],["id","newLegacyModal",1,"card","hide","z-depth-5"],[1,"card-content","white-text"],["id","newLegacyHeader"],[1,"card-title"],["maxlength","50","id","title","placeholder","Enter New Legacy Title. . .","type","text",1,"validate",3,"ngModel","ngModelChange"],["id","fileBtn",1,"file-field","input-field","btn","btn-large","blue","darken-4"],["id","btn"],[1,"white-text","left"],["id","photoBtn",1,"small","material-icons","left","white-text"],["type","file",3,"change"],["id","fileBtn",1,"input-field","btn","btn-large","blue","darken-4"],["id","btn",3,"click"],[1,"btn","btn-large",2,"background-color","rgb(143, 92, 29)"],["id","legacyModalImg2",3,"src","change"],["id","errHeader"],["id","subHeader"],[1,"prevMenu"],["id","closePrevBtn",1,"material-icons","white-text",3,"click"],[2,"padding-left","30px","color","rgba(126, 140, 212, 0.89)"],[1,"box"],["id","prevCard",3,"click"],["id","prevCardTitle"]],template:function(t,i){1&t&&(r._UZ(0,"app-navbar"),r.YNc(1,Cq,34,5,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r.TgZ(4,"div",3),r.YNc(5,wq,5,1,"div",4),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",5),r.TgZ(7,"div",2),r.TgZ(8,"div",3),r.TgZ(9,"div",6),r.TgZ(10,"div",2),r.TgZ(11,"div",7),r.TgZ(12,"textarea",8),r.NdJ("ngModelChange",function(u){return i.writtenPassage=u}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",9),r.NdJ("click",function(){return i.displayNavTool=!i.displayNavTool,i.adjustHeight()}),r.TgZ(14,"h6",10),r._uU(15,"MENU \xa0\xa0"),r.TgZ(16,"i",11),r._uU(17,"dehaze"),r.qZA(),r.qZA(),r.qZA(),r.YNc(18,Eq,4,1,"div",12),r.YNc(19,Aq,9,1,"div",12),r.YNc(20,Sq,11,2,"div",12),r.YNc(21,Rq,72,10,"div",13),r.YNc(22,Nq,12,1,"div",14)),2&t&&(r.xp6(1),r.Q6J("ngIf",i.displayNavTool),r.xp6(4),r.Q6J("ngIf",""==i.writtenPassage),r.xp6(7),r.Q6J("ngModel",i.writtenPassage),r.xp6(6),r.Q6J("ngIf",i.displaySubMenu),r.xp6(1),r.Q6J("ngIf",i.displayPostMenu),r.xp6(1),r.Q6J("ngIf",i.displayLegacyList),r.xp6(1),r.Q6J("ngIf",i.displayModal),r.xp6(1),r.Q6J("ngIf",i.prevWriting))},directives:[nC,lr,zp,Qb,Q_,ns,dO],styles:['#title[_ngcontent-%COMP%]{color:#d39116;font-size:25px;font-family:"Times New Roman",Times,serif;padding-left:15px}#saveBtn[_ngcontent-%COMP%]{color:#d39116;font-size:30px;padding-top:30px;padding-left:10px}#startMsgRow[_ngcontent-%COMP%]{position:fixed;top:350px;width:100%}#startMsg[_ngcontent-%COMP%]{color:#93abee57;font-family:"Allura",cursive;cursor:auto}#title[_ngcontent-%COMP%]{background-color:#1b1b1b;border:solid rgb(27,27,27) 2px;border-radius:15px}#newLegacytitle[_ngcontent-%COMP%]{background-color:#0000006b;border:solid rgb(27,27,27) 2px;color:#d38623e3;font-size:25px;border:none;font-family:"Times New Roman",Times,serif}#legacyTitle[_ngcontent-%COMP%]{background-color:#0000006b;border:solid rgb(27,27,27) 2px;font-size:larger;color:#b98523;font-family:"Times New Roman",Times,serif}#writtenPassage[_ngcontent-%COMP%]{color:#7e8cd4e3;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:30px;height:650px;max-height:650px;margin:0 auto;background-color:#0000001f;overflow:scroll}#textRow[_ngcontent-%COMP%]{position:fixed;top:15%;width:100%}[_ngcontent-%COMP%]::placeholder{color:#7e8cd4}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#7e8cd4}#submitBtn[_ngcontent-%COMP%]{background-color:#e48e24}#menuBtn[_ngcontent-%COMP%]{background-color:#0f131d;border:solid rgb(65,75,109) 2px;border-radius:10px;color:#fff;font-size:25px;font-family:"Times New Roman",Times,serif;position:fixed;bottom:10%;right:5%;padding:10px 35px}#menuBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#1c2335;border:solid rgb(79,91,133) 2px;border-radius:10px;color:#fff;font-size:25px;font-family:"Times New Roman",Times,serif;position:fixed;bottom:10%;right:5%;padding:15px 40px}#subMenuBtn[_ngcontent-%COMP%]{background-color:#0f131d;border:solid rgb(65,75,109) 2px;border-radius:10px;color:#fff;font-size:25px;font-family:"Times New Roman",Times,serif;padding:5px 25px}#subMenuBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#1c2335;border:solid rgb(79,91,133) 2px;border-radius:10px;color:#6b9fff;font-size:25px;font-family:"Times New Roman",Times,serif;padding:10px 30px}#subHeader[_ngcontent-%COMP%]{color:#e48e24;font-size:30px;font-family:"Times New Roman",Times,serif}#errHeader[_ngcontent-%COMP%]{color:#e4242e;font-size:30px;font-family:"Times New Roman",Times,serif}#privacySpan[_ngcontent-%COMP%]{color:#6b9fff;font-size:15px}#privacySpan[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;font-size:15px}#mobileMenuBtn[_ngcontent-%COMP%]{position:fixed;bottom:100px;right:50px;z-index:2}#subNav[_ngcontent-%COMP%]{position:absolute;top:7%;-webkit-animation:dropIn .5s forwards;-webkit-animation-delay:2s;animation:dropIn .5s forwards;animation-delay:0s}.subMenu[_ngcontent-%COMP%]{position:absolute;bottom:20%;right:5%;-webkit-animation:slideIn .5s forwards;-webkit-animation-delay:2s;animation:slideIn .5s forwards;animation-delay:0s}#subMenuBtnIcon[_ngcontent-%COMP%]{font-size:30px}@keyframes slideIn{0%{transform:translate(900px)}to{transform:translate(0)}}@keyframes dropIn{0%{transform:translatey(-200px)}to{transform:translatey(0)}}@keyframes riseIn{0%{transform:translatey(800px)}to{transform:translatey(0)}}.prevMenu[_ngcontent-%COMP%]{background-color:#0000005b;width:20%;height:100%;position:fixed;top:16%;z-index:2}.username[_ngcontent-%COMP%]{color:#e48e24;font-size:35px;font-family:"allura",cursive;position:absolute;z-index:2}.saveBtn[_ngcontent-%COMP%]{color:#fff;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}.postBtn[_ngcontent-%COMP%]{color:#fff;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}.saveBtn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e48e24}.postBtn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e48e24}.savedBtn[_ngcontent-%COMP%]{color:#3d8bff}#closePrevBtn[_ngcontent-%COMP%]{cursor:pointer}#prevCard[_ngcontent-%COMP%]{background-color:#12121394;padding:3px}#prevCard[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#63636694;padding:3px}#prevCardTitle[_ngcontent-%COMP%]{color:#adadad;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif;padding-left:15%}.box[_ngcontent-%COMP%]{height:75%;overflow:auto}#testCardAevum[_ngcontent-%COMP%]{width:100%;min-width:75%;background-color:#0000}.space[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%}#aevumItem[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:150px;width:300px;border:solid white 1px;display:inline-block}#aevumItem[_ngcontent-%COMP%]:hover{background-color:#290408;border-radius:15px;height:150px;cursor:pointer;border:solid rgb(255,123,0) 2px}.legacyTitle[_ngcontent-%COMP%]{color:#f5f5f5;text-shadow:5px 5px #000000;font-family:"Times New Roman",Times,serif;font-size:max(3vw,3px);position:absolute;right:10%;bottom:5%;z-index:3}#legacyImg[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:15px}#newLegacyModal[_ngcontent-%COMP%]{background-color:#0c1933;-webkit-animation:dropIn .5s forwards;-webkit-animation-delay:2s;animation:dropIn .5s forwards;animation-delay:0s}#newLegacyDescription[_ngcontent-%COMP%]{color:#d38623e3;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:25px;min-height:200px;height:200px;max-height:200px;margin:0 auto;background-color:#0000006b;overflow:scroll}#newLegacyHeader[_ngcontent-%COMP%]{font-family:Georgia,"Times New Roman",Times,serif;color:#a17521}#btn[_ngcontent-%COMP%]{background-color:#0000;border:none;width:150px}#btn[_ngcontent-%COMP%]:hover{cursor:pointer}#fileBtn[_ngcontent-%COMP%]{border:none}#legacyCard[_ngcontent-%COMP%]{background-color:#515470}#newLegacyCard[_ngcontent-%COMP%]{width:100%}.box[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.card-reveal[_ngcontent-%COMP%]{background-color:#352628}.card-image[_ngcontent-%COMP%]{border:solid white 1px}#activator[_ngcontent-%COMP%]{object-fit:cover;max-height:400px}#modal[_ngcontent-%COMP%]{position:fixed;z-index:10;padding-top:10px;padding-bottom:15%;left:0;top:7%;width:100%;overflow:auto;background-color:#000;background-color:#0006;animation:1s ease-out 0s 1 slideInFromBelow}#modal1[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;background-color:#161a23;border:solid #535D80 2px;width:100%;height:100%;padding:1%}#legacyModal1[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;background-color:#121627;border-radius:20px;border:solid rgb(223,153,23) 1px;width:100%;height:100%;padding:0% 00.5% 10%}#legacyModal1[_ngcontent-%COMP%]:hover{cursor:pointer}#userModalLegacy[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:200px;width:100%;border:solid black 1px;display:inline-block}.modalLegacyTitle[_ngcontent-%COMP%]{color:#cc9620;font-family:Georgia,"Times New Roman",Times,serif}#legacyModalImg2[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;object-fit:cover;width:100%;height:100%;border-radius:15px}#legacyModalImg2[_ngcontent-%COMP%]:hover{cursor:pointer;filter:grayscale(100%);animation:1s ease-out 0s 1 slideInFromBelow;object-fit:cover;width:100%;height:100%;border-radius:15px}#newLegacyHeaderTxt[_ngcontent-%COMP%]{cursor:pointer;color:#fff;font-size:25px;position:absolute;top:35%;z-index:3}#imgFileInput[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:200px;width:100%;border:solid black 1px;display:inline-block}.image-upload[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}.modal-content[_ngcontent-%COMP%]{background-color:#0000}.card[_ngcontent-%COMP%]{background-color:#0000}']}),n})(),Uq=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-profile"]],decls:2,vars:0,template:function(t,i){1&t&&(r.TgZ(0,"p"),r._uU(1,"profile works!"),r.qZA())},styles:[""]}),n})();function Zq(n,e){if(1&n&&(r.TgZ(0,"div",12),r._UZ(1,"img",13),r.TgZ(2,"div",14),r.TgZ(3,"div",15),r.TgZ(4,"div",16),r.TgZ(5,"div",17),r.TgZ(6,"textarea",18),r._uU(7,"               \n                            "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(1),r.s9C("src",t.coverImg,r.LSH),r.xp6(5),r.Q6J("value",t.title+"\n"+t.text)}}function Bq(n,e){if(1&n&&(r.TgZ(0,"div",12),r.TgZ(1,"div",14),r.TgZ(2,"div",15),r.TgZ(3,"div",16),r.TgZ(4,"div",17),r.TgZ(5,"textarea",18),r._uU(6,"               \n                            "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(5),r.Q6J("value",t.title+t.text)}}function Vq(n,e){if(1&n&&(r.TgZ(0,"div",19),r.TgZ(1,"div",20),r.TgZ(2,"div",15),r.TgZ(3,"div",16),r.TgZ(4,"div",17),r.TgZ(5,"textarea",21),r._uU(6,"               \n                            "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(5),r.Q6J("value",t.title+t.text)}}function qq(n,e){if(1&n&&(r.TgZ(0,"div",22),r.TgZ(1,"div",20),r.TgZ(2,"div",15),r.TgZ(3,"div",16),r.TgZ(4,"div",17),r.TgZ(5,"textarea",23),r._uU(6,"               \n                            "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(5),r.Q6J("value",t.title+t.text)}}function Hq(n,e){if(1&n&&(r.TgZ(0,"div",24),r._UZ(1,"img",25),r.TgZ(2,"div",14),r.TgZ(3,"div",26),r.TgZ(4,"div",27),r.TgZ(5,"textarea",28),r._uU(6,"               \n                    "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(1),r.s9C("src",t.coverImg,r.LSH),r.xp6(4),r.Q6J("value",t.title+t.text)}}function jq(n,e){if(1&n&&(r.TgZ(0,"div",29),r.TgZ(1,"div",14),r.TgZ(2,"div",26),r.TgZ(3,"div",27),r.TgZ(4,"textarea",30),r._uU(5,"               \n                    "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(4),r.Q6J("value",t.title+t.text)}}function $q(n,e){if(1&n&&(r.TgZ(0,"div",31),r.TgZ(1,"div",14),r.TgZ(2,"div",26),r.TgZ(3,"div",27),r.TgZ(4,"textarea",32),r._uU(5,"               \n                    "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(4),r.Q6J("value",t.title+t.text)}}function zq(n,e){if(1&n&&(r.TgZ(0,"div",33),r.TgZ(1,"div",14),r.TgZ(2,"div",26),r.TgZ(3,"div",27),r.TgZ(4,"textarea",34),r._uU(5,"               \n                    "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw(2);r.xp6(4),r.Q6J("value",t.title+t.text)}}function Wq(n,e){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,Zq,8,2,"div",1),r.YNc(2,Bq,7,1,"div",1),r.YNc(3,Vq,7,1,"div",6),r.YNc(4,qq,7,1,"div",7),r.YNc(5,Hq,7,2,"div",8),r.YNc(6,jq,6,1,"div",9),r.YNc(7,$q,6,1,"div",10),r.YNc(8,zq,6,1,"div",11),r.qZA()),2&n){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.authorTheme),r.xp6(1),r.Q6J("ngIf",t.DarkTheme),r.xp6(1),r.Q6J("ngIf",t.LightTheme),r.xp6(1),r.Q6J("ngIf",t.CreamTheme),r.xp6(1),r.Q6J("ngIf",t.authorTheme),r.xp6(1),r.Q6J("ngIf",t.DarkTheme),r.xp6(1),r.Q6J("ngIf",t.LightTheme),r.xp6(1),r.Q6J("ngIf",t.CreamTheme)}}function Gq(n,e){if(1&n&&(r.TgZ(0,"div",12),r._UZ(1,"img",13),r.TgZ(2,"div",14),r.TgZ(3,"div",15),r.TgZ(4,"div",16),r.TgZ(5,"div",17),r.TgZ(6,"textarea",35),r._uU(7,"               \n                        "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(1),r.s9C("src",t.coverImg,r.LSH),r.xp6(5),r.Q6J("value",t.title+"\n"+t.text)}}function Kq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",36),r.NdJ("click",function(){r.CHM(t);const a=r.oxw();return a.authorMenu=!a.authorMenu,a.privacyMenu=!1}),r.qZA()}}function Yq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",40),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).authorMenuAction(u.action)}),r.TgZ(2,"div",41),r.TgZ(3,"span",42),r.TgZ(4,"i",43),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",44),r.TgZ(10,"i"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(12,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(3),r.Oqu(t.desc)}}function Qq(n,e){if(1&n&&(r.TgZ(0,"div",37),r.TgZ(1,"div",38),r.YNc(2,Yq,13,3,"div",39),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.serviceAuthorCards)}}function Jq(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",47),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).menuAction(u.action)}),r.TgZ(2,"div",41),r.TgZ(3,"span",42),r.TgZ(4,"i",43),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",44),r.TgZ(10,"i"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(12,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(3),r.Oqu(t.desc)}}function Xq(n,e){if(1&n&&(r.TgZ(0,"div",45),r.TgZ(1,"div",46),r.YNc(2,Jq,13,3,"div",39),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.serviceCards)}}function eH(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",47),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).themeMenuAction(u.action)}),r.TgZ(2,"div",41),r.TgZ(3,"span",42),r.TgZ(4,"i",43),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",44),r.TgZ(10,"i"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(12,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(3),r.Oqu(t.desc)}}function tH(n,e){if(1&n&&(r.TgZ(0,"div",45),r.TgZ(1,"div",46),r.YNc(2,eH,13,3,"div",39),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.themeCards)}}function nH(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",40),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).privacyAction(u.action)}),r.TgZ(2,"div",41),r.TgZ(3,"span",42),r.TgZ(4,"i",43),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",44),r.TgZ(10,"i"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(12,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(3),r.Oqu(t.desc)}}function iH(n,e){if(1&n&&(r.TgZ(0,"div",37),r.TgZ(1,"div",38),r.YNc(2,nH,13,3,"div",39),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.authorPrivacyCards)}}function rH(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",40),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).deletionMenuAction(u.action)}),r.TgZ(2,"div",41),r.TgZ(3,"span",42),r.TgZ(4,"i",43),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",44),r.TgZ(10,"i"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(12,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(3),r.Oqu(t.desc)}}function sH(n,e){if(1&n&&(r.TgZ(0,"div",37),r.TgZ(1,"div",38),r.YNc(2,rH,13,3,"div",39),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.deletionCards)}}let oH=(()=>{class n{constructor(t,i,a,u,h,g,C,A,L){this.route=t,this.router=i,this.activatedroute=a,this.AuthService=u,this.firebaseAuth=h,this.location=g,this.chapterService=C,this._location=A,this.userService=L,this.showMenuBtn=!1,this.serviceMenu=!1,this.themeMenu=!1,this.authorMenu=!1,this.privacyMenu=!1,this.deletionMenu=!1,this.editingWork=!1,this.currentPrivacy="",this.serviceAuthorCards=[{title:"Edit",desc:"Edit this chapter",icon:"create",action:"EDIT"},{title:"Change Privacy",desc:"Change Privacy settings for chapter",icon:"visibility",action:"PRIVACY"},{title:"Delete",desc:"Delete this chapter from legacy",icon:"delete_forever",action:"DELETE"}],this.deletionCards=[{title:"Delete Chapter?",desc:"This action cannot be undone.",icon:"delete_forever",action:"DELETE"},{title:"Cancel",desc:"Return to Author's menu",icon:"cancel",action:"CANCEL"}],this.authorPrivacyCards=[{title:"Public",desc:"Anyone can read this chapter",icon:"visibility",action:"PUBLIC"},{title:"Private",desc:"Only you can read this chapter",icon:"visibility_off",action:"PRIVATE"},{title:"Cancel",desc:"return to author's menu",icon:"cancel",action:"CANCEL"}],this.serviceCards=[{title:"Theme",desc:"Change page theme",icon:"book",action:"THEME"},{title:"Bookmark",desc:"Save to read later",icon:"book",action:"SAVE"},{title:"Return",desc:"Return to Legacy",icon:"cancel",action:"CLOSE"}],this.themeCards=[{title:"Dark",desc:"Black background with white text",icon:"brightness_2",action:"DARK"},{title:"Light",desc:"Light background with black text",icon:"brightness_high",action:"LIGHT"},{title:"Creme",desc:"Creme color with black text",icon:"brightness_6",action:"CREAM"},{title:"Author's Theme",desc:"Style based on author's theme",icon:"create",action:"AUTHOR"}],this.authorTheme=!0,this.DarkTheme=!1,this.LightTheme=!1,this.CreamTheme=!1,this.chapterID="",this.legacyID="",this.legacy="",this.title="",this.text="",this.coverImg="",this.author=!1,this.tempAuthor="",this.currentUserID="",sessionStorage.getItem("chapterData")}ngOnInit(){const t=JSON.parse(localStorage.getItem("userData"));this.dataValue=sessionStorage.getItem("chapterData"),this.returnValue=sessionStorage.getItem("returnValue"),this.dataValue?(this.chapterData=JSON.parse(sessionStorage.getItem("chapterData")),this.text=this.chapterData.text,this.coverImg=this.chapterData.cover,this.title=this.chapterData.title,this.tempAuthor=this.chapterData.author,this.legacyID=this.chapterData.LegacyId,this.chapterID=this.chapterData.id,this.currentUserID=t.uid,this.tempAuthor==t.uid&&(this.author=!0)):(this.chapterData=this.chapterService.chapter,console.log("CData: below"),console.log(this.chapterData),this.text=this.chapterData.text,this.coverImg=this.chapterData.cover,this.title=this.chapterData.title,this.tempAuthor=this.chapterData.author,this.legacyID=this.chapterData.LegacyId,this.chapterID=this.chapterData.id,this.currentUserID=t.uid,this.tempAuthor==t.uid&&(this.author=!0))}navigateLegacy(t){this.router.navigate(["/Legacy"],{queryParams:{id:t},queryParamsHandling:"merge"})}menuAction(t){switch(t){case"THEME":this.serviceMenu=!1,this.themeMenu=!0;break;case"SAVE":this.AuthService.saveLegacyChapter({title:this.title,cover:this.coverImg,author:this.author,legacyID:this.legacyID,chapterID:this.chapterID},this.currentUserID),M.toast({html:"Chapter Bookmarked",classes:"rounded"}),this.serviceCards[1]={title:"Un-Bookmark",desc:"Remove Chapter from bookmarks",icon:"bookmark_border",action:"UNSAVE"};break;case"UNSAVE":M.toast({html:"Bookmark Removed",classes:"rounded"}),this.AuthService.unSaveLegacyChapter(this.legacyID,this.chapterID,this.currentUserID),this.serviceCards[1]={title:"Bookmark",desc:"Save to read later",icon:"bookmark",action:"SAVE"};break;case"CLOSE":this.navigateLegacy(this.legacyID)}}authorMenuAction(t){switch(t){case"EDIT":this.editingWork=!0,this.authorMenu=!1,this.privacyMenu=!1;break;case"PRIVACY":this.authorMenu=!1,this.privacyMenu=!0;break;case"DELETE":this.authorMenu=!1,this.deletionMenu=!0,this.privacyMenu=!1}}deletionMenuAction(t){switch(t){case"DELETE":M.toast({html:"Chapter Deleted",classes:"rounded"}),this.AuthService.deleteLegacyChapter(this.legacyID,this.chapterID),this._location.back(),this.deletionMenu=!1,this.authorMenu=!1,this.privacyMenu=!1;break;case"CANCEL":this.deletionMenu=!1,this.authorMenu=!0,this.privacyMenu=!1}}privacyAction(t){switch(t){case"PUBLIC":M.toast({html:"Chapter Made Public",classes:"rounded"}),this.AuthService.updateLegacyPrivacy(this.legacyID,this.chapterID,"public"),this.authorMenu=!1,this.privacyMenu=!1;break;case"PRIVATE":M.toast({html:"Chapter Made Private",classes:"rounded"}),this.AuthService.updateLegacyPrivacy(this.legacyID,this.chapterID,"private"),this.authorMenu=!1,this.privacyMenu=!1;break;case"CANCEL":this.authorMenu=!0,this.privacyMenu=!1,this.serviceMenu=!1,this.themeMenu=!1}}themeMenuAction(t){switch(t){case"DARK":M.toast({html:"Dark Theme Set",classes:"rounded"}),this.authorTheme=!1,this.LightTheme=!1,this.DarkTheme=!0,this.serviceMenu=!1,this.CreamTheme=!1,this.themeMenu=!1,this.authorMenu=!1,this.privacyMenu=!1;break;case"LIGHT":M.toast({html:"Light Theme Set",classes:"rounded"}),this.authorTheme=!1,this.DarkTheme=!1,this.LightTheme=!0,this.serviceMenu=!1,this.CreamTheme=!1,this.themeMenu=!1,this.authorMenu=!1,this.privacyMenu=!1;break;case"CREAM":M.toast({html:"Creme Theme Set",classes:"rounded"}),this.authorTheme=!1,this.DarkTheme=!1,this.LightTheme=!1,this.CreamTheme=!0,this.serviceMenu=!1,this.themeMenu=!1,this.authorMenu=!1,this.privacyMenu=!1;break;case"AUTHOR":M.toast({html:"Default Theme Set",classes:"rounded"}),this.authorTheme=!0,this.DarkTheme=!1,this.LightTheme=!1,this.CreamTheme=!1,this.serviceMenu=!1,this.themeMenu=!1,this.authorMenu=!1,this.privacyMenu=!1}}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(qi),r.Y36(mi),r.Y36(qi),r.Y36(nd),r.Y36(ra),r.Y36(_),r.Y36(lI),r.Y36(_),r.Y36(Pu))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-read-writing"]],decls:9,vars:8,consts:[[4,"ngIf"],["class","hide-on-med-and-down",4,"ngIf"],[1,"leftMenu",3,"click"],["class","rightMenu",3,"click",4,"ngIf"],["class","serviceMenuAuthor",4,"ngIf"],["class","serviceMenu",4,"ngIf"],["class","white hide-on-med-and-down",4,"ngIf"],["class","hide-on-med-and-down","style","background-color: rgb(236, 195, 147);",4,"ngIf"],["class","hide-on-large-only",4,"ngIf"],["class","black hide-on-large-only",4,"ngIf"],["class","white hide-on-large-only",4,"ngIf"],["class","hide-on-large-only","style","background-color: rgb(209, 158, 92);",4,"ngIf"],[1,"hide-on-med-and-down"],["alt","cover","id","coverImg",3,"src"],[1,"center","white-text"],[1,"page"],[1,"row"],["id","page",1,"col","l10","offset-l1"],["disabled","","id","writtenPassage",1,"materialize-textarea",3,"value"],[1,"white","hide-on-med-and-down"],[1,"center","black-text"],["disabled","","id","lightWrittenPassage",1,"materialize-textarea",3,"value"],[1,"hide-on-med-and-down",2,"background-color","rgb(236, 195, 147)"],["disabled","","id","creamWrittenPassage",1,"materialize-textarea",3,"value"],[1,"hide-on-large-only"],["alt","cover","id","coverImgMed",3,"src"],[1,"container"],[1,"col","s8","m8","offset-s2","offset-m2"],["disabled","","id","mobileWrittenPassage",1,"materialize-textarea",3,"value"],[1,"black","hide-on-large-only"],["disabled","","id","mobileWrittenPassageDark",1,"materialize-textarea",3,"value"],[1,"white","hide-on-large-only"],["disabled","","id","mobileWrittenPassageLight",1,"materialize-textarea",3,"value"],[1,"hide-on-large-only",2,"background-color","rgb(209, 158, 92)"],["disabled","","id","mobileWrittenPassageCream",1,"materialize-textarea",3,"value"],["id","writtenPassageEdit",1,"materialize-textarea",3,"value"],[1,"rightMenu",3,"click"],[1,"serviceMenuAuthor"],["id","serviceAuthorList"],[4,"ngFor","ngForOf"],["id","serviceMenuAuthorBtn",1,"card",3,"click"],[1,"card-content","white-text"],[1,"card-title"],[1,"material-icons","small"],[2,"font-size","small"],[1,"serviceMenu"],["id","serviceList"],["id","serviceMenuBtn",1,"card",3,"click"]],template:function(t,i){1&t&&(r.YNc(0,Wq,9,8,"div",0),r.YNc(1,Gq,8,2,"div",1),r.TgZ(2,"div",2),r.NdJ("click",function(){return i.serviceMenu=!i.serviceMenu,i.themeMenu=!1}),r.qZA(),r.YNc(3,Kq,1,0,"div",3),r.YNc(4,Qq,3,1,"div",4),r.YNc(5,Xq,3,1,"div",5),r.YNc(6,tH,3,1,"div",5),r.YNc(7,iH,3,1,"div",4),r.YNc(8,sH,3,1,"div",4)),2&t&&(r.Q6J("ngIf",!i.editingWork),r.xp6(1),r.Q6J("ngIf",i.authorTheme&&i.editingWork),r.xp6(2),r.Q6J("ngIf",i.author),r.xp6(1),r.Q6J("ngIf",i.authorMenu),r.xp6(1),r.Q6J("ngIf",i.serviceMenu),r.xp6(1),r.Q6J("ngIf",i.themeMenu),r.xp6(1),r.Q6J("ngIf",i.privacyMenu),r.xp6(1),r.Q6J("ngIf",i.deletionMenu))},directives:[lr,ns],styles:['.container[_ngcontent-%COMP%]{padding:2% 2% 5%}#coverImg[_ngcontent-%COMP%]{background-size:cover;position:fixed;top:0%;left:0%;width:100%;z-index:-1;filter:blur(9px) brightness(65%)}#writtenPassage[_ngcontent-%COMP%]{color:#ffffffe3;white-space:pre-wrap;font-family:serif;font-size:35px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#writtenPassageEdit[_ngcontent-%COMP%]{color:#ffffffe3;white-space:pre-wrap;font-family:"Courier New",Courier,monospace;font-size:35px;overflow:auto;height:850px;max-height:850px;margin:0 auto;background-color:#0000007e;padding:10px}#lightWrittenPassage[_ngcontent-%COMP%]{color:#000;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:35px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#creamWrittenPassage[_ngcontent-%COMP%]{color:#1f1100;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:35px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#mobileWrittenPassage[_ngcontent-%COMP%]{color:#fff;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:25px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#mobileWrittenPassageDark[_ngcontent-%COMP%]{color:#fff;white-space:pre-wrap;font-family:"Trebuchet MS","Lucida Sans Unicode","Lucida Grande","Lucida Sans",Arial,sans-serif;font-size:25px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#mobileWrittenPassageLight[_ngcontent-%COMP%]{color:#000;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:25px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#mobileWrittenPassageCream[_ngcontent-%COMP%]{color:#1a0f03;white-space:pre-wrap;font-family:"Gill Sans","Gill Sans MT",Calibri,"Trebuchet MS",sans-serif;font-size:25px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#page[_ngcontent-%COMP%]{height:850px}#coverImgMed[_ngcontent-%COMP%]{background-size:cover;background-repeat:repeat;position:fixed;top:0%;left:0%;height:100%;width:100%;z-index:-1;filter:blur(10px) brightness(50%)}#text[_ngcontent-%COMP%]{font-family:"Lucida Sans","Lucida Sans Regular","Lucida Grande","Lucida Sans Unicode",Geneva,Verdana,sans-serif}*[_ngcontent-%COMP%]   For[_ngcontent-%COMP%]   the[_ngcontent-%COMP%]   service[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]   */[_ngcontent-%COMP%]   .serviceMenu[_ngcontent-%COMP%]{position:fixed;background-color:#0f0f12f1;left:30%;bottom:0%;z-index:10;width:20%;padding-left:5%}.serviceMenuAuthor[_ngcontent-%COMP%]{position:fixed;background-color:#0f0f12f1;right:30%;bottom:0%;z-index:10;width:20%;padding-left:5%}#serviceList[_ngcontent-%COMP%]{position:fixed;top:19%;left:3%;max-height:700px;overflow:auto;animation:.5s ease-out 0s 1 slideInFromLeft}#serviceAuthorList[_ngcontent-%COMP%]{position:fixed;top:19%;right:3%;max-height:700px;overflow:auto;animation:.5s ease-out 0s 1 slideInFromRight}#serviceMenuAuthorBtn[_ngcontent-%COMP%]{background-color:#110f1fa1;border:solid rgb(255,153,0) 1px;border-radius:10px;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif}#serviceMenuAuthorBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#472d0f;border:solid rgb(255,145,0) 1px;border-radius:10px;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif}#serviceMenuBtn[_ngcontent-%COMP%]{background-color:#0f131fa1;border:solid rgb(102,100,255) 3px;border-radius:10px;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif}#serviceMenuBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#0f1c47;border:solid rgb(126,140,212) 1px;border-radius:10px;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif}.serviceCard[_ngcontent-%COMP%]{position:fixed;bottom:10%;left:5%;z-index:10}.serviceAuthorCard[_ngcontent-%COMP%]{position:fixed;bottom:10%;left:5%;z-index:10}#serviceBtn[_ngcontent-%COMP%]{background-color:#0f131f;border:solid rgb(126,140,212) 1px;border-radius:10px;font-family:"Courier New",Courier,monospace;font-size:20px}.leftMenu[_ngcontent-%COMP%]{position:fixed;top:0%;left:0%;width:25%;height:100%;background-color:#0000}.rightMenu[_ngcontent-%COMP%]{position:fixed;top:0%;right:0%;width:25%;height:100%;background-color:#0000}.slide-fade-enter-active[_ngcontent-%COMP%]{transition:all 2s ease}.slide-fade-leave-active[_ngcontent-%COMP%]{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[_ngcontent-%COMP%], .slide-fade-leave-to[_ngcontent-%COMP%]{transform:translate(10px);opacity:0}@keyframes slideInFromRight{0%{transform:translate(200px)}to{transform:translate(0)}}@keyframes slideInFromLeft{0%{transform:translate(-200px)}to{transform:translate(0)}}'],data:{animation:[]}}),n})();function aH(n,e){1&n&&(r.TgZ(0,"h5",22),r.TgZ(1,"i",23),r._uU(2,"bookmark_border"),r.qZA(),r.qZA())}function lH(n,e){1&n&&(r.TgZ(0,"h5",24),r.TgZ(1,"i",23),r._uU(2,"bookmark"),r.qZA(),r.qZA())}function cH(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",7),r.TgZ(1,"div",0),r._UZ(2,"div",8),r.TgZ(3,"div",9),r._UZ(4,"br"),r.TgZ(5,"input",10),r.NdJ("ngModelChange",function(a){return r.CHM(t),r.oxw().newTitle=a}),r.qZA(),r.qZA(),r.TgZ(6,"div",11),r.TgZ(7,"div",12),r.TgZ(8,"div",13),r.TgZ(9,"h5",14),r.NdJ("click",function(){r.CHM(t);const a=r.oxw();return a.savedProgress=!0,a.menuCall("SAVE")}),r._uU(10,"Save"),r.qZA(),r.qZA(),r.TgZ(11,"div",15),r.YNc(12,aH,3,0,"h5",16),r.YNc(13,lH,3,0,"h5",17),r.qZA(),r.TgZ(14,"div",13),r.TgZ(15,"h5",18),r.NdJ("click",function(){r.CHM(t);const a=r.oxw();return a.displayPostMenu=!a.displayPostMenu}),r._uU(16,"Post"),r.qZA(),r.qZA(),r.TgZ(17,"div",15),r.TgZ(18,"h5",19),r.TgZ(19,"i",20),r._uU(20,"send"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"div",13),r.TgZ(22,"h5",18),r.NdJ("click",function(){return r.CHM(t),r.oxw().menuCall("DELETE")}),r._uU(23,"Delete"),r.qZA(),r.qZA(),r.TgZ(24,"div",15),r.TgZ(25,"h5",21),r.TgZ(26,"i",20),r._uU(27,"close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const t=r.oxw();r.xp6(5),r.Q6J("ngModel",t.newTitle),r.xp6(7),r.Q6J("ngIf",!t.savedProgress),r.xp6(1),r.Q6J("ngIf",t.savedProgress)}}function uH(n,e){if(1&n&&(r.TgZ(0,"div",25),r._UZ(1,"img",26),r.TgZ(2,"div",27),r.TgZ(3,"div",28),r.TgZ(4,"div",0),r.TgZ(5,"div",29),r.TgZ(6,"textarea",30),r._uU(7,"               \n                        "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(1),r.s9C("src",t.coverImg,r.LSH),r.xp6(5),r.Q6J("value",t.text)}}function dH(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",31),r.NdJ("click",function(){r.CHM(t);const a=r.oxw();return a.authorMenu=!a.authorMenu,a.privacyMenu=!1}),r.qZA()}}function hH(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",35),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).authorMenuAction(u.action)}),r.TgZ(2,"div",36),r.TgZ(3,"span",37),r.TgZ(4,"i",38),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",39),r.TgZ(10,"i"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(12,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(3),r.Oqu(t.desc)}}function fH(n,e){if(1&n&&(r.TgZ(0,"div",32),r.TgZ(1,"div",33),r.YNc(2,hH,13,3,"div",34),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.serviceAuthorCards)}}function pH(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",42),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).menuAction(u.action)}),r.TgZ(2,"div",36),r.TgZ(3,"span",37),r.TgZ(4,"i",38),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",39),r.TgZ(10,"i"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(12,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(3),r.Oqu(t.desc)}}function gH(n,e){if(1&n&&(r.TgZ(0,"div",40),r.TgZ(1,"div",41),r.YNc(2,pH,13,3,"div",34),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.serviceCards)}}function mH(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",42),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).themeMenuAction(u.action)}),r.TgZ(2,"div",36),r.TgZ(3,"span",37),r.TgZ(4,"i",38),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",39),r.TgZ(10,"i"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(12,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(3),r.Oqu(t.desc)}}function _H(n,e){if(1&n&&(r.TgZ(0,"div",40),r.TgZ(1,"div",41),r.YNc(2,mH,13,3,"div",34),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.themeCards)}}function yH(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",35),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).privacyAction(u.action)}),r.TgZ(2,"div",36),r.TgZ(3,"span",37),r.TgZ(4,"i",38),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",39),r.TgZ(10,"i"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(12,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(3),r.Oqu(t.desc)}}function vH(n,e){if(1&n&&(r.TgZ(0,"div",32),r.TgZ(1,"div",33),r.YNc(2,yH,13,3,"div",34),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.authorPrivacyCards)}}function bH(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",35),r.NdJ("click",function(){const u=r.CHM(t).$implicit;return r.oxw(2).deletionMenuAction(u.action)}),r.TgZ(2,"div",36),r.TgZ(3,"span",37),r.TgZ(4,"i",38),r._uU(5),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"b"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",39),r.TgZ(10,"i"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(12,"br"),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(5),r.Oqu(t.icon),r.xp6(3),r.hij(" ",t.title,""),r.xp6(3),r.Oqu(t.desc)}}function CH(n,e){if(1&n&&(r.TgZ(0,"div",32),r.TgZ(1,"div",33),r.YNc(2,bH,13,3,"div",34),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.deletionCards)}}let wH=(()=>{class n{constructor(t,i,a,u,h,g,C,A){this.router=t,this.AuthService=i,this.firebaseAuth=a,this.firebase=u,this.af=h,this.chapterService=g,this._location=C,this.location=A,this.showMenuBtn=!1,this.serviceMenu=!1,this.themeMenu=!1,this.authorMenu=!1,this.privacyMenu=!1,this.deletionMenu=!1,this.editingWork=!0,this.currentPrivacy="",this.serviceAuthorCards=[{title:"Change Privacy",desc:"Change Privacy settings for chapter",icon:"visibility",action:"PRIVACY"},{title:"Submit",desc:"upload this entry",icon:"create",action:"EDIT"}],this.deletionCards=[{title:"Delete Chapter?",desc:"This action cannot be undone.",icon:"delete_forever",action:"DELETE"},{title:"Cancel",desc:"Return to Author's menu",icon:"cancel",action:"CANCEL"}],this.authorPrivacyCards=[{title:"Public",desc:"Anyone can read this chapter",icon:"visibility",action:"PUBLIC"},{title:"Private",desc:"Only you can read this chapter",icon:"visibility_off",action:"PRIVATE"},{title:"Cancel",desc:"return to author's menu",icon:"cancel",action:"CANCEL"}],this.serviceCards=[{title:"Cover Image",desc:"Select Image as cover for entry",icon:"image",action:"THEME"},{title:"Save Draft",desc:"Save to read later",icon:"book",action:"SAVE"},{title:"Discard",desc:"Return to Legacy Page",icon:"cancel",action:"CLOSE"}],this.themeCards=[{title:"Dark",desc:"Black background with white text",icon:"brightness_2",action:"DARK"},{title:"Light",desc:"Light background with black text",icon:"brightness_high",action:"LIGHT"},{title:"Creme",desc:"Creme color with black text",icon:"brightness_6",action:"CREAM"},{title:"Author's Theme",desc:"Style based on author's theme",icon:"create",action:"AUTHOR"}],this.authorTheme=!0,this.DarkTheme=!1,this.LightTheme=!1,this.CreamTheme=!1,this.chapterID="",this.legacyID="",this.legacy="",this.title="",this.text="Write to your hearts content. . .",this.PrivacySetting="Public",this.public=!0,this.curentUserID="",this.coverImg="",this.type="Writing",this.displayModal=!1,this.newTitle="",this.writtenPassage="",this.imageCover="",this.modalActive=!1,this.prevWriting=!1,this.displayNavTool=!0,this.displaySubMenu=!1,this.displayPostMenu=!1,this.legacyList=[{id:"",title:"",cover:"",desc:"",privacy:"",type:"",updated:"",author:""}],this.subMenu=[{name:"Delete Post",icon:"clear",param:"DELETE"}],this.postMenu=[{name:"Legacy",icon:"book",param:"LEGACY"},{name:"Obsidian Rune",icon:"brightness_2",param:"OBSIDIAN"}],this.defaultImg="",this.defaultImgCover="https://firebasestorage.googleapis.com/v0/b/obsidianrune-vuejs.appspot.com/o/Classes%2F%CE%95%CE%BB%CE%B5%CF%85%CC%81%CE%B8%CE%B5%CF%81%CE%B7%20%CF%83%CE%BA%CE%B5%CC%81%CF%88%CE%B7.PNG?alt=media&token=1ddf6078-d29a-4532-ab6a-026c6cd6f35d",this.defaultPostImgPath="/N4Posts",this.defaultLegacyImgPath="/LegacyCovers",this.newLegacyTitle="",this.newLegacyDescription="",this.newLegacyCover="",this.privacy="public",this.displayLegacyList=!1,this.legacyListTxt="Select Legacy to save to",this.previousWriting=[],this.tempID="",this.savedProgress=!1,this.timeSaved="",this.timeStamp=new Date,this.username="",this.userProfileImg="",this.filePath="",this.imageUploaded=!1,this.downloadLink="",this.showErrMsg=!1,this.preSelection=!1,this.Entries="",this.Readers="",this.Likes="",this.desc="",this.author=!0,this.cover="",this.tempAuthor="",this.currentUserID="",this.firebaseAuth.authState.subscribe(L=>{L?(this.userData=L,localStorage.setItem("userData",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("userData"))):(localStorage.setItem("userData","null"),JSON.parse(localStorage.removeItem("userData")))})}saveProgress(){this.validate()&&(""==this.tempID?(this.tempID=this.AuthService.generateID(),this.AuthService.saveWritingProgress({title:this.newTitle,text:this.writtenPassage,userkey:this.userData.uid,date:this.timeSaved},this.userData.uid,this.tempID)):(this.AuthService.saveWritingProgress({title:this.newTitle,text:this.writtenPassage,userkey:this.userData.uid,date:this.timeSaved},this.userData.uid,this.tempID),ao.toast({html:"Progress Saved"})))}getCount(t){return(t=(t=(t=t.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")).split(" ").length}deleteProgress(){""!=this.tempID?(console.log("Deleting"),this.AuthService.deleteWritingProgress(this.userData.uid,this.tempID)):console.log(this.tempID)}menuCall(t){switch(t){case"TAG":alert("Tag Users called");break;case"IMG_COVER":alert("Add Image Cover called");break;case"SAVE":this.saveProgress();break;case"POST":this.displaySubMenu=!1,this.displayPostMenu=!0;break;case"DELETE":this.newTitle="",this.writtenPassage="",this.deleteProgress()}}upload(t){console.log("Upload function Called. . ."),this.filePath=t.target.files[0];var i=t.target.files[0].name;console.log(this.filePath),console.log(t.target.files[0].name),this.uploadFile(i)}uploadFile(t){console.log("UploadFile Called. . ."),console.log("Attempting upload to firebase ");var i=this.defaultLegacyImgPath+"/"+this.userData.uid+"/"+t,a=this.af.upload(i,this.filePath),u=this.af.ref(i);a.percentageChanges(),a.snapshotChanges().pipe(dr(()=>{this.imageLink=u.getDownloadURL(),this.imageLink.subscribe(g=>{this.downloadLink=g}),this.setImage(),this.imageUploaded=!0})).subscribe()}setImage(){this.imageUploaded=!0}ngOnInit(){this.userData=JSON.parse(localStorage.getItem("userData")),this.tempID=this.AuthService.generateID(),this.dataValue=sessionStorage.getItem("chapterData"),this.dataValue?(console.log(this.dataValue),this.legacyID=this.dataValue):(this.chapterData=this.chapterService.chapter,console.log("CData: below"),console.log(this.chapterData),this.writtenPassage=this.chapterData.text,this.coverImg=this.chapterData.cover,this.newTitle=this.chapterData.title,this.legacyID=this.chapterData.LegacyId,this.chapterID=this.chapterData.id);var t=(new Date).toLocaleString();this.timeSaved=t,this.username=this.userData.displayName,this.userProfileImg=this.userData.photoURL}ngAfterViewInit(){const t=document.querySelector("textarea");t.addEventListener("keydown",i=>{9===i.keyCode&&(i.preventDefault(),t.setRangeText("     ",t.selectionStart,t.selectionStart,"end"))})}adjustHeight(){var t,i,a,u,h;null===(t=document.getElementById("textRow"))||void 0===t||t.setAttribute("position","fixed"),null===(i=document.getElementById("textRow"))||void 0===i||i.setAttribute("top","5%"),null===(a=document.getElementById("textRow"))||void 0===a||a.setAttribute("width","100%"),null===(u=document.getElementById("writtenPassage"))||void 0===u||u.setAttribute("style","height: 750px"),null===(h=document.getElementById("writtenPassage"))||void 0===h||h.setAttribute("style","max-height: 750px")}swapPrivacy(){this.privacy="public"==this.privacy?"private":"public"}setWriting(t){this.newTitle=t.title,this.writtenPassage=t.text,this.tempID=t.id}updateLegacy(t){this.AuthService.updateLegacy(t,{author:this.userData.uid,cover:0==this.imageUploaded?this.downloadLink:this.defaultImgCover,date:this.timeSaved,privacy:this.privacy,text:this.writtenPassage,timestamp:this.timeStamp,title:this.newTitle}).then(()=>{ao.toast({html:"Saved to Legacy"})})}validate(){return null==this.newTitle||""==this.newTitle?(alert("Must fill in Title"),!1):null!=this.writtenPassage&&""!=this.writtenPassage||(alert("You have to write something before you post... "),!1)}navigateLegacy(t){this.router.navigate(["/Legacy"],{queryParams:{id:t},queryParamsHandling:"merge"})}menuAction(t){switch(t){case"THEME":this.serviceMenu=!1,this.themeMenu=!0;break;case"SAVE":this.AuthService.saveLegacyChapter({title:this.title,cover:this.coverImg,author:this.author,legacyID:this.legacyID,chapterID:this.chapterID},this.currentUserID),ao.toast({html:"Chapter Bookmarked",classes:"rounded"}),this.serviceCards[1]={title:"Un-Bookmark",desc:"Remove Chapter from bookmarks",icon:"bookmark_border",action:"UNSAVE"};break;case"UNSAVE":ao.toast({html:"Bookmark Removed",classes:"rounded"}),this.AuthService.unSaveLegacyChapter(this.legacyID,this.chapterID,this.currentUserID),this.serviceCards[1]={title:"Bookmark",desc:"Save to read later",icon:"bookmark",action:"SAVE"};break;case"CLOSE":this.navigateLegacy(this.legacyID)}}authorMenuAction(t){switch(t){case"EDIT":this.editingWork=!0,this.authorMenu=!1,this.privacyMenu=!1;break;case"PRIVACY":this.authorMenu=!1,this.privacyMenu=!0;break;case"DELETE":this.authorMenu=!1,this.deletionMenu=!0,this.privacyMenu=!1}}deletionMenuAction(t){switch(t){case"DELETE":ao.toast({html:"Chapter Deleted",classes:"rounded"}),this.AuthService.deleteLegacyChapter(this.legacyID,this.chapterID),this._location.back(),this.deletionMenu=!1,this.authorMenu=!1,this.privacyMenu=!1;break;case"CANCEL":this.deletionMenu=!1,this.authorMenu=!0,this.privacyMenu=!1}}privacyAction(t){switch(t){case"PUBLIC":ao.toast({html:"Chapter Made Public",classes:"rounded"}),this.AuthService.updateLegacyPrivacy(this.legacyID,this.chapterID,"public"),this.authorMenu=!1,this.privacyMenu=!1;break;case"PRIVATE":ao.toast({html:"Chapter Made Private",classes:"rounded"}),this.AuthService.updateLegacyPrivacy(this.legacyID,this.chapterID,"private"),this.authorMenu=!1,this.privacyMenu=!1;break;case"CANCEL":this.authorMenu=!0,this.privacyMenu=!1,this.serviceMenu=!1,this.themeMenu=!1}}themeMenuAction(t){switch(t){case"DARK":ao.toast({html:"Dark Theme Set",classes:"rounded"}),this.authorTheme=!1,this.LightTheme=!1,this.DarkTheme=!0,this.serviceMenu=!1,this.CreamTheme=!1,this.themeMenu=!1,this.authorMenu=!1,this.privacyMenu=!1;break;case"LIGHT":ao.toast({html:"Light Theme Set",classes:"rounded"}),this.authorTheme=!1,this.DarkTheme=!1,this.LightTheme=!0,this.serviceMenu=!1,this.CreamTheme=!1,this.themeMenu=!1,this.authorMenu=!1,this.privacyMenu=!1;break;case"CREAM":ao.toast({html:"Creme Theme Set",classes:"rounded"}),this.authorTheme=!1,this.DarkTheme=!1,this.LightTheme=!1,this.CreamTheme=!0,this.serviceMenu=!1,this.themeMenu=!1,this.authorMenu=!1,this.privacyMenu=!1;break;case"AUTHOR":ao.toast({html:"Default Theme Set",classes:"rounded"}),this.authorTheme=!0,this.DarkTheme=!1,this.LightTheme=!1,this.CreamTheme=!1,this.serviceMenu=!1,this.themeMenu=!1,this.authorMenu=!1,this.privacyMenu=!1}}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(mi),r.Y36(nd),r.Y36(ra),r.Y36(jb),r.Y36(Kb),r.Y36(lI),r.Y36(_),r.Y36(_))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-legacy"]],decls:11,vars:8,consts:[[1,"row"],["class","row black","id","subNav",4,"ngIf"],["class","hide-on-med-and-down",4,"ngIf"],[1,"leftMenu",3,"click"],["class","rightMenu",3,"click",4,"ngIf"],["class","serviceMenuAuthor",4,"ngIf"],["class","serviceMenu",4,"ngIf"],["id","subNav",1,"row","black"],[1,"col","m1"],[1,"col","s12","m3"],["id","title","placeholder","Title. . .","type","text",1,"validate",3,"ngModel","ngModelChange"],[1,"hide","col","m4","offset-m1"],[1,"row",2,"padding-top","5%"],[1,"col","s2"],[1,"saveBtn",3,"click"],[1,"col","s1"],["class","saveBtn","style","color: rgb(61, 123, 255);",4,"ngIf"],["class"," savedBtn",4,"ngIf"],[1,"postBtn",3,"click"],[1,""],[1,"material-icons",2,"font-size","30px","color","rgb(61, 123, 255)"],[1,"right"],[1,"saveBtn",2,"color","rgb(61, 123, 255)"],[1,"material-icons",2,"font-size","30px"],[1,"savedBtn"],[1,"hide-on-med-and-down"],["alt","cover","id","coverImg",3,"src"],[1,"center","white-text"],[1,"page"],["id","page",1,"col","l10","offset-l1"],["id","writtenPassageEdit",1,"materialize-textarea",3,"value"],[1,"rightMenu",3,"click"],[1,"serviceMenuAuthor"],["id","serviceAuthorList"],[4,"ngFor","ngForOf"],["id","serviceMenuAuthorBtn",1,"card",3,"click"],[1,"card-content","white-text"],[1,"card-title"],[1,"material-icons","small"],[2,"font-size","small"],[1,"serviceMenu"],["id","serviceList"],["id","serviceMenuBtn",1,"card",3,"click"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"app-navbar"),r.qZA(),r.YNc(2,cH,28,3,"div",1),r.YNc(3,uH,8,2,"div",2),r.TgZ(4,"div",3),r.NdJ("click",function(){return i.serviceMenu=!i.serviceMenu,i.themeMenu=!1}),r.qZA(),r.YNc(5,dH,1,0,"div",4),r.YNc(6,fH,3,1,"div",5),r.YNc(7,gH,3,1,"div",6),r.YNc(8,_H,3,1,"div",6),r.YNc(9,vH,3,1,"div",5),r.YNc(10,CH,3,1,"div",5)),2&t&&(r.xp6(2),r.Q6J("ngIf",i.displayNavTool),r.xp6(1),r.Q6J("ngIf",i.authorTheme&&i.editingWork),r.xp6(2),r.Q6J("ngIf",i.author),r.xp6(1),r.Q6J("ngIf",i.authorMenu),r.xp6(1),r.Q6J("ngIf",i.serviceMenu),r.xp6(1),r.Q6J("ngIf",i.themeMenu),r.xp6(1),r.Q6J("ngIf",i.privacyMenu),r.xp6(1),r.Q6J("ngIf",i.deletionMenu))},directives:[nC,lr,zp,Qb,Q_,ns],styles:['.container[_ngcontent-%COMP%]{padding:2% 2% 5%}#coverImg[_ngcontent-%COMP%]{background-size:cover;position:fixed;top:0%;left:0%;width:100%;z-index:-1;filter:blur(9px) brightness(65%)}#writtenPassage[_ngcontent-%COMP%]{color:#ffffffe3;white-space:pre-wrap;font-family:serif;font-size:35px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#writtenPassageEdit[_ngcontent-%COMP%]{color:#ffffffe3;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:35px;overflow:auto;min-height:90%;height:100%;max-height:100%;margin:0 auto;background-color:#0000007e;padding:10px}#lightWrittenPassage[_ngcontent-%COMP%]{color:#000;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:35px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#creamWrittenPassage[_ngcontent-%COMP%]{color:#1f1100;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:35px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#mobileWrittenPassage[_ngcontent-%COMP%]{color:#fff;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:25px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#mobileWrittenPassageDark[_ngcontent-%COMP%]{color:#fff;white-space:pre-wrap;font-family:"Trebuchet MS","Lucida Sans Unicode","Lucida Grande","Lucida Sans",Arial,sans-serif;font-size:25px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#mobileWrittenPassageLight[_ngcontent-%COMP%]{color:#000;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:25px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#mobileWrittenPassageCream[_ngcontent-%COMP%]{color:#1a0f03;white-space:pre-wrap;font-family:"Gill Sans","Gill Sans MT",Calibri,"Trebuchet MS",sans-serif;font-size:25px;padding-bottom:30%;overflow:auto;height:850px;max-height:850px;margin:0 auto}#page[_ngcontent-%COMP%]{position:relative;padding-top:3%;height:800px}#coverImgMed[_ngcontent-%COMP%]{background-size:cover;background-repeat:repeat;position:fixed;top:0%;left:0%;height:100%;width:100%;z-index:-1;filter:blur(10px) brightness(50%)}#text[_ngcontent-%COMP%]{font-family:"Lucida Sans","Lucida Sans Regular","Lucida Grande","Lucida Sans Unicode",Geneva,Verdana,sans-serif}*[_ngcontent-%COMP%]   For[_ngcontent-%COMP%]   the[_ngcontent-%COMP%]   service[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]   */[_ngcontent-%COMP%]   .serviceMenu[_ngcontent-%COMP%]{position:fixed;background-color:#0f0f12f1;left:30%;bottom:0%;z-index:10;width:20%;padding-left:5%}.serviceMenuAuthor[_ngcontent-%COMP%]{position:fixed;background-color:#0f0f12f1;right:30%;bottom:0%;z-index:10;width:20%;padding-left:5%}#serviceList[_ngcontent-%COMP%]{position:fixed;top:19%;left:3%;max-height:700px;overflow:auto;animation:.5s ease-out 0s 1 slideInFromLeft}#serviceAuthorList[_ngcontent-%COMP%]{position:fixed;top:19%;right:3%;max-height:700px;overflow:auto;animation:.5s ease-out 0s 1 slideInFromRight}#serviceMenuAuthorBtn[_ngcontent-%COMP%]{background-color:#110f1fa1;border:solid rgb(255,153,0) 1px;border-radius:10px;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif}#serviceMenuAuthorBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#472d0f;border:solid rgb(255,145,0) 1px;border-radius:10px;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif}#serviceMenuBtn[_ngcontent-%COMP%]{background-color:#0f131fa1;border:solid rgb(102,100,255) 3px;border-radius:10px;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif}#serviceMenuBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#0f1c47;border:solid rgb(126,140,212) 1px;border-radius:10px;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif}.serviceCard[_ngcontent-%COMP%]{position:fixed;bottom:10%;left:5%;z-index:10}.serviceAuthorCard[_ngcontent-%COMP%]{position:fixed;bottom:10%;left:5%;z-index:10}#serviceBtn[_ngcontent-%COMP%]{background-color:#0f131f;border:solid rgb(126,140,212) 1px;border-radius:10px;font-family:"Courier New",Courier,monospace;font-size:20px}.leftMenu[_ngcontent-%COMP%]{position:fixed;top:0%;left:0%;width:25%;height:100%;background-color:#0000}.rightMenu[_ngcontent-%COMP%]{position:fixed;top:0%;right:0%;width:25%;height:100%;background-color:#0000}.slide-fade-enter-active[_ngcontent-%COMP%]{transition:all 2s ease}.slide-fade-leave-active[_ngcontent-%COMP%]{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[_ngcontent-%COMP%], .slide-fade-leave-to[_ngcontent-%COMP%]{transform:translate(10px);opacity:0}@keyframes slideInFromRight{0%{transform:translate(200px)}to{transform:translate(0)}}@keyframes slideInFromLeft{0%{transform:translate(-200px)}to{transform:translate(0)}}#title[_ngcontent-%COMP%]{color:#d39116;font-size:25px;font-family:"Times New Roman",Times,serif;padding-left:15px}#saveBtn[_ngcontent-%COMP%]{color:#d39116;font-size:30px;padding-top:30px;padding-left:10px}#startMsgRow[_ngcontent-%COMP%]{position:fixed;top:350px;width:100%}#startMsg[_ngcontent-%COMP%]{color:#93abee57;font-family:"Allura",cursive;cursor:auto}#title[_ngcontent-%COMP%]{background-color:#1b1b1b;border:solid rgb(27,27,27) 2px;border-radius:15px}#newLegacytitle[_ngcontent-%COMP%]{background-color:#0000006b;border:solid rgb(27,27,27) 2px;color:#d38623e3;font-size:25px;border:none;font-family:"Times New Roman",Times,serif}#legacyTitle[_ngcontent-%COMP%]{background-color:#0000006b;border:solid rgb(27,27,27) 2px;font-size:larger;color:#b98523;font-family:"Times New Roman",Times,serif}#writtenPassage[_ngcontent-%COMP%]{color:#7e8cd4e3;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:30px;height:650px;max-height:650px;margin:0 auto;background-color:#0000001f;overflow:scroll}#textRow[_ngcontent-%COMP%]{position:fixed;top:15%;width:100%}[_ngcontent-%COMP%]::placeholder{color:#7e8cd4}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#7e8cd4}#submitBtn[_ngcontent-%COMP%]{background-color:#e48e24}#menuBtn[_ngcontent-%COMP%]{background-color:#0f131d;border:solid rgb(65,75,109) 2px;border-radius:10px;color:#fff;font-size:25px;font-family:"Times New Roman",Times,serif;position:fixed;bottom:10%;right:5%;padding:10px 35px}#menuBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#1c2335;border:solid rgb(79,91,133) 2px;border-radius:10px;color:#fff;font-size:25px;font-family:"Times New Roman",Times,serif;position:fixed;bottom:10%;right:5%;padding:15px 40px}#subMenuBtn[_ngcontent-%COMP%]{background-color:#0f131d;border:solid rgb(65,75,109) 2px;border-radius:10px;color:#fff;font-size:25px;font-family:"Times New Roman",Times,serif;padding:5px 25px}#subMenuBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#1c2335;border:solid rgb(79,91,133) 2px;border-radius:10px;color:#6b9fff;font-size:25px;font-family:"Times New Roman",Times,serif;padding:10px 30px}#subHeader[_ngcontent-%COMP%]{color:#e48e24;font-size:30px;font-family:"Times New Roman",Times,serif}#errHeader[_ngcontent-%COMP%]{color:#e4242e;font-size:30px;font-family:"Times New Roman",Times,serif}#privacySpan[_ngcontent-%COMP%]{color:#6b9fff;font-size:15px}#privacySpan[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;font-size:15px}#mobileMenuBtn[_ngcontent-%COMP%]{position:fixed;bottom:100px;right:50px;z-index:2}#subNav[_ngcontent-%COMP%]{position:absolute;top:5%;width:100%;-webkit-animation:dropIn .5s forwards;-webkit-animation-delay:2s;animation:dropIn .5s forwards;animation-delay:0s;z-index:5}.subMenu[_ngcontent-%COMP%]{position:absolute;bottom:20%;right:5%;-webkit-animation:slideIn .5s forwards;-webkit-animation-delay:2s;animation:slideIn .5s forwards;animation-delay:0s}#subMenuBtnIcon[_ngcontent-%COMP%]{font-size:30px}@keyframes slideIn{0%{transform:translate(900px)}to{transform:translate(0)}}@keyframes dropIn{0%{transform:translatey(-200px)}to{transform:translatey(0)}}@keyframes riseIn{0%{transform:translatey(800px)}to{transform:translatey(0)}}.prevMenu[_ngcontent-%COMP%]{background-color:#0000005b;width:20%;height:100%;position:fixed;top:16%;z-index:2}.username[_ngcontent-%COMP%]{color:#e48e24;font-size:35px;font-family:"allura",cursive;position:absolute;z-index:2}.saveBtn[_ngcontent-%COMP%]{color:#fff;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}.postBtn[_ngcontent-%COMP%]{color:#fff;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}.saveBtn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e48e24}.postBtn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e48e24}.savedBtn[_ngcontent-%COMP%]{color:#3d8bff}#closePrevBtn[_ngcontent-%COMP%]{cursor:pointer}#prevCard[_ngcontent-%COMP%]{background-color:#12121394;padding:3px}#prevCard[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#63636694;padding:3px}#prevCardTitle[_ngcontent-%COMP%]{color:#adadad;font-size:20px;font-family:Georgia,"Times New Roman",Times,serif;padding-left:15%}.box[_ngcontent-%COMP%]{height:75%;overflow:auto}#testCardAevum[_ngcontent-%COMP%]{width:100%;min-width:75%;background-color:#0000}.space[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%}#aevumItem[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:150px;width:300px;border:solid white 1px;display:inline-block}#aevumItem[_ngcontent-%COMP%]:hover{background-color:#290408;border-radius:15px;height:150px;cursor:pointer;border:solid rgb(255,123,0) 2px}.legacyTitle[_ngcontent-%COMP%]{color:#f5f5f5;text-shadow:5px 5px #000000;font-family:"Times New Roman",Times,serif;font-size:max(3vw,3px);position:absolute;right:10%;bottom:5%;z-index:3}#legacyImg[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:15px}#newLegacyModal[_ngcontent-%COMP%]{background-color:#0c1933;-webkit-animation:dropIn .5s forwards;-webkit-animation-delay:2s;animation:dropIn .5s forwards;animation-delay:0s}#newLegacyDescription[_ngcontent-%COMP%]{color:#d38623e3;white-space:pre-wrap;font-family:"Times New Roman",Times,serif;font-size:25px;min-height:200px;height:200px;max-height:200px;margin:0 auto;background-color:#0000006b;overflow:scroll}#newLegacyHeader[_ngcontent-%COMP%]{font-family:Georgia,"Times New Roman",Times,serif;color:#a17521}#btn[_ngcontent-%COMP%]{background-color:#0000;border:none;width:150px}#btn[_ngcontent-%COMP%]:hover{cursor:pointer}#fileBtn[_ngcontent-%COMP%]{border:none}#legacyCard[_ngcontent-%COMP%]{background-color:#515470}#newLegacyCard[_ngcontent-%COMP%]{width:100%}.box[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.card-reveal[_ngcontent-%COMP%]{background-color:#352628}.card-image[_ngcontent-%COMP%]{border:solid white 1px}#activator[_ngcontent-%COMP%]{object-fit:cover;max-height:400px}#modal[_ngcontent-%COMP%]{position:fixed;z-index:10;padding-top:10px;padding-bottom:15%;left:0;top:7%;width:100%;overflow:auto;background-color:#000;background-color:#0006;animation:1s ease-out 0s 1 slideInFromBelow}#modal1[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;background-color:#161a23;border:solid #535D80 2px;width:100%;height:100%;padding:1%}#legacyModal1[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;background-color:#121627;border-radius:20px;border:solid rgb(223,153,23) 1px;width:100%;height:100%;padding:0% 00.5% 10%}#legacyModal1[_ngcontent-%COMP%]:hover{cursor:pointer}#userModalLegacy[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:200px;width:100%;border:solid black 1px;display:inline-block}.modalLegacyTitle[_ngcontent-%COMP%]{color:#cc9620;font-family:Georgia,"Times New Roman",Times,serif}#legacyModalImg2[_ngcontent-%COMP%]{animation:1s ease-out 0s 1 slideInFromBelow;object-fit:cover;width:100%;height:100%;border-radius:15px}#legacyModalImg2[_ngcontent-%COMP%]:hover{cursor:pointer;filter:grayscale(100%);animation:1s ease-out 0s 1 slideInFromBelow;object-fit:cover;width:100%;height:100%;border-radius:15px}#newLegacyHeaderTxt[_ngcontent-%COMP%]{cursor:pointer;color:#fff;font-size:25px;position:absolute;top:35%;z-index:3}#imgFileInput[_ngcontent-%COMP%]{background-color:#030424;border-radius:15px;height:200px;width:100%;border:solid black 1px;display:inline-block}.image-upload[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}.modal-content[_ngcontent-%COMP%]{background-color:#0000}.card[_ngcontent-%COMP%]{background-color:#0000}']}),n})();const TH=[{path:"",component:P4,canActivate:[qh]},{path:"Profile",component:Uq,canActivate:[qh]},{path:"Login",component:MD,canActivate:[AF]},{path:"Discover",component:N4,canActivate:[qh]},{path:"Legacy",component:yq,canActivate:[qh]},{path:"newWriting",component:Fq,canActivate:[qh]},{path:"editLegacyChapter",component:wH,canActivate:[qh]},{path:"Reading",component:oH,canActivate:[qh]}];let EH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Ef.forRoot(TH)],Ef]}),n})(),Rs=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),IH=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Rs.STARTS_WITH,Rs.CONTAINS,Rs.NOT_CONTAINS,Rs.ENDS_WITH,Rs.EQUALS,Rs.NOT_EQUALS],numeric:[Rs.EQUALS,Rs.NOT_EQUALS,Rs.LESS_THAN,Rs.LESS_THAN_OR_EQUAL_TO,Rs.GREATER_THAN,Rs.GREATER_THAN_OR_EQUAL_TO],date:[Rs.DATE_IS,Rs.DATE_IS_NOT,Rs.DATE_BEFORE,Rs.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Ar.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Lt(Lt({},this.translation),t),this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pa]]}),n})(),xH=(()=>{class n{constructor(t,i,a){this.primengConfig=t,this.firebaseService=i,this.AuthService=a,this.title="ObsidianRune",this.isLoggedIn=!1,this.post="",this.postTitle="",this.postTxt=""}ngOnInit(){this.primengConfig.ripple=!0,this.AuthService.getPosts().subscribe(t=>{this.post=t.map(i=>{i.payload.doc.data()}),console.log(this.post)})}onSignIn(t,i){var a=this;return(0,Ne.Z)(function*(){yield a.firebaseService.signIn(t,i),a.firebaseService.isLoggedIn&&(a.isLoggedIn=!0)})()}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(IH),r.Y36(Pu),r.Y36(nd))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&r._UZ(0,"router-outlet")},directives:[Sn],styles:['@import"https://fonts.googleapis.com/css?family=Allura|Dancing+Script|Parisienne&display=swap";#imageSet[_ngcontent-%COMP%]{position:relative;z-index:20}.group[_ngcontent-%COMP%]{position:relative;top:23%;width:100%;z-index:1}#loginTxt[_ngcontent-%COMP%]{font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif}.stitle[_ngcontent-%COMP%]{font-family:"Courier New",Courier,monospace;color:#fff}.title[_ngcontent-%COMP%]{color:#055cd8;font-family:"Parisienne"}#login[_ngcontent-%COMP%]{padding-top:0%}.Rui[_ngcontent-%COMP%]{border-radius:50%;z-index:10}.Rui2[_ngcontent-%COMP%]{border-radius:50%;z-index:1}h3[_ngcontent-%COMP%]{color:#7082b6}.eternal[_ngcontent-%COMP%]{color:#33394eb3;font-family:"Allura",cursive;position:fixed;z-index:-1;top:10%;left:1%;width:100%}.fade-enter-active[_ngcontent-%COMP%], .fade-leave-active[_ngcontent-%COMP%]{transition:opacity .5s}.fade-enter[_ngcontent-%COMP%], .fade-leave-to[_ngcontent-%COMP%]{opacity:0}']}),n})();function xF(){return"undefined"!=typeof window&&void 0!==window.document}function hO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hh(n){switch(n.length){case 0:return new Tu;case 1:return n[0];default:return new Sy(n)}}function DF(n,e,t,i,a={},u={}){const h=[],g=[];let C=-1,A=null;if(i.forEach(L=>{const B=L.offset,re=B==C,he=re&&A||{};Object.keys(L).forEach(Ce=>{let Ve=Ce,Ke=L[Ce];if("offset"!==Ce)switch(Ve=e.normalizePropertyName(Ve,h),Ke){case"!":Ke=a[Ce];break;case ml:Ke=u[Ce];break;default:Ke=e.normalizeStyleValue(Ce,Ve,Ke,h)}he[Ve]=Ke}),re||g.push(he),A=he,C=B}),h.length){const L="\n - ";throw new Error(`Unable to animate due to the following errors:${L}${h.join(L)}`)}return g}function fO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&pO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&pO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&pO(t,"destroy",n)))}}function pO(n,e,t){const i=t.totalTime,u=gO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),h=n._data;return null!=h&&(u._data=h),u}function gO(n,e,t,i,a="",u=0,h){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:a,totalTime:u,disabled:!!h}}function aa(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function SF(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let mO=(n,e)=>!1,_O=(n,e)=>!1,kF=(n,e,t)=>[];const MF=hO();(MF||"undefined"!=typeof Element)&&(mO=xF()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),_O=(()=>{if(MF||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):_O}})(),kF=(n,e,t)=>{let i=[];if(t){const a=n.querySelectorAll(e);for(let u=0;u<a.length;u++)i.push(a[u])}else{const a=n.querySelector(e);a&&i.push(a)}return i});let Wp=null,OF=!1;function yO(n){Wp||(Wp=("undefined"!=typeof document?document.body:null)||{},OF=!!Wp.style&&"WebkitAppearance"in Wp.style);let e=!0;return Wp.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Wp.style,!e&&OF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Wp.style)),e}const vO=_O,bO=mO,CO=kF;function PF(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let RF=(()=>{class n{validateStyleProperty(t){return yO(t)}matchesElement(t,i){return vO(t,i)}containsElement(t,i){return bO(t,i)}query(t,i,a){return CO(t,i,a)}computeStyle(t,i,a){return a||""}animate(t,i,a,u,h,g=[],C){return new Tu(a,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),wO=(()=>{class n{}return n.NOOP=new RF,n})();const TO="ng-enter",AI="ng-leave",xI="ng-trigger",DI=".ng-trigger",NF="ng-animating",EO=".ng-animating";function Gp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:IO(parseFloat(e[1]),e[2])}function IO(n,e){return"s"===e?1e3*n:n}function SI(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let a,u=0,h="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=IO(parseFloat(g[1]),g[2]);const C=g[3];null!=C&&(u=IO(parseFloat(C),g[4]));const A=g[5];A&&(h=A)}else a=n;if(!t){let g=!1,C=e.length;a<0&&(e.push("Duration values below 0 are not allowed for this animation step."),g=!0),u<0&&(e.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&e.splice(C,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:u,easing:h}}(n,e,t)}function J_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function jh(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else J_(n,t);return t}function UF(n,e,t){return t?e+":"+t+";":""}function ZF(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=UF(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=UF(0,LH(t),n.style[t]));n.setAttribute("style",e)}function Vc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const a=xO(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[a]),n.style[a]=e[i]}),hO()&&ZF(n))}function Kp(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=xO(t);n.style[i]=""}),hO()&&ZF(n))}function iC(n){return Array.isArray(n)?1==n.length?n[0]:Iy(n):n}const AO=new RegExp("{{\\s*(.+?)\\s*}}","g");function BF(n){let e=[];if("string"==typeof n){let t;for(;t=AO.exec(n);)e.push(t[1]);AO.lastIndex=0}return e}function kI(n,e,t){const i=n.toString(),a=i.replace(AO,(u,h)=>{let g=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),g=""),g.toString()});return a==i?n:a}function MI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const RH=/-+([a-z0-9])/g;function xO(n){return n.replace(RH,(...e)=>e[1].toUpperCase())}function LH(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function VF(n,e){return 0===n||0===e}function qF(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let u=e[0],h=[];if(i.forEach(g=>{u.hasOwnProperty(g)||h.push(g),u[g]=t[g]}),h.length)for(var a=1;a<e.length;a++){let g=e[a];h.forEach(function(C){g[C]=DO(n,C)})}}return e}function la(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function DO(n,e){return window.getComputedStyle(n)[e]}function NH(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,e,t){if(":"==n[0]){const C=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof C)return void e.push(C);n=C}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const a=i[1],u=i[2],h=i[3];e.push(HF(a,h));"<"==u[0]&&!("*"==a&&"*"==h)&&e.push(HF(h,a))}(i,t,e)):t.push(n),t}const PI=new Set(["true","1"]),RI=new Set(["false","0"]);function HF(n,e){const t=PI.has(n)||RI.has(n),i=PI.has(e)||RI.has(e);return(a,u)=>{let h="*"==n||n==a,g="*"==e||e==u;return!h&&t&&"boolean"==typeof a&&(h=a?PI.has(n):RI.has(n)),!g&&i&&"boolean"==typeof u&&(g=u?PI.has(e):RI.has(e)),h&&g}}const ZH=new RegExp("s*:selfs*,?","g");function SO(n,e,t){return new BH(n).build(e,t)}class BH{constructor(e){this._driver=e}build(e,t){const i=new HH(t);return this._resetContextStyleTimingState(i),la(this,iC(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,a=t.depCount=0;const u=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const C=g,A=C.name;A.toString().split(/\s*,\s*/).forEach(L=>{C.name=L,u.push(this.visitState(C,t))}),C.name=A}else if(1==g.type){const C=this.visitTransition(g,t);i+=C.queryCount,a+=C.depCount,h.push(C)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:u,transitions:h,queryCount:i,depCount:a,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){const u=new Set,h=a||{};if(i.styles.forEach(g=>{if(LI(g)){const C=g;Object.keys(C).forEach(A=>{BF(C[A]).forEach(L=>{h.hasOwnProperty(L)||u.add(L)})})}}),u.size){const g=MI(u.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:e.name,style:i,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=la(this,iC(e.animation),t);return{type:1,matchers:NH(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Yp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>la(this,i,t)),options:Yp(e.options)}}visitGroup(e,t){const i=t.currentTime;let a=0;const u=e.steps.map(h=>{t.currentTime=i;const g=la(this,h,t);return a=Math.max(a,t.currentTime),g});return t.currentTime=a,{type:3,steps:u,options:Yp(e.options)}}visitAnimate(e,t){const i=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return kO(SI(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=kO(0,0,"");return u.dynamic=!0,u.strValue=i,u}return t=t||SI(i,e),kO(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let a,u=e.styles?e.styles:xs({});if(5==u.type)a=this.visitKeyframes(u,t);else{let h=e.styles,g=!1;if(!h){g=!0;const A={};i.easing&&(A.easing=i.easing),h=xs(A)}t.currentTime+=i.duration+i.delay;const C=this.visitStyle(h,t);C.isEmptyStep=g,a=C}return t.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==ml?i.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):i.push(h)}):i.push(e.styles);let a=!1,u=null;return i.forEach(h=>{if(LI(h)){const g=h,C=g.easing;if(C&&(u=C,delete g.easing),!a)for(let A in g)if(g[A].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let a=t.currentTime,u=t.currentTime;i&&u>0&&(u-=i.duration+i.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void t.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const C=t.collectedStyles[t.currentQuerySelector],A=C[g];let L=!0;A&&(u!=a&&u>=A.startTime&&a<=A.endTime&&(t.errors.push(`The CSS property "${g}" that exists between the times of "${A.startTime}ms" and "${A.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${a}ms"`),L=!1),u=A.startTime),L&&(C[g]={startTime:u,endTime:a}),t.options&&function(n,e,t){const i=e.params||{},a=BF(n);a.length&&a.forEach(u=>{i.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(h[g],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let u=0;const h=[];let g=!1,C=!1,A=0;const L=e.steps.map(At=>{const xt=this._makeStyleAst(At,t);let Vt=null!=xt.offset?xt.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(LI(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(LI(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(xt.styles),yt=0;return null!=Vt&&(u++,yt=xt.offset=Vt),C=C||yt<0||yt>1,g=g||yt<A,A=yt,h.push(yt),xt});C&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&t.errors.push("Please ensure that all keyframe offsets are in order");const B=e.steps.length;let re=0;u>0&&u<B?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(re=1/(B-1));const he=B-1,Ce=t.currentTime,Ve=t.currentAnimateTimings,Ke=Ve.duration;return L.forEach((At,xt)=>{const Vt=re>0?xt==he?1:re*xt:h[xt],yt=Vt*Ke;t.currentTime=Ce+Ve.delay+yt,Ve.duration=yt,this._validateStyleAst(At,t),At.offset=Vt,i.styles.push(At)}),i}visitReference(e,t){return{type:8,animation:la(this,iC(e.animation),t),options:Yp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Yp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Yp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[u,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ZH,"")),n=n.replace(/@\*/g,DI).replace(/@\w+/g,t=>DI+"-"+t.substr(1)).replace(/:animating/g,EO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+u:u,aa(t.collectedStyles,t.currentQuerySelector,{});const g=la(this,iC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:g,originalSelector:e.selector,options:Yp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:SI(e.timings,t.errors,!0);return{type:12,animation:la(this,iC(e.animation),t),timings:i,options:null}}}class HH{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function LI(n){return!Array.isArray(n)&&"object"==typeof n}function Yp(n){return n?(n=J_(n)).params&&(n.params=function(n){return n?J_(n):null}(n.params)):n={},n}function kO(n,e,t){return{duration:n,delay:e,easing:t}}function MO(n,e,t,i,a,u,h=null,g=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:a,delay:u,totalTime:a+u,easing:h,subTimeline:g}}class NI{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const GH=new RegExp(":enter","g"),YH=new RegExp(":leave","g");function OO(n,e,t,i,a,u={},h={},g,C,A=[]){return(new QH).buildKeyframes(n,e,t,i,a,u,h,g,C,A)}class QH{buildKeyframes(e,t,i,a,u,h,g,C,A,L=[]){A=A||new NI;const B=new PO(e,t,A,a,u,L,[]);B.options=C,B.currentTimeline.setStyles([h],null,B.errors,C),la(this,i,B);const re=B.timelines.filter(he=>he.containsAnimation());if(re.length&&Object.keys(g).length){const he=re[re.length-1];he.allowOnlyTimelineStyles()||he.setStyles([g],null,B.errors,C)}return re.length?re.map(he=>he.buildKeyframes()):[MO(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const a=t.createSubContext(e.options),u=t.currentTimeline.currentTime,h=this._visitSubInstructions(i,a,a.options);u!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let u=t.currentTimeline.currentTime;const h=null!=i.duration?Gp(i.duration):null,g=null!=i.delay?Gp(i.delay):null;return 0!==h&&e.forEach(C=>{const A=t.appendInstructionToTimeline(C,h,g);u=Math.max(u,A.duration+A.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),la(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let a=t;const u=e.options;if(u&&(u.params||u.delay)&&(a=t.createSubContext(u),a.transformIntoNewTimeline(),null!=u.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=FI);const h=Gp(u.delay);a.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>la(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let a=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Gp(e.options.delay):0;e.steps.forEach(h=>{const g=t.createSubContext(e.options);u&&g.delayNextStep(u),la(this,h,g),a=Math.max(a,g.currentTimeline.currentTime),i.push(g.currentTimeline)}),i.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return SI(t.params?kI(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),a.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(i.duration),this.visitStyle(u,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,a=t.currentAnimateTimings;!a&&i.getCurrentStyleProperties().length&&i.forwardFrame();const u=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(u):i.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,a=t.currentTimeline.duration,u=i.duration,g=t.createSubContext().currentTimeline;g.easing=i.easing,e.styles.forEach(C=>{g.forwardTime((C.offset||0)*u),g.setStyles(C.styles,C.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(a+u),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,a=e.options||{},u=a.delay?Gp(a.delay):0;u&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=FI);let h=i;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=g.length;let C=null;g.forEach((A,L)=>{t.currentQueryIndex=L;const B=t.createSubContext(e.options,A);u&&B.delayNextStep(u),A===t.element&&(C=B.currentTimeline),la(this,e.animation,B),B.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,B.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),C&&(t.currentTimeline.mergeTimelineCollectedStyles(C),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,a=t.currentTimeline,u=e.timings,h=Math.abs(u.duration),g=h*(t.currentQueryTotal-1);let C=h*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":C=g-C;break;case"full":C=i.currentStaggerTime}const L=t.currentTimeline;C&&L.delayNextStep(C);const B=L.currentTime;la(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=a.currentTime-B+(a.startTime-i.currentTimeline.startTime)}}const FI={};class PO{constructor(e,t,i,a,u,h,g,C){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=u,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=FI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new UI(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let a=this.options;null!=i.duration&&(a.duration=Gp(i.duration)),null!=i.delay&&(a.delay=Gp(i.delay));const u=i.params;if(u){let h=a.params;h||(h=this.options.params={}),Object.keys(u).forEach(g=>{(!t||!h.hasOwnProperty(g))&&(h[g]=kI(u[g],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(a=>{i[a]=t[a]})}}return e}createSubContext(e=null,t,i){const a=t||this.element,u=new PO(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=FI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},u=new JH(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(u),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,a,u,h){let g=[];if(a&&g.push(this.element),e.length>0){e=(e=e.replace(GH,"."+this._enterClassName)).replace(YH,"."+this._leaveClassName);let A=this._driver.query(this.element,e,1!=i);0!==i&&(A=i<0?A.slice(A.length+i,A.length):A.slice(0,i)),g.push(...A)}return!u&&0==g.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),g}}class UI{constructor(e,t,i,a){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new UI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ml,this._currentKeyframe[t]=ml}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,a){t&&(this._previousKeyframe.easing=t);const u=a&&a.params||{},h=function(n,e){const t={};let i;return n.forEach(a=>{"*"===a?(i=i||Object.keys(e),i.forEach(u=>{t[u]=ml})):jh(a,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(g=>{const C=kI(h[g],u,i);this._pendingStyles[g]=C,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:ml),this._updateStyle(g,C)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],a=e._styleSummary[t];(!i||a.time>i.time)&&this._updateStyle(t,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((g,C)=>{const A=jh(g,!0);Object.keys(A).forEach(L=>{const B=A[L];"!"==B?e.add(L):B==ml&&t.add(L)}),i||(A.offset=C/this.duration),a.push(A)});const u=e.size?MI(e.values()):[],h=t.size?MI(t.values()):[];if(i){const g=a[0],C=J_(g);g.offset=0,C.offset=1,a=[g,C]}return MO(this.element,a,u,h,this.duration,this.startTime,this.easing,!1)}}class JH extends UI{constructor(e,t,i,a,u,h,g=!1){super(e,t,h.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=u,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],h=i+t,g=t/h,C=jh(e[0],!1);C.offset=0,u.push(C);const A=jh(e[0],!1);A.offset=zF(g),u.push(A);const L=e.length-1;for(let B=1;B<=L;B++){let re=jh(e[B],!1);re.offset=zF((t+re.offset*i)/h),u.push(re)}i=h,t=0,a="",e=u}return MO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,a,!0)}}function zF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class RO{}class ej extends RO{normalizePropertyName(e,t){return xO(e)}normalizeStyleValue(e,t,i,a){let u="";const h=i.toString().trim();if(tj[t]&&0!==i&&"0"!==i)if("number"==typeof i)u="px";else{const g=i.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&a.push(`Please provide a CSS unit value for ${e}:${i}`)}return h+u}}const tj=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function WF(n,e,t,i,a,u,h,g,C,A,L,B,re){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:u,toState:i,toStyles:h,timelines:g,queriedElements:C,preStyleProps:A,postStyleProps:L,totalTime:B,errors:re}}const LO={};class GF{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,a){return function(n,e,t,i,a){return n.some(u=>u(e,t,i,a))}(this.ast.matchers,e,t,i,a)}buildStyles(e,t,i){const a=this._stateStyles["*"],u=this._stateStyles[e],h=a?a.buildStyles(t,i):{};return u?u.buildStyles(t,i):h}build(e,t,i,a,u,h,g,C,A,L){const B=[],re=this.ast.options&&this.ast.options.params||LO,Ce=this.buildStyles(i,g&&g.params||LO,B),Ve=C&&C.params||LO,Ke=this.buildStyles(a,Ve,B),At=new Set,xt=new Map,Vt=new Map,yt="void"===a,An={params:Lt(Lt({},re),Ve)},ei=L?[]:OO(e,t,this.ast.animation,u,h,Ce,Ke,An,A,B);let Si=0;if(ei.forEach(ca=>{Si=Math.max(ca.duration+ca.delay,Si)}),B.length)return WF(t,this._triggerName,i,a,yt,Ce,Ke,[],[],xt,Vt,Si,B);ei.forEach(ca=>{const sd=ca.element,A3=aa(xt,sd,{});ca.preStyleProps.forEach(Qp=>A3[Qp]=!0);const sC=aa(Vt,sd,{});ca.postStyleProps.forEach(Qp=>sC[Qp]=!0),sd!==t&&At.add(sd)});const lo=MI(At.values());return WF(t,this._triggerName,i,a,yt,Ce,Ke,ei,lo,xt,Vt,Si)}}class rj{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},a=J_(this.defaultParams);return Object.keys(e).forEach(u=>{const h=e[u];null!=h&&(a[u]=h)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const h=u;Object.keys(h).forEach(g=>{let C=h[g];C.length>1&&(C=kI(C,a,t));const A=this.normalizer.normalizePropertyName(g,t);C=this.normalizer.normalizeStyleValue(g,A,C,t),i[A]=C})}}),i}}class oj{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(a=>{this.states[a.name]=new rj(a.style,a.options&&a.options.params||{},i)}),KF(this.states,"true","1"),KF(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new GF(e,a,this.states))}),this.fallbackTransition=function(n,e,t){return new GF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,a){return this.transitionFactories.find(h=>h.match(e,t,i,a))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function KF(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const lj=new NI;class cj{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],a=SO(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=a}_buildPlayer(e,t,i){const a=e.element,u=DF(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(a,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const a=[],u=this._animations[e];let h;const g=new Map;if(u?(h=OO(this._driver,t,u,TO,AI,{},{},i,lj,a),h.forEach(L=>{const B=aa(g,L.element,{});L.postStyleProps.forEach(re=>B[re]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);g.forEach((L,B)=>{Object.keys(L).forEach(re=>{L[re]=this._driver.computeStyle(B,re,ml)})});const A=Hh(h.map(L=>{const B=g.get(L.element);return this._buildPlayer(L,{},B)}));return this._playersById[e]=A,A.onDestroy(()=>this.destroy(e)),this.players.push(A),A}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,a){const u=gO(t,"","","");return fO(this._getPlayer(e),i,u,a),()=>{}}command(e,t,i,a){if("register"==i)return void this.register(e,a[0]);if("create"==i)return void this.create(e,t,a[0]||{});const u=this._getPlayer(e);switch(i){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const YF="ng-animate-queued",QF="ng-animate-disabled",JF=".ng-animate-disabled",fj=[],XF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qa="__ng_removed";class NO{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?e.value:e),i){const u=J_(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(a=>{null==i[a]&&(i[a]=t[a])})}}}const rC="void",FO=new NO(rC);class gj{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ja(t,this._hostClassName)}listen(e,t,i,a){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const u=aa(this._elementListeners,e,[]),h={name:t,phase:i,callback:a};u.push(h);const g=aa(this._engine.statesByElement,e,{});return g.hasOwnProperty(t)||(Ja(e,xI),Ja(e,xI+"-"+t),g[t]=FO),()=>{this._engine.afterFlush(()=>{const C=u.indexOf(h);C>=0&&u.splice(C,1),this._triggers[t]||delete g[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,a=!0){const u=this._getTrigger(t),h=new UO(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(Ja(e,xI),Ja(e,xI+"-"+t),this._engine.statesByElement.set(e,g={}));let C=g[t];const A=new NO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&C&&A.absorbOptions(C.options),g[t]=A,C||(C=FO),A.value!==rC&&C.value===A.value){if(!function(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let a=0;a<t.length;a++){const u=t[a];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(C.params,A.params)){const Ve=[],Ke=u.matchStyles(C.value,C.params,Ve),At=u.matchStyles(A.value,A.params,Ve);Ve.length?this._engine.reportError(Ve):this._engine.afterFlush(()=>{Kp(e,Ke),Vc(e,At)})}return}const re=aa(this._engine.playersByElement,e,[]);re.forEach(Ve=>{Ve.namespaceId==this.id&&Ve.triggerName==t&&Ve.queued&&Ve.destroy()});let he=u.matchTransition(C.value,A.value,e,A.params),Ce=!1;if(!he){if(!a)return;he=u.fallbackTransition,Ce=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:he,fromState:C,toState:A,player:h,isFallbackTransition:Ce}),Ce||(Ja(e,YF),h.onStart(()=>{X_(e,YF)})),h.onDone(()=>{let Ve=this.players.indexOf(h);Ve>=0&&this.players.splice(Ve,1);const Ke=this._engine.playersByElement.get(e);if(Ke){let At=Ke.indexOf(h);At>=0&&Ke.splice(At,1)}}),this.players.push(h),re.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,DI,!0);i.forEach(a=>{if(a[Qa])return;const u=this._engine.fetchNamespacesByElement(a);u.size?u.forEach(h=>h.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,i,a){const u=this._engine.statesByElement.get(e);if(u){const h=[];if(Object.keys(u).forEach(g=>{if(this._triggers[g]){const C=this.trigger(e,g,rC,a);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&Hh(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const a=new Set;t.forEach(u=>{const h=u.name;if(a.has(h))return;a.add(h);const C=this._triggers[h].fallbackTransition,A=i[h]||FO,L=new NO(rC),B=new UO(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:C,fromState:A,toState:L,player:B,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(i.totalAnimations){const u=i.players.length?i.playersByQueriedElement.get(e):[];if(u&&u.length)a=!0;else{let h=e;for(;h=h.parentNode;)if(i.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)i.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Qa];(!u||u===XF)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ja(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const u=i.element,h=this._elementListeners.get(u);h&&h.forEach(g=>{if(g.name==i.triggerName){const C=gO(u,i.triggerName,i.fromState.value,i.toState.value);C._data=e,fO(i.player,g.phase,C,g.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(i)}),this._queue=[],t.sort((i,a)=>{const u=i.transition.ast.depCount,h=a.transition.ast.depCount;return 0==u||0==h?u-h:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class mj{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new gj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let a=!1;for(let u=i;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let a=this._namespaceLookup[e];a&&a.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const a=Object.keys(i);for(let u=0;u<a.length;u++){const h=i[a[u]].namespaceId;if(h){const g=this._fetchNamespace(h);g&&t.add(g)}}}return t}trigger(e,t,i,a){if(ZI(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,i,a),!0}return!1}insertNode(e,t,i,a){if(!ZI(t))return;const u=t[Qa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,i)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ja(e,QF)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),X_(e,QF))}removeNode(e,t,i,a){if(ZI(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),i){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,i,a){this.collectedLeaveElements.push(t),t[Qa]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,a,u){return ZI(t)?this._fetchNamespace(e).listen(t,i,a,u):()=>{}}_buildInstruction(e,t,i,a,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,DI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,EO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Qa];if(t&&t.setForRemoval){if(e[Qa]=XF,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,JF)&&this.markElementAsDisabled(e,!1),this.driver.query(e,JF,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ja(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Hh(t).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new NI,a=[],u=new Map,h=[],g=new Map,C=new Map,A=new Map,L=new Set;this.disabledNodes.forEach(Ot=>{L.add(Ot);const zt=this.driver.query(Ot,".ng-animate-queued",!0);for(let dn=0;dn<zt.length;dn++)L.add(zt[dn])});const B=this.bodyNode,re=Array.from(this.statesByElement.keys()),he=n3(re,this.collectedEnterElements),Ce=new Map;let Ve=0;he.forEach((Ot,zt)=>{const dn=TO+Ve++;Ce.set(zt,dn),Ot.forEach(Zn=>Ja(Zn,dn))});const Ke=[],At=new Set,xt=new Set;for(let Ot=0;Ot<this.collectedLeaveElements.length;Ot++){const zt=this.collectedLeaveElements[Ot],dn=zt[Qa];dn&&dn.setForRemoval&&(Ke.push(zt),At.add(zt),dn.hasAnimation?this.driver.query(zt,".ng-star-inserted",!0).forEach(Zn=>At.add(Zn)):xt.add(zt))}const Vt=new Map,yt=n3(re,Array.from(At));yt.forEach((Ot,zt)=>{const dn=AI+Ve++;Vt.set(zt,dn),Ot.forEach(Zn=>Ja(Zn,dn))}),e.push(()=>{he.forEach((Ot,zt)=>{const dn=Ce.get(zt);Ot.forEach(Zn=>X_(Zn,dn))}),yt.forEach((Ot,zt)=>{const dn=Vt.get(zt);Ot.forEach(Zn=>X_(Zn,dn))}),Ke.forEach(Ot=>{this.processLeaveNode(Ot)})});const An=[],ei=[];for(let Ot=this._namespaceList.length-1;Ot>=0;Ot--)this._namespaceList[Ot].drainQueuedTransitions(t).forEach(dn=>{const Zn=dn.player,Xr=dn.element;if(An.push(Zn),this.collectedEnterElements.length){const Hc=Xr[Qa];if(Hc&&Hc.setForMove)return void Zn.destroy()}const qc=!B||!this.driver.containsElement(B,Xr),ua=Vt.get(Xr),$h=Ce.get(Xr),Ji=this._buildInstruction(dn,i,$h,ua,qc);if(Ji.errors&&Ji.errors.length)ei.push(Ji);else{if(qc)return Zn.onStart(()=>Kp(Xr,Ji.fromStyles)),Zn.onDestroy(()=>Vc(Xr,Ji.toStyles)),void a.push(Zn);if(dn.isFallbackTransition)return Zn.onStart(()=>Kp(Xr,Ji.fromStyles)),Zn.onDestroy(()=>Vc(Xr,Ji.toStyles)),void a.push(Zn);Ji.timelines.forEach(Hc=>Hc.stretchStartingKeyframe=!0),i.append(Xr,Ji.timelines),h.push({instruction:Ji,player:Zn,element:Xr}),Ji.queriedElements.forEach(Hc=>aa(g,Hc,[]).push(Zn)),Ji.preStyleProps.forEach((Hc,oC)=>{const jI=Object.keys(Hc);if(jI.length){let Jp=C.get(oC);Jp||C.set(oC,Jp=new Set),jI.forEach(qO=>Jp.add(qO))}}),Ji.postStyleProps.forEach((Hc,oC)=>{const jI=Object.keys(Hc);let Jp=A.get(oC);Jp||A.set(oC,Jp=new Set),jI.forEach(qO=>Jp.add(qO))})}});if(ei.length){const Ot=[];ei.forEach(zt=>{Ot.push(`@${zt.triggerName} has failed due to:\n`),zt.errors.forEach(dn=>Ot.push(`- ${dn}\n`))}),An.forEach(zt=>zt.destroy()),this.reportError(Ot)}const Si=new Map,lo=new Map;h.forEach(Ot=>{const zt=Ot.element;i.has(zt)&&(lo.set(zt,zt),this._beforeAnimationBuild(Ot.player.namespaceId,Ot.instruction,Si))}),a.forEach(Ot=>{const zt=Ot.element;this._getPreviousPlayers(zt,!1,Ot.namespaceId,Ot.triggerName,null).forEach(Zn=>{aa(Si,zt,[]).push(Zn),Zn.destroy()})});const ca=Ke.filter(Ot=>s3(Ot,C,A)),sd=new Map;t3(sd,this.driver,xt,A,ml).forEach(Ot=>{s3(Ot,C,A)&&ca.push(Ot)});const sC=new Map;he.forEach((Ot,zt)=>{t3(sC,this.driver,new Set(Ot),C,"!")}),ca.forEach(Ot=>{const zt=sd.get(Ot),dn=sC.get(Ot);sd.set(Ot,Lt(Lt({},zt),dn))});const Qp=[],x3=[],D3={};h.forEach(Ot=>{const{element:zt,player:dn,instruction:Zn}=Ot;if(i.has(zt)){if(L.has(zt))return dn.onDestroy(()=>Vc(zt,Zn.toStyles)),dn.disabled=!0,dn.overrideTotalTime(Zn.totalTime),void a.push(dn);let Xr=D3;if(lo.size>1){let ua=zt;const $h=[];for(;ua=ua.parentNode;){const Ji=lo.get(ua);if(Ji){Xr=Ji;break}$h.push(ua)}$h.forEach(Ji=>lo.set(Ji,Xr))}const qc=this._buildAnimation(dn.namespaceId,Zn,Si,u,sC,sd);if(dn.setRealPlayer(qc),Xr===D3)Qp.push(dn);else{const ua=this.playersByElement.get(Xr);ua&&ua.length&&(dn.parentPlayer=Hh(ua)),a.push(dn)}}else Kp(zt,Zn.fromStyles),dn.onDestroy(()=>Vc(zt,Zn.toStyles)),x3.push(dn),L.has(zt)&&a.push(dn)}),x3.forEach(Ot=>{const zt=u.get(Ot.element);if(zt&&zt.length){const dn=Hh(zt);Ot.setRealPlayer(dn)}}),a.forEach(Ot=>{Ot.parentPlayer?Ot.syncPlayerEvents(Ot.parentPlayer):Ot.destroy()});for(let Ot=0;Ot<Ke.length;Ot++){const zt=Ke[Ot],dn=zt[Qa];if(X_(zt,AI),dn&&dn.hasAnimation)continue;let Zn=[];if(g.size){let qc=g.get(zt);qc&&qc.length&&Zn.push(...qc);let ua=this.driver.query(zt,EO,!0);for(let $h=0;$h<ua.length;$h++){let Ji=g.get(ua[$h]);Ji&&Ji.length&&Zn.push(...Ji)}}const Xr=Zn.filter(qc=>!qc.destroyed);Xr.length?bj(this,zt,Xr):this.processLeaveNode(zt)}return Ke.length=0,Qp.forEach(Ot=>{this.players.push(Ot),Ot.onDone(()=>{Ot.destroy();const zt=this.players.indexOf(Ot);this.players.splice(zt,1)}),Ot.play()}),Qp}elementContainsData(e,t){let i=!1;const a=t[Qa];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,a,u){let h=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(h=g)}else{const g=this.playersByElement.get(e);if(g){const C=!u||u==rC;g.forEach(A=>{A.queued||!C&&A.triggerName!=a||h.push(A)})}}return(i||a)&&(h=h.filter(g=>!(i&&i!=g.namespaceId||a&&a!=g.triggerName))),h}_beforeAnimationBuild(e,t,i){const u=t.element,h=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const C of t.timelines){const A=C.element,L=A!==u,B=aa(i,A,[]);this._getPreviousPlayers(A,L,h,g,t.toState).forEach(he=>{const Ce=he.getRealPlayer();Ce.beforeDestroy&&Ce.beforeDestroy(),he.destroy(),B.push(he)})}Kp(u,t.fromStyles)}_buildAnimation(e,t,i,a,u,h){const g=t.triggerName,C=t.element,A=[],L=new Set,B=new Set,re=t.timelines.map(Ce=>{const Ve=Ce.element;L.add(Ve);const Ke=Ve[Qa];if(Ke&&Ke.removedBeforeQueried)return new Tu(Ce.duration,Ce.delay);const At=Ve!==C,xt=function(n){const e=[];return r3(n,e),e}((i.get(Ve)||fj).map(Si=>Si.getRealPlayer())).filter(Si=>!!Si.element&&Si.element===Ve),Vt=u.get(Ve),yt=h.get(Ve),An=DF(0,this._normalizer,0,Ce.keyframes,Vt,yt),ei=this._buildPlayer(Ce,An,xt);if(Ce.subTimeline&&a&&B.add(Ve),At){const Si=new UO(e,g,Ve);Si.setRealPlayer(ei),A.push(Si)}return ei});A.forEach(Ce=>{aa(this.playersByQueriedElement,Ce.element,[]).push(Ce),Ce.onDone(()=>function(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const a=i.indexOf(t);i.splice(a,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const a=i.indexOf(t);i.splice(a,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,Ce.element,Ce))}),L.forEach(Ce=>Ja(Ce,NF));const he=Hh(re);return he.onDestroy(()=>{L.forEach(Ce=>X_(Ce,NF)),Vc(C,t.toStyles)}),B.forEach(Ce=>{aa(a,Ce,[]).push(he)}),he}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Tu(e.duration,e.delay)}}class UO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Tu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>fO(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){aa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ZI(n){return n&&1===n.nodeType}function e3(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function t3(n,e,t,i,a){const u=[];t.forEach(C=>u.push(e3(C)));const h=[];i.forEach((C,A)=>{const L={};C.forEach(B=>{const re=L[B]=e.computeStyle(A,B,a);(!re||0==re.length)&&(A[Qa]=pj,h.push(A))}),n.set(A,L)});let g=0;return t.forEach(C=>e3(C,u[g++])),h}function n3(n,e){const t=new Map;if(n.forEach(g=>t.set(g,[])),0==e.length)return t;const a=new Set(e),u=new Map;function h(g){if(!g)return 1;let C=u.get(g);if(C)return C;const A=g.parentNode;return C=t.has(A)?A:a.has(A)?1:h(A),u.set(g,C),C}return e.forEach(g=>{const C=h(g);1!==C&&t.get(C).push(g)}),t}const BI="$$classes";function Ja(n,e){if(n.classList)n.classList.add(e);else{let t=n[BI];t||(t=n[BI]={}),t[e]=!0}}function X_(n,e){if(n.classList)n.classList.remove(e);else{let t=n[BI];t&&delete t[e]}}function bj(n,e,t){Hh(t).onDone(()=>n.processLeaveNode(e))}function r3(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Sy?r3(i.players,e):e.push(i)}}function s3(n,e,t){const i=t.get(n);if(!i)return!1;let a=e.get(n);return a?i.forEach(u=>a.add(u)):e.set(n,i),t.delete(n),!0}class VI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,u)=>{},this._transitionEngine=new mj(e,t,i),this._timelineEngine=new cj(e,t,i),this._transitionEngine.onRemovalComplete=(a,u)=>this.onRemovalComplete(a,u)}registerTrigger(e,t,i,a,u){const h=e+"-"+a;let g=this._triggerCache[h];if(!g){const C=[],A=SO(this._driver,u,C);if(C.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);g=function(n,e,t){return new oj(n,e,t)}(a,A,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(t,a,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,a){this._transitionEngine.insertNode(e,t,i,a)}onRemove(e,t,i,a){this._transitionEngine.removeNode(e,t,a||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,a){if("@"==i.charAt(0)){const[u,h]=SF(i);this._timelineEngine.command(u,t,h,a)}else this._transitionEngine.trigger(e,t,i,a)}listen(e,t,i,a,u){if("@"==i.charAt(0)){const[h,g]=SF(i);return this._timelineEngine.listen(h,t,g,u)}return this._transitionEngine.listen(e,t,i,a,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function o3(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ZO(e[0]),e.length>1&&(i=ZO(e[e.length-1]))):e&&(t=ZO(e)),t||i?new Tj(n,t,i):null}let Tj=(()=>{class n{constructor(t,i,a){this._element=t,this._startStyles=i,this._endStyles=a,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Vc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vc(this._element,this._initialStyles),this._endStyles&&(Vc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Kp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kp(this._element,this._endStyles),this._endStyles=null),Vc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ZO(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const a=t[i];Ej(a)&&(e=e||{},e[a]=n[a])}return e}function Ej(n){return"display"===n||"position"===n}const a3="animation",l3="animationend";class xj{constructor(e,t,i,a,u,h,g){this._element=e,this._name=t,this._duration=i,this._delay=a,this._easing=u,this._fillMode=h,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(n,e){const t=VO(n,"").trim();let i=0;t.length&&(function(n,e){let t=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&t++;return t}(t)+1,e=`${t}, ${e}`),qI(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),d3(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){c3(this._element,this._name,"paused")}resume(){c3(this._element,this._name,"running")}setPosition(e){const t=u3(this._element,this._name);this._position=e*this._duration,qI(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),d3(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const i=VO(n,"").split(","),a=BO(i,e);a>=0&&(i.splice(a,1),qI(n,"",i.join(",")))}(this._element,this._name))}}function c3(n,e,t){qI(n,"PlayState",t,u3(n,e))}function u3(n,e){const t=VO(n,"");return t.indexOf(",")>0?BO(t.split(","),e):BO([t],e)}function BO(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function d3(n,e,t){t?n.removeEventListener(l3,e):n.addEventListener(l3,e)}function qI(n,e,t,i){const a=a3+e;if(null!=i){const u=n.style[a];if(u.length){const h=u.split(",");h[i]=t,t=h.join(",")}}n.style[a]=t}function VO(n,e){return n.style[a3+e]||""}class h3{constructor(e,t,i,a,u,h,g,C){this.element=e,this.keyframes=t,this.animationName=i,this._duration=a,this._delay=u,this._finalStyles=g,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+u,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new xj(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:DO(this.element,i))})}this.currentSnapshot=e}}class Pj extends Tu{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=PF(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class p3{constructor(){this._count=0}validateStyleProperty(e){return yO(e)}matchesElement(e,t){return vO(e,t)}containsElement(e,t){return bO(e,t)}query(e,t,i){return CO(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(g=>PF(g));let a=`@keyframes ${t} {\n`,u="";i.forEach(g=>{u=" ";const C=parseFloat(g.offset);a+=`${u}${100*C}% {\n`,u+=" ",Object.keys(g).forEach(A=>{const L=g[A];switch(A){case"offset":return;case"easing":return void(L&&(a+=`${u}animation-timing-function: ${L};\n`));default:return void(a+=`${u}${A}: ${L};\n`)}}),a+=`${u}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(e,t,i,a,u,h=[],g){const C=h.filter(Ke=>Ke instanceof h3),A={};VF(i,a)&&C.forEach(Ke=>{let At=Ke.currentSnapshot;Object.keys(At).forEach(xt=>A[xt]=At[xt])});const L=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(a=>{"offset"==a||"easing"==a||(e[a]=i[a])})}),e}(t=qF(e,t,A));if(0==i)return new Pj(e,L);const B="gen_css_kf_"+this._count++,re=this.buildKeyframeElement(e,B,t);(function(n){var t;const e=null==(t=n.getRootNode)?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(re);const Ce=o3(e,t),Ve=new h3(e,t,B,i,a,u,L,Ce);return Ve.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(re)),Ve}}class m3{constructor(e,t,i,a){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:DO(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Uj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_3().toString()),this._cssKeyframesDriver=new p3}validateStyleProperty(e){return yO(e)}matchesElement(e,t){return vO(e,t)}containsElement(e,t){return bO(e,t)}query(e,t,i){return CO(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,a,u,h=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,a,u,h);const L={duration:i,delay:a,fill:0==a?"both":"forwards"};u&&(L.easing=u);const B={},re=h.filter(Ce=>Ce instanceof m3);VF(i,a)&&re.forEach(Ce=>{let Ve=Ce.currentSnapshot;Object.keys(Ve).forEach(Ke=>B[Ke]=Ve[Ke])});const he=o3(e,t=qF(e,t=t.map(Ce=>jh(Ce,!1)),B));return new m3(e,t,L,he)}}function _3(){return xF()&&Element.prototype.animate||{}}let Bj=(()=>{class n extends NC{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?Iy(t):t;return y3(this._renderer,null,i,"register",[a]),new Vj(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.FYo),r.LFG(De))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Vj extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qj(this._id,e,t||{},this._renderer)}}class qj{constructor(e,t,i,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return y3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!=(t=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?t:0}}function y3(n,e,t,i,a){return n.setProperty(e,`@@${t}:${i}`,a)}const v3="@.disabled";let Hj=(()=>{class n{constructor(t,i,a){this.delegate=t,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(u,h)=>{const g=null==h?void 0:h.parentNode(u);g&&h.removeChild(g,u)}}createRenderer(t,i){const u=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let L=this._rendererCache.get(u);return L||(L=new b3("",u,this.engine),this._rendererCache.set(u,L)),L}const h=i.id,g=i.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const C=L=>{Array.isArray(L)?L.forEach(C):this.engine.registerTrigger(h,g,t,L.name,L)};return i.data.animation.forEach(C),new jj(this,g,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,a){t>=0&&t<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[h,g]=u;h(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.FYo),r.LFG(VI),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class b3{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,a=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,a){this.delegate.setAttribute(e,t,i,a)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,a){this.delegate.setStyle(e,t,i,a)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==v3?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class jj extends b3{constructor(e,t,i,a){super(t,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==v3?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),h="";return"@"!=u.charAt(0)&&([u,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,a,u,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,i,g)})}return this.delegate.listen(e,t,i)}}let Wj=(()=>{class n extends VI{constructor(t,i,a){super(t.body,i,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(De),r.LFG(wO),r.LFG(RO))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const C3=new r.OlP("AnimationModuleType"),w3=[{provide:NC,useClass:Bj},{provide:RO,useFactory:function(){return new ej}},{provide:VI,useClass:Wj},{provide:r.FYo,useFactory:function(n,e,t){return new Hj(n,e,t)},deps:[Zo,VI,r.R0b]}],T3=[{provide:wO,useFactory:function(){return"function"==typeof _3()?new Uj:new p3}},{provide:C3,useValue:"BrowserAnimations"},...w3],Qj=[{provide:wO,useClass:RF},{provide:C3,useValue:"NoopAnimations"},...w3];let Jj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Qj:T3}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:T3,imports:[$l]}),n})(),Xj=(()=>{class n{constructor(){}getUserPosts(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E3_firebase={apiKey:"AIzaSyBT9KgVgHpDyJt_-11MNEKo_2wJb8jnqfg",authDomain:"obsidianrune-vuejs.firebaseapp.com",databaseURL:"https://obsidianrune-vuejs.firebaseio.com",projectId:"obsidianrune-vuejs",storageBucket:"obsidianrune-vuejs.appspot.com",messagingSenderId:"588393651282",appId:"1:588393651282:web:84be2d26360266176f538b"};let e7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pa]]}),n})(),I3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pa]]}),n})();Zg([xs({transform:"{{transform}}",opacity:0}),As("{{transition}}")]),Zg([As("{{transition}}",xs({transform:"{{transform}}",opacity:0}))]);let y7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pa,e7,I3],AH]}),n})(),b7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pa,I3]]}),n})(),C7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n,bootstrap:[xH]}),n.\u0275inj=r.cJS({providers:[Pu,Xj,qh,AF],imports:[[$l,EH,Jj,CV,A6,us.hO.initializeApp(E3_firebase),GR,F5,y7,b7]]}),n})();(0,r.G48)(),Ca().bootstrapModule(C7).catch(n=>console.error(n))},9162:(vt,$e,Q)=>{"use strict";function Le(G,ee,le,ge){return new(le||(le=Promise))(function(Ie,He){function rt(Ct){try{bt(ge.next(Ct))}catch(_t){He(_t)}}function St(Ct){try{bt(ge.throw(Ct))}catch(_t){He(_t)}}function bt(Ct){Ct.done?Ie(Ct.value):function(Ie){return Ie instanceof le?Ie:new le(function(He){He(Ie)})}(Ct.value).then(rt,St)}bt((ge=ge.apply(G,ee||[])).next())})}function K(G){return this instanceof K?(this.v=G,this):new K(G)}function j(G,ee,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ge=le.apply(G,ee||[]),Ie=[];return we={},He("next"),He("throw"),He("return"),we[Symbol.asyncIterator]=function(){return this},we;function He(Xt){ge[Xt]&&(we[Xt]=function(ln){return new Promise(function(Rn,an){Ie.push([Xt,ln,Rn,an])>1||rt(Xt,ln)})})}function rt(Xt,ln){try{!function(Xt){Xt.value instanceof K?Promise.resolve(Xt.value.v).then(bt,Ct):_t(Ie[0][2],Xt)}(ge[Xt](ln))}catch(Rn){_t(Ie[0][3],Rn)}}function bt(Xt){rt("next",Xt)}function Ct(Xt){rt("throw",Xt)}function _t(Xt,ln){Xt(ln),Ie.shift(),Ie.length&&rt(Ie[0][0],Ie[0][1])}}function S(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ee=G[Symbol.asyncIterator];return ee?ee.call(G):(G=function(G){var ee="function"==typeof Symbol&&Symbol.iterator,le=ee&&G[ee],ge=0;if(le)return le.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&ge>=G.length&&(G=void 0),{value:G&&G[ge++],done:!G}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),le={},ge("next"),ge("throw"),ge("return"),le[Symbol.asyncIterator]=function(){return this},le);function ge(Ie){le[Ie]=G[Ie]&&function(He){return new Promise(function(rt,St){!function(Ie,He,rt,St){Promise.resolve(St).then(function(bt){Ie({value:bt,done:rt})},He)}(rt,St,(He=G[Ie](He)).done,He.value)})}}}Q.d($e,{mG:()=>Le,qq:()=>K,FC:()=>j,KL:()=>S})},3668:(vt,$e,Q)=>{"use strict";Q.d($e,{deG:()=>dg,tb:()=>L0,AFp:()=>k1,ip1:()=>Nu,CZH:()=>Fu,hGG:()=>gn,z2F:()=>vc,sBO:()=>$1,Sil:()=>Bu,_Vd:()=>fc,EJc:()=>fp,SBq:()=>wl,qLn:()=>Hd,vpe:()=>ii,tBr:()=>hr,XFs:()=>st,OlP:()=>Qn,zs3:()=>ci,ZZ4:()=>bp,aQg:()=>r_,soG:()=>hp,YKP:()=>t1,h0i:()=>Tl,PXZ:()=>uS,R0b:()=>Gs,FiY:()=>Vi,Lbi:()=>R0,g9A:()=>P0,Qsj:()=>Xv,FYo:()=>Jv,JOm:()=>Fa,Tiy:()=>Qf,q3G:()=>Z,tp0:()=>Ni,Rgc:()=>th,dDg:()=>L1,q4F:()=>QT,GfV:()=>Jf,s_b:()=>ih,ifc:()=>fe,eFA:()=>W0,G48:()=>F1,Gpc:()=>ue,X6Q:()=>Jm,_c5:()=>Ys,VLi:()=>N1,c2e:()=>ah,zSh:()=>Kg,wAp:()=>qt,vHH:()=>O,EiD:()=>y,mCW:()=>ea,qzn:()=>Io,JVY:()=>Nd,pB0:()=>ff,eBb:()=>hf,L6k:()=>bg,LAX:()=>Cg,cg1:()=>bT,Tjo:()=>J1,kL8:()=>Jx,yhl:()=>vg,dqk:()=>Ht,sIi:()=>Jg,CqO:()=>Xw,QGY:()=>Jw,F4k:()=>gv,RDi:()=>Yc,AaK:()=>Le,z3N:()=>qi,qOj:()=>kw,TTD:()=>ys,_Bn:()=>VT,xp6:()=>Dy,uIk:()=>Uw,Gre:()=>Bx,ekj:()=>rm,Suo:()=>Sm,Xpm:()=>Kt,lG2:()=>mn,Yz7:()=>an,cJS:()=>yn,oAB:()=>ze,Yjl:()=>sn,Y36:()=>Yd,_UZ:()=>vx,qZA:()=>Qw,TgZ:()=>im,EpF:()=>pv,n5z:()=>wa,LFG:()=>it,$8M:()=>Wo,$Z:()=>yx,NdJ:()=>eT,CRH:()=>m0,oxw:()=>yv,Q6J:()=>Yw,s9C:()=>iT,MGl:()=>Bf,DdM:()=>r1,VKq:()=>s1,iGM:()=>f1,MAs:()=>lx,CHM:()=>ls,LSH:()=>ft,YNc:()=>ax,_uU:()=>Lx,Oqu:()=>hT,hij:()=>qf,AsE:()=>fT});var r=Q(273),ne=Q(7908),H=Q(8305),xe=Q(3719),ke=Q(3174);function Re(s){for(let o in s)if(s[o]===Re)return o;throw Error("Could not find renamed property on target object.")}function De(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Le(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Le).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Ze(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const de=Re({__forward_ref__:Re});function ue(s){return s.__forward_ref__=ue,s.toString=function(){return Le(this())},s}function Ae(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(de)&&s.__forward_ref__===ue}class O extends Error{constructor(o,l){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,l)),this.code=o}}function j(s){return"string"==typeof s?s:null==s?"":String(s)}function P(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():j(s)}function T(s,o){const l=o?` in ${o}`:"";throw new O("201",`No provider for ${P(s)} found${l}`)}function Ct(s,o){null==s&&function(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function yn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Wt(s){return en(s,Je)||en(s,Et)}function en(s,o){return s.hasOwnProperty(o)?s[o]:null}function oi(s){return s&&(s.hasOwnProperty(hn)||s.hasOwnProperty(ti))?s[hn]:null}const Je=Re({\u0275prov:Re}),hn=Re({\u0275inj:Re}),Et=Re({ngInjectableDef:Re}),ti=Re({ngInjectorDef:Re});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let fn;function Mn(s){const o=fn;return fn=s,o}function kt(s,o,l){const c=Wt(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&st.Optional?null:void 0!==o?o:void T(Le(s),"Injector")}function ye(s){return{toString:s}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),fe=(()=>{return(s=fe||(fe={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",fe;var s})();const Pe="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ht=Pe||"undefined"!=typeof global&&global||wt||Tt,se={},oe=[],pe=Re({\u0275cmp:Re}),qe=Re({\u0275dir:Re}),Oe=Re({\u0275pipe:Re}),pt=Re({\u0275mod:Re}),mt=Re({\u0275fac:Re}),Qt=Re({__NG_ELEMENT_ID__:Re});let Dn=0;function Kt(s){return ye(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||oe,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||fe.Emulated,id:"c",styles:s.styles||oe,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,f=s.features,m=s.pipes;return c.id+=Dn++,c.inputs=Bt(s.inputs,l),c.outputs=Bt(s.outputs),f&&f.forEach(v=>v(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Te):null,c.pipeDefs=m?()=>("function"==typeof m?m():m).map(_e):null,c})}function Te(s){return _n(s)||function(s){return s[qe]||null}(s)}function _e(s){return function(s){return s[Oe]||null}(s)}const me={};function ze(s){return ye(()=>{const o={type:s.type,bootstrap:s.bootstrap||oe,declarations:s.declarations||oe,imports:s.imports||oe,exports:s.exports||oe,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(me[s.id]=s.type),o})}function Bt(s,o){if(null==s)return se;const l={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),l[d]=c,o&&(o[d]=f)}return l}const mn=Kt;function sn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function _n(s){return s[pe]||null}function jt(s,o){const l=s[pt]||null;if(!l&&!0===o)throw new Error(`Type ${Le(s)} does not have '\u0275mod' property.`);return l}function Fs(s){return Array.isArray(s)&&"object"==typeof s[1]}function jn(s){return Array.isArray(s)&&!0===s[1]}function ad(s){return 0!=(8&s.flags)}function ho(s){return 2==(2&s.flags)}function Ol(s){return 1==(1&s.flags)}function is(s){return null!==s.template}function ld(s){return 0!=(512&s[2])}function po(s,o){return s.hasOwnProperty(mt)?s[mt]:null}class fa{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function ys(){return vs}function vs(s){return s.type.prototype.ngOnChanges&&(s.setInput=pa),_d}function _d(){const s=Lo(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===se)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function pa(s,o,l,c){const d=Lo(s)||function(s,o){return s[rs]=o}(s,{previous:se,current:null}),f=d.current||(d.current={}),m=d.previous,v=this.declaredInputs[l],E=m[v];f[v]=new fa(E&&E.currentValue,o,m===se),s[c]=o}ys.ngInherit=!0;const rs="__ngSimpleChanges__";function Lo(s){return s[rs]||null}let Ll;function Yc(s){Ll=s}function Nn(s){return!!s.listen}const No={createRenderer:(s,o)=>void 0!==Ll?Ll:"undefined"!=typeof document?document:void 0};function Xn(s){for(;Array.isArray(s);)s=s[0];return s}function bs(s,o){return Xn(o[s])}function Xi(s,o){return Xn(o[s.index])}function ga(s,o){return s.data[o]}function En(s,o){const l=o[s];return Fs(l)?l:l[0]}function Nl(s){return 4==(4&s[2])}function go(s){return 128==(128&s[2])}function as(s,o){return null==o?null:s[o]}function Fl(s){s[18]=0}function er(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const Zt={lFrame:ol(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Xc(){return Zt.bindingsEnabled}function Qe(){return Zt.lFrame.lView}function vn(){return Zt.lFrame.tView}function ls(s){return Zt.lFrame.contextLView=s,s[8]}function $n(){let s=Fo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Fo(){return Zt.lFrame.currentTNode}function Mi(s,o){const l=Zt.lFrame;l.currentTNode=s,l.isParent=o}function _a(){return Zt.lFrame.isParent}function Uo(){return Zt.isInCheckNoChangesMode}function nl(s){Zt.isInCheckNoChangesMode=s}function Ii(){const s=Zt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Vs(){return Zt.lFrame.bindingIndex++}function Ir(s){const o=Zt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function _o(s,o){const l=Zt.lFrame;l.bindingIndex=l.bindingRootIndex=s,yo(o)}function yo(s){Zt.lFrame.currentDirectiveIndex=s}function va(){return Zt.lFrame.currentQueryIndex}function nu(s){Zt.lFrame.currentQueryIndex=s}function rl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function sl(s,o,l){if(l&st.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||l&st.Host||(d=rl(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const c=Zt.lFrame=Vl();return c.currentTNode=o,c.lView=s,!0}function Bo(s){const o=Vl(),l=s[1];Zt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Vl(){const s=Zt.lFrame,o=null===s?null:s.child;return null===o?ol(s):o}function ol(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function iu(){const s=Zt.lFrame;return Zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ru=iu;function ql(){const s=iu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Oi(){return Zt.lFrame.selectedIndex}function vo(s){Zt.lFrame.selectedIndex=s}function Un(){const s=Zt.lFrame;return ga(s.tView,s.selectedIndex)}function qo(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const f=s.data[l].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:x,ngOnDestroy:R}=f;m&&(s.contentHooks||(s.contentHooks=[])).push(-l,m),v&&((s.contentHooks||(s.contentHooks=[])).push(l,v),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,v)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),x&&((s.viewHooks||(s.viewHooks=[])).push(l,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,x)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function ba(s,o,l){Jh(s,o,3,l)}function jl(s,o,l,c){(3&s[2])===l&&Jh(s,o,l,c)}function ll(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Jh(s,o,l,c){const f=null!=c?c:-1,m=o.length-1;let v=0;for(let E=void 0!==c?65535&s[18]:0;E<m;E++)if("number"==typeof o[E+1]){if(v=o[E],null!=c&&v>=c)break}else o[E]<0&&(s[18]+=65536),(v<f||-1==f)&&(su(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function su(s,o,l,c){const d=l[c]<0,f=l[c+1],v=s[d?-l[c]:l[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Ca{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function Wl(s,o,l){const c=Nn(s);let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const m=l[d++],v=l[d++],E=l[d++];c?s.setAttribute(o,v,E,m):o.setAttributeNS(m,v,E)}else{const m=f,v=l[++d];Bi(m)?c&&s.setProperty(o,m,v):c?s.setAttribute(o,m,v):o.setAttribute(m,v),d++}}return d}function Td(s){return 3===s||4===s||6===s}function Bi(s){return 64===s.charCodeAt(0)}function Gl(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?l=d:0===l||ag(s,l,d,null,-1===l||2===l?o[++c]:null)}}return s}function ag(s,o,l,c,d){let f=0,m=s.length;if(-1===o)m=-1;else for(;f<s.length;){const v=s[f++];if("number"==typeof v){if(v===o){m=-1;break}if(v>o){m=f-1;break}}}for(;f<s.length;){const v=s[f];if("number"==typeof v)break;if(v===l){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==m&&(s.splice(m,0,o),f=m+1),s.splice(f++,0,l),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}function lg(s){return-1!==s}function cl(s){return 32767&s}function Kl(s,o){let l=function(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let jo=!0;function qs(s){const o=jo;return jo=s,o}let ug=0;function Br(s,o){const l=Ar(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Ft(c.data,s),Ft(o,null),Ft(c.blueprint,null));const d=Pi(s,o),f=s.injectorIndex;if(lg(d)){const m=cl(d),v=Kl(d,o),E=v[1].data;for(let x=0;x<8;x++)o[f+x]=v[m+x]|E[m+x]}return o[f+8]=d,f}function Ft(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ar(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Pi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,d=o;for(;null!==d;){const f=d[1],m=f.type;if(c=2===m?f.declTNode:1===m?d[6]:null,null===c)return-1;if(l++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function bi(s,o,l){!function(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(Qt)&&(c=l[Qt]),null==c&&(c=l[Qt]=ug++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,l)}function ws(s,o,l){if(l&st.Optional)return s;T(o,"NodeInjector")}function au(s,o,l,c){if(l&st.Optional&&void 0===c&&(c=null),0==(l&(st.Self|st.Host))){const d=s[9],f=Mn(void 0);try{return d?d.get(o,c,l&st.Optional):kt(o,c,l&st.Optional)}finally{Mn(f)}}return ws(c,o,l)}function Id(s,o,l,c=st.Default,d){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Qt)?s[Qt]:void 0;return"number"==typeof o?o>=0?255&o:tf:o}(l);if("function"==typeof f){if(!sl(o,s,c))return c&st.Host?ws(d,l,c):au(o,l,c,d);try{const m=f(c);if(null!=m||c&st.Optional)return m;T(l)}finally{ru()}}else if("number"==typeof f){let m=null,v=Ar(s,o),E=-1,x=c&st.Host?o[16][6]:null;for((-1===v||c&st.SkipSelf)&&(E=-1===v?Pi(s,o):o[v+8],-1!==E&&li(c,!1)?(m=o[1],v=cl(E),o=Kl(E,o)):v=-1);-1!==v;){const R=o[1];if(lu(f,v,R.data)){const z=bo(v,o,l,m,c,x);if(z!==$o)return z}E=o[v+8],-1!==E&&li(c,o[1].data[v+8]===x)&&lu(f,v,o)?(m=R,v=cl(E),o=Kl(E,o)):v=-1}}}return au(o,l,c,d)}const $o={};function tf(){return new fi($n(),Qe())}function bo(s,o,l,c,d,f){const m=o[1],v=m.data[s+8],R=$t(v,m,l,null==c?ho(v)&&jo:c!=m&&0!=(3&v.type),d&st.Host&&f===v);return null!==R?zo(o,m,R,v):$o}function $t(s,o,l,c,d){const f=s.providerIndexes,m=o.data,v=1048575&f,E=s.directiveStart,R=f>>20,Y=d?v+R:s.directiveEnd;for(let ce=c?v:v+R;ce<Y;ce++){const ve=m[ce];if(ce<E&&l===ve||ce>=E&&ve.type===l)return ce}if(d){const ce=m[E];if(ce&&is(ce)&&ce.type===l)return E}return null}function zo(s,o,l,c){let d=s[l];const f=o.data;if(function(s){return s instanceof Ca}(d)){const m=d;m.resolving&&function(s,o){throw new O("200",`Circular dependency in DI detected for ${s}`)}(P(f[l]));const v=qs(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?Mn(m.injectImpl):null;sl(s,c,st.Default);try{d=s[l]=m.factory(void 0,f,s,c),o.firstCreatePass&&l>=c.directiveStart&&function(s,o,l){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const m=vs(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,d),f&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,f),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,f))}(l,f[l],o)}finally{null!==E&&Mn(E),qs(v),m.resolving=!1,ru()}}return d}function lu(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function li(s,o){return!(s&st.Self||s&st.Host&&o)}class fi{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return Id(this._tNode,this._lView,o,c,l)}}function wa(s){return ye(()=>{const o=s.prototype.constructor,l=o[mt]||cu(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[mt]||cu(d);if(f&&f!==l)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function cu(s){return Ge(s)?()=>{const o=cu(Ae(s));return o&&o()}:po(s)}function Wo(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let d=0;for(;d<c;){const f=l[d];if(Td(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof l[d];)d++;else{if(f===o)return l[d+1];d+=2}}}return null}($n(),s)}const Co="__parameters__";function Vr(s,o,l){return ye(()=>{const c=function(s){return function(...l){if(s){const c=s(...l);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const m=new d(...f);return v.annotation=m,v;function v(E,x,R){const z=E.hasOwnProperty(Co)?E[Co]:Object.defineProperty(E,Co,{value:[]})[Co];for(;z.length<=R;)z.push(null);return(z[R]=z[R]||[]).push(m),E}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Qn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=an({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dg=new Qn("AnalyzeForEntryComponents");function ur(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),ur(c,o)):o!==s&&o.push(c)}return o}function Is(s,o){s.forEach(l=>Array.isArray(l)?Is(l,o):o(l))}function xr(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function gi(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Hr(s,o,l){let c=Da(s,o);return c>=0?s[1|c]=l:(c=~c,function(s,o,l,c){let d=s.length;if(d==o)s.push(l,c);else if(1===d)s.push(c,s[0]),s[0]=l;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function fu(s,o){const l=Da(s,o);if(l>=0)return s[1|l]}function Da(s,o){return function(s,o,l){let c=0,d=s.length>>l;for(;d!==c;){const f=c+(d-c>>1),m=s[f<<l];if(o===m)return f<<l;m>o?d=f:c=f+1}return~(d<<l)}(s,o,1)}const ka={},Qo="__NG_DI_FLAG__",hl="ngTempTokenPath",k=/\n/gm,ie="__source",Ee=Re({provide:String,useValue:Re});let Ue;function Xe(s){const o=Ue;return Ue=s,o}function dt(s,o=st.Default){if(void 0===Ue)throw new Error("inject() must be called from an injection context");return null===Ue?kt(s,void 0,o):Ue.get(s,o&st.Optional?null:void 0,o)}function it(s,o=st.Default){return(fn||dt)(Ae(s),o)}function ni(s){const o=[];for(let l=0;l<s.length;l++){const c=Ae(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=st.Default;for(let m=0;m<c.length;m++){const v=c[m],E=Ci(v);"number"==typeof E?-1===E?d=v.token:f|=E:d=v}o.push(it(d,f))}else o.push(it(c))}return o}function Li(s,o){return s[Qo]=o,s.prototype[Qo]=o,s}function Ci(s){return s[Qo]}function Eo(s,o,l,c){const d=s[hl];throw o[ie]&&d.unshift(o[ie]),s.message=function(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=Le(o);if(Array.isArray(o))d=o.map(Le).join(" -> ");else if("object"==typeof o){let f=[];for(let m in o)if(o.hasOwnProperty(m)){let v=o[m];f.push(m+":"+("string"==typeof v?JSON.stringify(v):Le(v)))}d=`{${f.join(", ")}}`}return`${l}${c?"("+c+")":""}[${d}]: ${s.replace(k,"\n  ")}`}("\n"+s.message,d,l,c),s.ngTokenPath=d,s[hl]=null,s}const hr=Li(Vr("Inject",s=>({token:s})),-1),Vi=Li(Vr("Optional"),8),Ni=Li(Vr("SkipSelf"),4);let tc;function Ra(s){var o;return(null==(o=function(){if(void 0===tc&&(tc=null,Ht.trustedTypes))try{tc=Ht.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return tc}())?void 0:o.createHTML(s))||s}class Jo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Xo extends Jo{getTypeName(){return"HTML"}}class La extends Jo{getTypeName(){return"Style"}}class mg extends Jo{getTypeName(){return"Script"}}class _g extends Jo{getTypeName(){return"URL"}}class yg extends Jo{getTypeName(){return"ResourceURL"}}function qi(s){return s instanceof Jo?s.changingThisBreaksApplicationSecurity:s}function Io(s,o){const l=vg(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function vg(s){return s instanceof Jo&&s.getTypeName()||null}function Nd(s){return new Xo(s)}function bg(s){return new La(s)}function hf(s){return new mg(s)}function Cg(s){return new _g(s)}function ff(s){return new yg(s)}class ry{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Ra(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class fl{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Ra(o),l;const c=this.inertDocument.createElement("body");return c.innerHTML=Ra(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const l=o.attributes;for(let d=l.length-1;0<d;d--){const m=l.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&o.removeAttribute(m)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const oy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ud=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ea(s){return(s=String(s)).match(oy)||s.match(Ud)?s:"unsafe:"+s}function zs(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function nc(...s){const o={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(o[c]=!0);return o}const wg=zs("area,br,col,hr,img,wbr"),Zd=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bd=zs("rp,rt"),pl=nc(wg,nc(Zd,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nc(Bd,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nc(Bd,Zd)),pf=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gl=zs("srcset"),Vd=nc(pf,gl,zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ly=zs("script,style,template");class cy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!pl.hasOwnProperty(l))return this.sanitizedSomething=!0,!ly.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=o.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),m=f.name,v=m.toLowerCase();if(!Vd.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let E=f.value;pf[v]&&(E=ea(E)),gl[v]&&(s=E,E=(s=String(s)).split(",").map(o=>ea(o.trim())).join(", ")),this.buf.push(" ",m,'="',w(E),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();pl.hasOwnProperty(l)&&!wg.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(w(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const uy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ig=/([^\#-~ |!])/g;function w(s){return s.replace(/&/g,"&amp;").replace(uy,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ig,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let p;function y(s,o){let l=null;try{p=p||function(s){const o=new fl(s);return function(){try{return!!(new window.DOMParser).parseFromString(Ra(""),"text/html")}catch(s){return!1}}()?new ry(o):o}(s);let c=o?String(o):"";l=p.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=l.innerHTML,l=p.getInertBodyElement(c)}while(c!==f);return Ra((new cy).sanitizeChildren(I(l)||l))}finally{if(l){const c=I(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function I(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Z=(()=>((Z=Z||{})[Z.NONE=0]="NONE",Z[Z.HTML=1]="HTML",Z[Z.STYLE=2]="STYLE",Z[Z.SCRIPT=3]="SCRIPT",Z[Z.URL=4]="URL",Z[Z.RESOURCE_URL=5]="RESOURCE_URL",Z))();function ft(s){const o=function(){const s=Qe();return s&&s[12]}();return o?o.sanitize(Z.URL,s)||"":Io(s,"URL")?qi(s):ea(j(s))}const rc="__ngContext__";function wi(s,o){s[rc]=o}function mf(s){const o=function(s){return s[rc]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function bf(s){return s.ngOriginalError}function WI(s,...o){s.error(...o)}class Hd{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),c=this._findContext(o),d=(s=o)&&s.ngErrorLogger||WI;var s;d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(o){return o?o.ngDebugContext||this._findContext(bf(o)):null}_findOriginalError(o){let l=o&&bf(o);for(;l&&bf(l);)l=bf(l);return l||null}}const yC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht))();function na(s){return s instanceof Function?s():s}var Fa=(()=>((Fa=Fa||{})[Fa.Important=1]="Important",Fa[Fa.DashCase=2]="DashCase",Fa))();function bC(s,o){return undefined(s,o)}function $d(s){const o=s[3];return jn(o)?o[3]:o}function _y(s){return TC(s[13])}function yy(s){return TC(s[4])}function TC(s){for(;null!==s&&!jn(s);)s=s[4];return s}function ac(s,o,l,c,d){if(null!=c){let f,m=!1;jn(c)?f=c:Fs(c)&&(m=!0,c=c[0]);const v=Xn(c);0===s&&null!==l?null==d?DC(o,l,v):wu(o,l,v,d||null,!0):1===s&&null!==l?wu(o,l,v,d||null,!0):2===s?function(s,o,l){const c=Tf(s,o);c&&function(s,o,l,c){Nn(s)?s.removeChild(o,l,c):o.removeChild(l)}(s,c,o,l)}(o,v,m):3===s&&o.destroyNode(v),null!=f&&function(s,o,l,c,d){const f=l[7];f!==Xn(l)&&ac(o,s,c,f,d);for(let v=10;v<l.length;v++){const E=l[v];If(E[1],E,s,o,c,f)}}(o,s,f,l,d)}}function wf(s,o,l){return Nn(s)?s.createElement(o,l):null===l?s.createElement(o):s.createElementNS(l,o)}function xC(s,o){const l=s[9],c=l.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,er(d,-1)),l.splice(c,1)}function by(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const d=c[17];null!==d&&d!==s&&xC(d,c),o>0&&(s[l-1][4]=c[4]);const f=gi(s,10+o);!function(s,o){If(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const m=f[19];null!==m&&m.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function mi(s,o){if(!(256&o[2])){const l=o[11];Nn(l)&&l.destroyNode&&If(s,o,l,3,null,null),function(s){let o=s[13];if(!o)return Cy(s[1],s);for(;o;){let l=null;if(Fs(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)Fs(o)&&Cy(o[1],o),o=o[3];null===o&&(o=s),Fs(o)&&Cy(o[1],o),l=o&&o[4]}o=l}}(o)}}function Cy(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const d=o[l[c]];if(!(d instanceof Ca)){const f=l[c+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const v=d[f[m]],E=f[m+1];try{E.call(v)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function(s,o){const l=s.cleanup,c=o[7];let d=-1;if(null!==l)for(let f=0;f<l.length-1;f+=2)if("string"==typeof l[f]){const m=l[f+1],v="function"==typeof m?m(o):Xn(o[m]),E=c[d=l[f+2]],x=l[f+3];"boolean"==typeof x?v.removeEventListener(l[f],E,x):x>=0?c[d=x]():c[d=-x].unsubscribe(),f+=2}else{const m=c[d=l[f+1]];l[f].call(m)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();o[7]=null}}(s,o),1===o[1].type&&Nn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&jn(o[3])){l!==o[3]&&xC(l,o);const c=o[19];null!==c&&c.detachView(s)}}}function Pg(s,o,l){return function(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===fe.None||d===fe.Emulated)return null}return Xi(c,l)}(s,o.parent,l)}function wu(s,o,l,c,d){Nn(s)?s.insertBefore(o,l,c,d):o.insertBefore(l,c,d)}function DC(s,o,l){Nn(s)?s.appendChild(o,l):o.appendChild(l)}function wy(s,o,l,c,d){null!==c?wu(s,o,l,c,d):DC(s,o,l)}function Tf(s,o){return Nn(s)?s.parentNode(o):o.parentNode}let lc=function(s,o,l){return 40&s.type?Xi(s,l):null};function Ng(s,o,l,c){const d=Pg(s,c,o),f=o[11],v=function(s,o,l){return lc(s,o,l)}(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(l))for(let E=0;E<l.length;E++)wy(f,d,l[E],v,!1);else wy(f,d,l,v,!1)}function Ef(s,o){if(null!==o){const l=o.type;if(3&l)return Xi(o,s);if(4&l)return Ty(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return Ef(s,c);{const d=s[o.index];return jn(d)?Ty(-1,d):Xn(d)}}if(32&l)return bC(o,s)()||Xn(s[o.index]);{const c=MC(s,o);return null!==c?Array.isArray(c)?c[0]:Ef($d(s[16]),c):Ef(s,o.next)}}return null}function MC(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Ty(s,o){const l=10+s+1;if(l<o.length){const c=o[l],d=c[1].firstChild;if(null!==d)return Ef(c,d)}return o[7]}function Fg(s,o,l,c,d,f,m){for(;null!=l;){const v=c[l.index],E=l.type;if(m&&0===o&&(v&&wi(Xn(v),c),l.flags|=4),64!=(64&l.flags))if(8&E)Fg(s,o,l.child,c,d,f,!1),ac(o,s,d,v,f);else if(32&E){const x=bC(l,c);let R;for(;R=x();)ac(o,s,d,R,f);ac(o,s,d,v,f)}else 16&E?PC(s,o,c,l,d,f):ac(o,s,d,v,f);l=m?l.projectionNext:l.next}}function If(s,o,l,c,d,f){Fg(l,c,s.firstChild,o,d,f,!1)}function PC(s,o,l,c,d,f){const m=l[16],E=m[6].projection[c.projection];if(Array.isArray(E))for(let x=0;x<E.length;x++)ac(o,s,d,E[x],f);else Fg(s,o,E,m[3],d,f,!0)}function RC(s,o,l){Nn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Ug(s,o,l){Nn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function LC(s,o,l){let c=s.length;for(;;){const d=s.indexOf(o,l);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}l=d+1}}const Ne="ng-template";function NC(s,o,l){let c=0;for(;c<s.length;){let d=s[c++];if(l&&"class"===d){if(d=s[c],-1!==LC(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function FC(s){return 4===s.type&&s.value!==Ne}function ml(s,o,l){return o===(4!==s.type||l?s.value:Ne)}function dA(s,o,l){let c=4;const d=s.attrs||[],f=function(s){for(let o=0;o<s.length;o++)if(Td(s[o]))return o;return s.length}(d);let m=!1;for(let v=0;v<o.length;v++){const E=o[v];if("number"!=typeof E){if(!m)if(4&c){if(c=2|1&c,""!==E&&!ml(s,E,l)||""===E&&1===o.length){if(As(c))return!1;m=!0}}else{const x=8&c?E:o[++v];if(8&c&&null!==s.attrs){if(!NC(s.attrs,x,l)){if(As(c))return!1;m=!0}continue}const z=UC(8&c?"class":E,d,FC(s),l);if(-1===z){if(As(c))return!1;m=!0;continue}if(""!==x){let Y;Y=z>f?"":d[z+1].toLowerCase();const ce=8&c?Y:null;if(ce&&-1!==LC(ce,x,0)||2&c&&x!==Y){if(As(c))return!1;m=!0}}}}else{if(!m&&!As(c)&&!As(E))return!1;if(m&&As(E))continue;m=!1,c=E|1&c}}return As(c)||m}function As(s){return 0==(1&s)}function UC(s,o,l,c){if(null===o)return-1;let d=0;if(c||!l){let f=!1;for(;d<o.length;){const m=o[d];if(m===s)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let v=o[++d];for(;"string"==typeof v;)v=o[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function Iy(s,o,l=!1){for(let c=0;c<o.length;c++)if(dA(s,o[c],l))return!0;return!1}function Zg(s,o){return s?":not("+o.trim()+")":o}function Ay(s){let o=s[0],l=1,c=2,d="",f=!1;for(;l<s.length;){let m=s[l];if("string"==typeof m)if(2&c){const v=s[++l];d+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!As(m)&&(o+=Zg(f,d),d=""),c=m,f=f||!As(c);l++}return""!==d&&(o+=Zg(f,d)),o}const un={};function Dy(s){Tu(vn(),Qe(),Oi()+s,Uo())}function Tu(s,o,l,c){if(!c)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&ba(o,f,l)}else{const f=s.preOrderHooks;null!==f&&jl(o,f,0,l)}vo(l)}function zd(s,o){return s<<17|o<<2}function Se(s){return s>>17&32767}function Bg(s){return 2|s}function cc(s){return(131068&s)>>2}function BC(s,o){return-131069&s|o<<2}function VC(s){return 1|s}function Ly(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const d=l[c],f=l[c+1];if(-1!==f){const m=s.data[f];nu(d),m.contentQueries(2,o[f],f)}}}function qg(s,o,l,c,d,f,m,v,E,x){const R=o.blueprint.slice();return R[0]=d,R[2]=140|c,Fl(R),R[3]=R[15]=s,R[8]=l,R[10]=m||s&&s[10],R[11]=v||s&&s[11],R[12]=E||s&&s[12]||null,R[9]=x||s&&s[9]||null,R[6]=f,R[16]=2==o.type?s[16]:R,R}function xf(s,o,l,c,d){let f=s.data[o];if(null===f)f=function(s,o,l,c,d){const f=Fo(),m=_a(),E=s.data[o]=function(s,o,l,c,d,f){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,l,o,c,d);return null===s.firstChild&&(s.firstChild=E),null!==f&&(m?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(s,o,l,c,d),Zt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=l,f.value=c,f.attrs=d;const m=function(){const s=Zt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Mi(f,!0),f}function Df(s,o,l,c){if(0===l)return-1;const d=o.length;for(let f=0;f<l;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function Wd(s,o,l){Bo(o);try{const c=s.viewQuery;null!==c&&pw(1,c,l);const d=s.template;null!==d&&Ny(s,o,d,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ly(s,o),s.staticViewQueries&&pw(2,s.viewQuery,l);const f=s.components;null!==f&&function(s,o){for(let l=0;l<o.length;l++)mP(s,o[l])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,ql()}}function Sf(s,o,l,c){const d=o[2];if(256==(256&d))return;Bo(o);const f=Uo();try{Fl(o),function(s){Zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Ny(s,o,l,2,c);const m=3==(3&d);if(!f)if(m){const x=s.preOrderCheckHooks;null!==x&&ba(o,x,null)}else{const x=s.preOrderHooks;null!==x&&jl(o,x,0,null),ll(o,0)}if(function(s){for(let o=_y(s);null!==o;o=yy(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const d=l[c],f=d[3];0==(1024&d[2])&&er(f,1),d[2]|=1024}}}(o),function(s){for(let o=_y(s);null!==o;o=yy(o))for(let l=10;l<o.length;l++){const c=o[l],d=c[1];go(c)&&Sf(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&Ly(s,o),!f)if(m){const x=s.contentCheckHooks;null!==x&&ba(o,x)}else{const x=s.contentHooks;null!==x&&jl(o,x,1),ll(o,1)}!function(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const d=l[c];if(d<0)vo(~d);else{const f=d,m=l[++c],v=l[++c];_o(m,f),v(2,o[f])}}}finally{vo(-1)}}(s,o);const v=s.components;null!==v&&function(s,o){for(let l=0;l<o.length;l++)gP(s,o[l])}(o,v);const E=s.viewQuery;if(null!==E&&pw(2,E,c),!f)if(m){const x=s.viewCheckHooks;null!==x&&ba(o,x)}else{const x=s.viewHooks;null!==x&&jl(o,x,2),ll(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,er(o[3],-1))}finally{ql()}}function nP(s,o,l,c){const d=o[10],f=!Uo(),m=Nl(o);try{f&&!m&&d.begin&&d.begin(),m&&Wd(s,o,c),Sf(s,o,l,c)}finally{f&&!m&&d.end&&d.end()}}function Ny(s,o,l,c,d){const f=Oi(),m=2&c;try{vo(-1),m&&o.length>20&&Tu(s,o,20,Uo()),l(c,d)}finally{vo(f)}}function jg(s,o,l){!Xc()||(function(s,o,l,c){const d=l.directiveStart,f=l.directiveEnd;s.firstCreatePass||Br(l,o),wi(c,o);const m=l.initialInputs;for(let v=d;v<f;v++){const E=s.data[v],x=is(E);x&&aw(o,l,E);const R=zo(o,s,v,l);wi(R,o),null!==m&&hP(0,v-d,R,E,0,m),x&&(En(l.index,o)[8]=R)}}(s,o,l,Xi(l,o)),128==(128&l.flags)&&function(s,o,l){const c=l.directiveStart,d=l.directiveEnd,m=l.index,v=Zt.lFrame.currentDirectiveIndex;try{vo(m);for(let E=c;E<d;E++){const x=s.data[E],R=o[E];yo(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&MA(x,R)}}finally{vo(-1),yo(v)}}(s,o,l))}function ew(s,o,l=Xi){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const m=c[f+1],v=-1===m?l(o,s):s[m];s[d++]=v}}}function DA(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=kf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function kf(s,o,l,c,d,f,m,v,E,x){const R=20+c,z=R+d,Y=function(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:un);return l}(R,z),ce="function"==typeof x?x():x;return Y[1]={type:s,blueprint:Y,template:l,queries:null,viewQuery:v,declTNode:o,data:Y.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:ce,incompleteFirstPass:!1}}function Uy(s,o,l,c){const d=UA(o);null===l?d.push(c):(d.push(l),s.firstCreatePass&&Hy(s).push(c,d.length-1))}function Zy(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,d):l[c]=[o,d]}return l}function Ds(s,o,l,c,d,f,m,v){const E=Xi(o,l);let R,x=o.inputs;!v&&null!=x&&(R=x[c])?(BA(s,l,R,c,d),ho(o)&&function(s,o){const l=En(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=m?m(d,o.value||"",c):d,Nn(f)?f.setProperty(E,c,d):Bi(c)||(E.setProperty?E.setProperty(c,d):E[c]=d))}function iw(s,o,l,c){let d=!1;if(Xc()){const f=function(s,o,l){const c=s.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const m=c[f];Iy(l,m.selectors,!1)&&(d||(d=[]),bi(Br(l,o),s,m.type),is(m)?(Vy(s,l),d.unshift(m)):d.push(m))}return d}(s,o,l),m=null===c?null:{"":-1};if(null!==f){d=!0,OA(l,s.data.length,f.length);for(let R=0;R<f.length;R++){const z=f[R];z.providersResolver&&z.providersResolver(z)}let v=!1,E=!1,x=Df(s,o,f.length,null);for(let R=0;R<f.length;R++){const z=f[R];l.mergedAttrs=Gl(l.mergedAttrs,z.hostAttrs),PA(s,l,o,x,z),ow(x,z,m),null!==z.contentQueries&&(l.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(l.flags|=128);const Y=z.type.prototype;!v&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),v=!0),!E&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),x++}!function(s,o){const c=o.directiveEnd,d=s.data,f=o.attrs,m=[];let v=null,E=null;for(let x=o.directiveStart;x<c;x++){const R=d[x],z=R.inputs,Y=null===f||FC(o)?null:fP(z,f);m.push(Y),v=Zy(z,x,v),E=Zy(R.outputs,x,E)}null!==v&&(v.hasOwnProperty("class")&&(o.flags|=16),v.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=m,o.inputs=v,o.outputs=E}(s,l)}m&&function(s,o,l){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=l[o[d+1]];if(null==f)throw new O("301",`Export of name '${o[d+1]}' not found!`);c.push(o[d],f)}}}(l,c,m)}return l.mergedAttrs=Gl(l.mergedAttrs,l.attrs),d}function kA(s,o,l,c,d,f){const m=f.hostBindings;if(m){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const E=~o.index;(function(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(v)!=E&&v.push(E),v.push(c,d,m)}}function MA(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Vy(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function ow(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;is(o)&&(l[""]=s)}}function OA(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function PA(s,o,l,c,d){s.data[c]=d;const f=d.factory||(d.factory=po(d.type)),m=new Ca(f,is(d),null);s.blueprint[c]=m,l[c]=m,kA(s,o,0,c,Df(s,l,d.hostVars,un),d)}function aw(s,o,l){const c=Xi(o,s),d=DA(l),f=s[10],m=qy(s,qg(s,d,null,l.onPush?64:16,c,o,f,f.createRenderer(c,l),null,null));s[o.index]=m}function vl(s,o,l,c,d,f){const m=Xi(s,o);!function(s,o,l,c,d,f,m){if(null==f)Nn(s)?s.removeAttribute(o,d,l):o.removeAttribute(d);else{const v=null==m?j(f):m(f,c||"",d);Nn(s)?s.setAttribute(o,d,v,l):l?o.setAttributeNS(l,d,v):o.setAttribute(d,v)}}(o[11],m,f,s.value,l,c,d)}function hP(s,o,l,c,d,f){const m=f[o];if(null!==m){const v=c.setInput;for(let E=0;E<m.length;){const x=m[E++],R=m[E++],z=m[E++];null!==v?c.setInput(l,z,x,R):l[R]=z}}}function fP(s,o){let l=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,s[d],o[c+1])),c+=2}else c+=2;else c+=4}return l}function LA(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function gP(s,o){const l=En(o,s);if(go(l)){const c=l[1];80&l[2]?Sf(c,l,c.template,l[8]):l[5]>0&&zg(l)}}function zg(s){for(let c=_y(s);null!==c;c=yy(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const m=f[1];Sf(m,f,m.template,f[8])}else f[5]>0&&zg(f)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const d=En(l[c],s);go(d)&&d[5]>0&&zg(d)}}function mP(s,o){const l=En(o,s),c=l[1];(function(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),Wd(c,l,l[8])}function qy(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function uw(s){for(;s;){s[2]|=64;const o=$d(s);if(ld(s)&&!o)return s;s=o}return null}function Wg(s,o,l){const c=o[10];c.begin&&c.begin();try{Sf(s,o,s.template,l)}catch(d){throw jy(o,d),d}finally{c.end&&c.end()}}function NA(s){!function(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],c=mf(l),d=c[1];nP(d,c,d.template,l)}}(s[8])}function pw(s,o,l){nu(0),o(s,l)}const yP=(()=>Promise.resolve(null))();function UA(s){return s[7]||(s[7]=[])}function Hy(s){return s.cleanup||(s.cleanup=[])}function jy(s,o){const l=s[9],c=l?l.get(Hd,null):null;c&&c.handleError(o)}function BA(s,o,l,c,d){for(let f=0;f<l.length;){const m=l[f++],v=l[f++],E=o[m],x=s.data[m];null!==x.setInput?x.setInput(E,d,c,v):E[v]=d}}function uc(s,o,l){const c=bs(o,s);!function(s,o,l){Nn(s)?s.setValue(o,l):o.textContent=l}(s[11],c,l)}function Mf(s,o,l){let c=l?s.styles:null,d=l?s.classes:null,f=0;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?f=v:1==f?d=Ze(d,v):2==f&&(c=Ze(c,v+": "+o[++m]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=d:s.classesWithoutHost=d}const Gg=new Qn("INJECTOR",-1);class $y{get(o,l=ka){if(l===ka){const c=new Error(`NullInjectorError: No provider for ${Le(o)}!`);throw c.name="NullInjectorError",c}return l}}const Kg=new Qn("Set Injector scope."),Gd={},bP={};let mw;function zy(){return void 0===mw&&(mw=new $y),mw}function Wy(s,o=null,l=null,c){return new wP(s,l,o||zy(),c)}class wP{constructor(o,l,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];l&&Is(l,v=>this.processProvider(v,o,l)),Is([o],v=>this.processInjectorType(v,[],f)),this.records.set(Gg,Of(void 0,this));const m=this.records.get(Kg);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof o?null:Le(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=ka,c=st.Default){this.assertNotDestroyed();const d=Xe(this),f=Mn(void 0);try{if(!(c&st.SkipSelf)){let v=this.records.get(o);if(void 0===v){const E=("function"==typeof(s=o)||"object"==typeof s&&s instanceof Qn)&&Wt(o);v=E&&this.injectableDefInScope(E)?Of(_w(o),Gd):null,this.records.set(o,v)}if(null!=v)return this.hydrate(o,v)}return(c&st.Self?zy():this.parent).get(o,l=c&st.Optional&&l===ka?null:l)}catch(m){if("NullInjectorError"===m.name){if((m[hl]=m[hl]||[]).unshift(Le(o)),d)throw m;return Eo(m,o,"R3InjectorError",this.source)}throw m}finally{Mn(f),Xe(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,d)=>o.push(Le(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,l,c){if(!(o=Ae(o)))return!1;let d=oi(o);const f=null==d&&o.ngModule||void 0,m=void 0===f?o:f,v=-1!==c.indexOf(m);if(void 0!==f&&(d=oi(f)),null==d)return!1;if(null!=d.imports&&!v){let R;c.push(m);try{Is(d.imports,z=>{this.processInjectorType(z,l,c)&&(void 0===R&&(R=[]),R.push(z))})}finally{}if(void 0!==R)for(let z=0;z<R.length;z++){const{ngModule:Y,providers:ce}=R[z];Is(ce,ve=>this.processProvider(ve,Y,ce||oe))}}this.injectorDefTypes.add(m);const E=po(m)||(()=>new m);this.records.set(m,Of(E,Gd));const x=d.providers;if(null!=x&&!v){const R=o;Is(x,z=>this.processProvider(z,R,x))}return void 0!==f&&void 0!==o.providers}processProvider(o,l,c){let d=Eu(o=Ae(o))?o:Ae(o&&o.provide);const f=(s=o,VA(s)?Of(void 0,s.useValue):Of(Gy(s),Gd));var s;if(Eu(o)||!0!==o.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=Of(void 0,Gd,!0),m.factory=()=>ni(m.multi),this.records.set(d,m)),d=o,m.multi.push(o)}this.records.set(d,f)}hydrate(o,l){return l.value===Gd&&(l.value=bP,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(s=l.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Ae(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function _w(s){const o=Wt(s),l=null!==o?o.factory:po(s);if(null!==l)return l;if(s instanceof Qn)throw new Error(`Token ${Le(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=function(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}(o,"?");throw new Error(`Can't resolve all parameters for ${Le(s)}: (${c.join(", ")}).`)}const l=function(s){const o=s&&(s[Je]||s[Et]);if(o){const l=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Error("unreachable")}function Gy(s,o,l){let c;if(Eu(s)){const d=Ae(s);return po(d)||_w(d)}if(VA(s))c=()=>Ae(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...ni(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>it(Ae(s.useExisting));else{const d=Ae(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return po(d)||_w(d);c=()=>new d(...ni(s.deps))}return c}function Of(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function VA(s){return null!==s&&"object"==typeof s&&Ee in s}function Eu(s){return"function"==typeof s}const HA=function(s,o,l){return function(s,o=null,l=null,c){const d=Wy(s,o,l,c);return d._resolveInjectorDefTypes(),d}({name:l},o,s,l)};let ci=(()=>{class s{static create(l,c){return Array.isArray(l)?HA(l,c,""):HA(l.providers,l.parent,l.name||"")}}return s.THROW_IF_NOT_FOUND=ka,s.NULL=new $y,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>it(Gg)}),s.__NG_ELEMENT_ID__=-1,s})();function LP(s,o){qo(mf(s)[1],$n())}function kw(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let d;if(is(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(l){c.push(d);const m=s;m.inputs=Ow(s.inputs),m.declaredInputs=Ow(s.declaredInputs),m.outputs=Ow(s.outputs);const v=d.hostBindings;v&&FP(s,v);const E=d.viewQuery,x=d.contentQueries;if(E&&Pw(s,E),x&&NP(s,x),De(s.inputs,d.inputs),De(s.declaredInputs,d.declaredInputs),De(s.outputs,d.outputs),is(d)&&d.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const v=f[m];v&&v.ngInherit&&v(s),v===kw&&(l=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Gl(d.hostAttrs,l=Gl(l,d.hostAttrs))}}(c)}function Ow(s){return s===se?{}:s===oe?[]:s}function Pw(s,o){const l=s.viewQuery;s.viewQuery=l?(c,d)=>{o(c,d),l(c,d)}:o}function NP(s,o){const l=s.contentQueries;s.contentQueries=l?(c,d,f)=>{o(c,d,f),l(c,d,f)}:o}function FP(s,o){const l=s.hostBindings;s.hostBindings=l?(c,d)=>{o(c,d),l(c,d)}:o}let nv=null;function Pf(){if(!nv){const s=Ht.Symbol;if(s&&s.iterator)nv=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(nv=c)}}}return nv}function Jg(s){return!!Fw(s)&&(Array.isArray(s)||!(s instanceof Map)&&Pf()in s)}function Fw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ia(s,o,l){return s[o]=l}function Dr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Uw(s,o,l,c){const d=Qe();return Dr(d,Vs(),o)&&(vn(),vl(Un(),d,s,o,l,c)),Uw}function Rf(s,o,l,c){return Dr(s,Vs(),l)?o+j(l)+c:un}function Lf(s,o,l,c,d,f){const v=function(s,o,l,c){const d=Dr(s,o,l);return Dr(s,o+1,c)||d}(s,Zt.lFrame.bindingIndex,l,d);return Ir(2),v?o+j(l)+c+j(d)+f:un}function ax(s,o,l,c,d,f,m,v){const E=Qe(),x=vn(),R=s+20,z=x.firstCreatePass?function(s,o,l,c,d,f,m,v,E){const x=o.consts,R=xf(o,s,4,m||null,as(x,v));iw(o,l,R,as(x,E)),qo(o,R);const z=R.tViews=kf(2,R,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,R),z.queries=o.queries.embeddedTView(R)),R}(R,x,E,o,l,c,d,f,m):x.data[R];Mi(z,!1);const Y=E[11].createComment("");Ng(x,E,Y,z),wi(Y,E),qy(E,E[R]=LA(Y,E,Y,z)),Ol(z)&&jg(x,E,z),null!=m&&ew(E,z,v)}function lx(s){return function(s,o){return s[o]}(Zt.lFrame.contextLView,20+s)}function Yd(s,o=st.Default){const l=Qe();return null===l?it(s,o):Id($n(),l,Ae(s),o)}function yx(){throw new Error("invalid")}function Yw(s,o,l){const c=Qe();return Dr(c,Vs(),o)&&Ds(vn(),Un(),c,s,o,c[11],l,!1),Yw}function nm(s,o,l,c,d){const m=d?"class":"style";BA(s,l,o.inputs[m],m,c)}function im(s,o,l,c){const d=Qe(),f=vn(),m=20+s,v=d[11],E=d[m]=wf(v,o,Zt.lFrame.currentNamespace),x=f.firstCreatePass?function(s,o,l,c,d,f,m){const v=o.consts,x=xf(o,s,2,d,as(v,f));return iw(o,l,x,as(v,m)),null!==x.attrs&&Mf(x,x.attrs,!1),null!==x.mergedAttrs&&Mf(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(m,f,d,0,o,l,c):f.data[m];Mi(x,!0);const R=x.mergedAttrs;null!==R&&Wl(v,E,R);const z=x.classes;null!==z&&Ug(v,E,z);const Y=x.styles;null!==Y&&RC(v,E,Y),64!=(64&x.flags)&&Ng(f,d,E,x),0===Zt.lFrame.elementDepthCount&&wi(E,d),Zt.lFrame.elementDepthCount++,Ol(x)&&(jg(f,d,x),function(s,o,l){if(ad(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const m=s.data[f];m.contentQueries&&m.contentQueries(1,l[f],f)}}}(f,x,d)),null!==c&&ew(d,x)}function Qw(){let s=$n();_a()?Zt.lFrame.isParent=!1:(s=s.parent,Mi(s,!1));const o=s;Zt.lFrame.elementDepthCount--;const l=vn();l.firstCreatePass&&(qo(l,s),ad(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&nm(l,o,Qe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&nm(l,o,Qe(),o.stylesWithoutHost,!1)}function vx(s,o,l,c){im(s,o,l,c),Qw()}function pv(){return Qe()}function Jw(s){return!!s&&"function"==typeof s.then}function gv(s){return!!s&&"function"==typeof s.subscribe}const Xw=gv;function eT(s,o,l,c){const d=Qe(),f=vn(),m=$n();return function(s,o,l,c,d,f,m,v){const E=Ol(c),R=s.firstCreatePass&&Hy(s),z=o[8],Y=UA(o);let ce=!0;if(3&c.type||v){const Me=Xi(c,o),nt=v?v(Me):Me,We=Y.length,Rt=v?Yt=>v(Xn(Yt[c.index])):c.index;if(Nn(l)){let Yt=null;if(!v&&E&&(Yt=function(s,o,l,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===l&&d[f+1]===c){const v=o[7],E=d[f+2];return v.length>E?v[E]:null}"string"==typeof m&&(f+=2)}return null}(s,o,d,c.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=f,Yt.__ngLastListenerFn__=f,ce=!1;else{f=tT(c,o,z,f,!1);const In=l.listen(nt,d,f);Y.push(f,In),R&&R.push(d,Rt,We,We+1)}}else f=tT(c,o,z,f,!0),nt.addEventListener(d,f,m),Y.push(f),R&&R.push(d,Rt,We,m)}else f=tT(c,o,z,f,!1);const ve=c.outputs;let Fe;if(ce&&null!==ve&&(Fe=ve[d])){const Me=Fe.length;if(Me)for(let nt=0;nt<Me;nt+=2){const Yi=o[Fe[nt]][Fe[nt+1]].subscribe(f),or=Y.length;Y.push(f,Yi),R&&R.push(d,c.index,or,-(or+1))}}}(f,d,d[11],m,s,o,!!l,c),eT}function wx(s,o,l,c){try{return!1!==l(c)}catch(d){return jy(s,d),!1}}function tT(s,o,l,c,d){return function f(m){if(m===Function)return c;const v=2&s.flags?En(s.index,o):o;0==(32&o[2])&&uw(v);let E=wx(o,0,c,m),x=f.__ngNextListenerFn__;for(;x;)E=wx(o,0,x,m)&&E,x=x.__ngNextListenerFn__;return d&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function yv(s=1){return function(s){return(Zt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,Zt.lFrame.contextLView))[8]}(s)}function iT(s,o,l){return Bf(s,"",o,"",l),iT}function Bf(s,o,l,c,d){const f=Qe(),m=Rf(f,o,l,c);return m!==un&&Ds(vn(),Un(),f,s,m,f[11],d,!1),Bf}function wv(s,o,l,c,d){const f=s[l+1],m=null===o;let v=c?Se(f):cc(f),E=!1;for(;0!==v&&(!1===E||m);){const R=s[v+1];lR(s[v],o)&&(E=!0,s[v+1]=c?VC(R):Bg(R)),v=c?Se(R):cc(R)}E&&(s[l+1]=c?Bg(f):VC(f))}function lR(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Da(s,o)>=0}const pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Tv(s){return s.substring(pr.key,pr.keyEnd)}function Dx(s,o){const l=pr.textEnd;return l===o?-1:(o=pr.keyEnd=function(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,pr.key=o,l),ku(s,o,l))}function ku(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function rm(s,o){return function(s,o,l,c){const d=Qe(),f=vn(),m=Ir(2);f.firstUpdatePass&&Mx(f,s,m,c),o!==un&&Dr(d,m,o)&&Px(f,f.data[Oi()],d,d[11],s,d[m+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Le(qi(s)))),s}(o,l),c,m)}(s,o,null,!0),rm}function Cl(s,o){for(let l=function(s){return function(s){pr.key=0,pr.keyEnd=0,pr.value=0,pr.valueEnd=0,pr.textEnd=s.length}(s),Dx(s,ku(s,0,pr.textEnd))}(o);l>=0;l=Dx(o,l))Hr(s,Tv(o),!0)}function xv(s,o){return o>=s.expandoStartIndex}function Mx(s,o,l,c){const d=s.data;if(null===d[l+1]){const f=d[Oi()],m=xv(s,l);Dv(f,c)&&null===o&&!m&&(o=!1),o=function(s,o,l,c){const d=function(s){const o=Zt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(l=sm(l=cT(null,s,o,l,c),o.attrs,c),f=null);else{const m=o.directiveStylingLast;if(-1===m||s[m]!==d)if(l=cT(d,s,o,l,c),null===f){let E=function(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==cc(c))return s[Se(c)]}(s,o,c);void 0!==E&&Array.isArray(E)&&(E=cT(null,s,o,E[1],c),E=sm(E,o.attrs,c),function(s,o,l,c){s[Se(l?o.classBindings:o.styleBindings)]=c}(s,o,c,E))}else f=function(s,o,l){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=sm(c,s[f].hostAttrs,l);return sm(c,o.attrs,l)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),l}(d,f,o,c),function(s,o,l,c,d,f){let m=f?o.classBindings:o.styleBindings,v=Se(m),E=cc(m);s[c]=l;let R,x=!1;if(Array.isArray(l)){const z=l;R=z[1],(null===R||Da(z,R)>0)&&(x=!0)}else R=l;if(d)if(0!==E){const Y=Se(s[v+1]);s[c+1]=zd(Y,v),0!==Y&&(s[Y+1]=BC(s[Y+1],c)),s[v+1]=function(s,o){return 131071&s|o<<17}(s[v+1],c)}else s[c+1]=zd(v,0),0!==v&&(s[v+1]=BC(s[v+1],c)),v=c;else s[c+1]=zd(E,0),0===v?v=c:s[E+1]=BC(s[E+1],c),E=c;x&&(s[c+1]=Bg(s[c+1])),wv(s,R,c,!0),wv(s,R,c,!1),function(s,o,l,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&Da(f,o)>=0&&(l[c+1]=VC(l[c+1]))}(o,R,s,c,f),m=zd(v,E),f?o.classBindings=m:o.styleBindings=m}(d,f,o,l,m,c)}}function cT(s,o,l,c,d){let f=null;const m=l.directiveEnd;let v=l.directiveStylingLast;for(-1===v?v=l.directiveStart:v++;v<m&&(f=o[v],c=sm(c,f.hostAttrs,d),f!==s);)v++;return null!==s&&(l.directiveStylingLast=v),c}function sm(s,o,l){const c=l?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const m=o[f];"number"==typeof m?d=m:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Hr(s,m,!!l||o[++f]))}return void 0===s?null:s}function Px(s,o,l,c,d,f,m,v){if(!(3&o.type))return;const E=s.data,x=E[v+1];Vf(function(s){return 1==(1&s)}(x)?Rx(E,o,l,d,cc(x),m):void 0)||(Vf(f)||function(s){return 2==(2&s)}(x)&&(f=Rx(E,null,l,d,v,m)),function(s,o,l,c,d){const f=Nn(s);if(o)d?f?s.addClass(l,c):l.classList.add(c):f?s.removeClass(l,c):l.classList.remove(c);else{let m=-1===c.indexOf("-")?void 0:Fa.DashCase;if(null==d)f?s.removeStyle(l,c,m):l.style.removeProperty(c);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),m|=Fa.Important),f?s.setStyle(l,c,d,m):l.style.setProperty(c,d,v?"important":"")}}}(c,m,bs(Oi(),l),d,f))}function Rx(s,o,l,c,d,f){const m=null===o;let v;for(;d>0;){const E=s[d],x=Array.isArray(E),R=x?E[1]:E,z=null===R;let Y=l[d+1];Y===un&&(Y=z?oe:void 0);let ce=z?fu(Y,c):R===c?Y:void 0;if(x&&!Vf(ce)&&(ce=fu(E,c)),Vf(ce)&&(v=ce,m))return v;const ve=s[d+1];d=m?Se(ve):cc(ve)}if(null!==o){let E=f?o.residualClasses:o.residualStyles;null!=E&&(v=fu(E,c))}return v}function Vf(s){return void 0!==s}function Dv(s,o){return 0!=(s.flags&(o?16:32))}function Lx(s,o=""){const l=Qe(),c=vn(),d=s+20,f=c.firstCreatePass?xf(c,d,1,o,null):c.data[d],m=l[d]=function(s,o){return Nn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);Ng(c,l,m,f),Mi(f,!1)}function hT(s){return qf("",s,""),hT}function qf(s,o,l){const c=Qe(),d=Rf(c,s,o,l);return d!==un&&uc(c,Oi(),d),qf}function fT(s,o,l,c,d){const f=Qe(),m=Lf(f,s,o,l,c,d);return m!==un&&uc(f,Oi(),m),fT}function Bx(s,o,l){!function(s,o,l,c){const d=vn(),f=Ir(2);d.firstUpdatePass&&Mx(d,null,f,c);const m=Qe();if(l!==un&&Dr(m,f,l)){const v=d.data[Oi()];if(Dv(v,c)&&!xv(d,f)){let E=c?v.classesWithoutHost:v.stylesWithoutHost;null!==E&&(l=Ze(E,l||"")),nm(d,v,m,l,c)}else!function(s,o,l,c,d,f,m,v){d===un&&(d=oe);let E=0,x=0,R=0<d.length?d[0]:null,z=0<f.length?f[0]:null;for(;null!==R||null!==z;){const Y=E<d.length?d[E+1]:void 0,ce=x<f.length?f[x+1]:void 0;let Fe,ve=null;R===z?(E+=2,x+=2,Y!==ce&&(ve=z,Fe=ce)):null===z||null!==R&&R<z?(E+=2,ve=R):(x+=2,ve=z,Fe=ce),null!==ve&&Px(s,o,l,c,ve,Fe,m,v),R=E<d.length?d[E]:null,z=x<f.length?f[x]:null}}(d,v,m,m[11],m[f+1],m[f+1]=function(s,o,l){if(null==l||""===l)return oe;const c=[],d=qi(l);if(Array.isArray(d))for(let f=0;f<d.length;f++)s(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&s(c,f,d[f]);else"string"==typeof d&&o(c,d);return c}(s,o,l),c,f)}}(Hr,Cl,Rf(Qe(),s,o,l),!0)}const Qd=void 0;var DR=["en",[["a","p"],["AM","PM"],Qd],[["AM","PM"],Qd,Qd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qd,"{1} 'at' {0}",Qd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Hf={};function bT(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=CT(o);if(l)return l;const c=o.split("-")[0];if(l=CT(c),l)return l;if("en"===c)return DR;throw new Error(`Missing locale data for the locale "${s}".`)}function Jx(s){return bT(s)[qt.PluralCase]}function CT(s){return s in Hf||(Hf[s]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[s]),Hf[s]}var qt=(()=>((qt=qt||{})[qt.LocaleId=0]="LocaleId",qt[qt.DayPeriodsFormat=1]="DayPeriodsFormat",qt[qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",qt[qt.DaysFormat=3]="DaysFormat",qt[qt.DaysStandalone=4]="DaysStandalone",qt[qt.MonthsFormat=5]="MonthsFormat",qt[qt.MonthsStandalone=6]="MonthsStandalone",qt[qt.Eras=7]="Eras",qt[qt.FirstDayOfWeek=8]="FirstDayOfWeek",qt[qt.WeekendRange=9]="WeekendRange",qt[qt.DateFormat=10]="DateFormat",qt[qt.TimeFormat=11]="TimeFormat",qt[qt.DateTimeFormat=12]="DateTimeFormat",qt[qt.NumberSymbols=13]="NumberSymbols",qt[qt.NumberFormats=14]="NumberFormats",qt[qt.CurrencyCode=15]="CurrencyCode",qt[qt.CurrencySymbol=16]="CurrencySymbol",qt[qt.CurrencyName=17]="CurrencyName",qt[qt.Currencies=18]="Currencies",qt[qt.Directionality=19]="Directionality",qt[qt.PluralCase=20]="PluralCase",qt[qt.ExtraData=21]="ExtraData",qt))();const jf="en-US";let ui=jf;function ym(s,o,l,c,d){if(s=Ae(s),Array.isArray(s))for(let f=0;f<s.length;f++)ym(s[f],o,l,c,d);else{const f=vn(),m=Qe();let v=Eu(s)?s:Ae(s.provide),E=Gy(s);const x=$n(),R=1048575&x.providerIndexes,z=x.directiveStart,Y=x.providerIndexes>>20;if(Eu(s)||!s.multi){const ce=new Ca(E,d,Yd),ve=Kv(v,o,d?R:R+Y,z);-1===ve?(bi(Br(x,m),f,v),eh(f,s,o.length),o.push(v),x.directiveStart++,x.directiveEnd++,d&&(x.providerIndexes+=1048576),l.push(ce),m.push(ce)):(l[ve]=ce,m[ve]=ce)}else{const ce=Kv(v,o,R+Y,z),ve=Kv(v,o,R,R+Y),Fe=ce>=0&&l[ce],Me=ve>=0&&l[ve];if(d&&!Me||!d&&!Fe){bi(Br(x,m),f,v);const nt=function(s,o,l,c,d){const f=new Ca(s,l,Yd);return f.multi=[],f.index=o,f.componentProviders=0,BT(f,d,c&&!l),f}(d?vD:yD,l.length,d,c,E);!d&&Me&&(l[ve].providerFactory=nt),eh(f,s,o.length,0),o.push(v),x.directiveStart++,x.directiveEnd++,d&&(x.providerIndexes+=1048576),l.push(nt),m.push(nt)}else eh(f,s,ce>-1?ce:ve,BT(l[d?ve:ce],E,!d&&c));!d&&c&&Me&&l[ve].componentProviders++}}}function eh(s,o,l,c){const d=Eu(o);if(d||function(s){return!!s.useClass}(o)){const m=(o.useClass||o).prototype.ngOnDestroy;if(m){const v=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const E=v.indexOf(l);-1===E?v.push(l,[c,m]):v[E+1].push(c,m)}else v.push(l,m)}}}function BT(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Kv(s,o,l,c){for(let d=l;d<c;d++)if(o[d]===s)return d;return-1}function yD(s,o,l,c){return Yv(this.multi,[])}function vD(s,o,l,c){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=zo(l,l[1],this.providerFactory.index,c);f=v.slice(0,m),Yv(d,f);for(let E=m;E<v.length;E++)f.push(v[E])}else f=[],Yv(d,f);return f}function Yv(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function VT(s,o=[]){return l=>{l.providersResolver=(c,d)=>function(s,o,l){const c=vn();if(c.firstCreatePass){const d=is(s);ym(l,c.data,c.blueprint,d,!0),ym(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class qT{}const Yf="ngComponent";class jT{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${Le(s)}. Did you add it to @NgModule.entryComponents?`);return o[Yf]=s,o}(o)}}let fc=(()=>{class s{}return s.NULL=new jT,s})();function vm(...s){}function Mu(s,o){return new wl(Xi(s,o))}const WT=function(){return Mu($n(),Qe())};let wl=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=WT,s})();function GT(s){return s instanceof wl?s.nativeElement:s}class Jv{}let Xv=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>KT(),s})();const KT=function(){const s=Qe(),l=En($n().index,s);return function(s){return s[11]}(Fs(l)?l:s)};let Qf=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class Jf{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const QT=new Jf("13.0.1"),pc={};function e0(s,o,l,c,d=!1){for(;null!==l;){const f=o[l.index];if(null!==f&&c.push(Xn(f)),jn(f))for(let v=10;v<f.length;v++){const E=f[v],x=E[1].firstChild;null!==x&&e0(E[1],E,x,c)}const m=l.type;if(8&m)e0(s,o,l.child,c);else if(32&m){const v=bC(l,o);let E;for(;E=v();)c.push(E)}else if(16&m){const v=MC(o,l);if(Array.isArray(v))c.push(...v);else{const E=$d(o[16]);e0(E[1],E,v,c,!0)}}l=d?l.projectionNext:l.next}return c}class Xf{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return e0(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(jn(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(by(o,c),gi(l,c))}this._attachedToViewContainer=!1}mi(this._lView[1],this._lView)}onDestroy(o){Uy(this._lView[1],this._lView,null,o)}markForCheck(){uw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,l){nl(!0);try{Wg(s,o,l)}finally{nl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,If(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class qR extends Xf{constructor(o){super(o),this._view=o}detectChanges(){NA(this._view)}checkNoChanges(){!function(s){nl(!0);try{NA(s)}finally{nl(!1)}}(this._view)}get context(){return null}}class JT extends fc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=_n(o);return new e1(l,this.ngModule)}}function XT(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}const jR=new Qn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yC});class e1 extends qT{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=o.selectors.map(Ay).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return XT(this.componentDef.inputs)}get outputs(){return XT(this.componentDef.outputs)}create(o,l,c,d){const f=(d=d||this.ngModule)?function(s,o){return{get:(l,c,d)=>{const f=s.get(l,pc,d);return f!==pc||c===pc?f:o.get(l,c,d)}}}(o,d.injector):o,m=f.get(Jv,No),v=f.get(Qf,null),E=m.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",R=c?function(s,o,l){if(Nn(s))return s.selectRootElement(o,l===fe.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(E,c,this.componentDef.encapsulation):wf(m.createRenderer(null,this.componentDef),x,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(x)),z=this.componentDef.onPush?576:528,Y=function(s,o){return{components:[],scheduler:s||yC,clean:yP,playerHandler:o||null,flags:0}}(),ce=kf(0,null,null,1,0,null,null,null,null,null),ve=qg(null,ce,Y,z,null,null,m,E,v,f);let Fe,Me;Bo(ve);try{const nt=function(s,o,l,c,d,f){const m=l[1];l[20]=s;const E=xf(m,20,2,"#host",null),x=E.mergedAttrs=o.hostAttrs;null!==x&&(Mf(E,x,!0),null!==s&&(Wl(d,s,x),null!==E.classes&&Ug(d,s,E.classes),null!==E.styles&&RC(d,s,E.styles)));const R=c.createRenderer(s,o),z=qg(l,DA(o),null,o.onPush?64:16,l[20],E,c,R,f||null,null);return m.firstCreatePass&&(bi(Br(E,l),m,o.type),Vy(m,E),OA(E,l.length,1)),qy(l,z),l[20]=z}(R,this.componentDef,ve,m,E);if(R)if(c)Wl(E,R,["ng-version",QT.full]);else{const{attrs:We,classes:Rt}=function(s){const o=[],l=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&l.push(f);else{if(!As(d))break;d=f}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);We&&Wl(E,R,We),Rt&&Rt.length>0&&Ug(E,R,Rt.join(" "))}if(Me=ga(ce,20),void 0!==l){const We=Me.projection=[];for(let Rt=0;Rt<this.ngContentSelectors.length;Rt++){const Yt=l[Rt];We.push(null!=Yt?Array.from(Yt):null)}}Fe=function(s,o,l,c,d){const f=l[1],m=function(s,o,l){const c=$n();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),PA(s,c,o,Df(s,o,1,null),l));const d=zo(o,s,c.directiveStart,c);wi(d,o);const f=Xi(c,o);return f&&wi(f,o),d}(f,l,o);if(c.components.push(m),s[8]=m,d&&d.forEach(E=>E(m,o)),o.contentQueries){const E=$n();o.contentQueries(1,m,E.directiveStart)}const v=$n();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(vo(v.index),kA(l[1],v,0,v.directiveStart,v.directiveEnd,o),MA(o,m)),m}(nt,this.componentDef,ve,Y,[LP]),Wd(ce,ve,null)}finally{ql()}return new zR(this.componentType,Fe,Mu(Me,ve),ve,Me)}}class zR extends class{}{constructor(o,l,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=l,this.hostView=this.changeDetectorRef=new qR(d),this.componentType=o}get injector(){return new fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Tl{}class t1{}const Ou=new Map;class Pu extends Tl{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new JT(this);const c=jt(o);this._bootstrapComponents=na(c.bootstrap),this._r3Injector=Wy(o,l,[{provide:Tl,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],Le(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=ci.THROW_IF_NOT_FOUND,c=st.Default){return o===ci||o===Tl||o===Gg?this:this._r3Injector.get(o,l,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class n0 extends t1{constructor(o){super(),this.moduleType=o,null!==jt(o)&&function(s){const o=new Set;!function l(c){const d=jt(c,!0),f=d.id;null!==f&&(function(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${Le(o)} vs ${Le(o.name)}`)}(f,Ou.get(f),c),Ou.set(f,c));const m=na(d.imports);for(const v of m)o.has(v)||(o.add(v),l(v))}(s)}(o)}create(o){return new Pu(this.moduleType,o)}}function r1(s,o,l){const c=Ii()+s,d=Qe();return d[c]===un?ia(d,c,l?o.call(l):o()):function(s,o){return s[o]}(d,c)}function s1(s,o,l,c){return function(s,o,l,c,d,f){const m=o+l;return Dr(s,m,d)?ia(s,m+1,f?c.call(f,d):c(d)):function(s,o){const l=s[o];return l===un?void 0:l}(s,m+1)}(Qe(),Ii(),s,o,l,c)}function c0(s){return o=>{setTimeout(s,void 0,o)}}const ii=class extends r.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){var E,x,R;let d=o,f=l||(()=>null),m=c;if(o&&"object"==typeof o){const z=o;d=null==(E=z.next)?void 0:E.bind(z),f=null==(x=z.error)?void 0:x.bind(z),m=null==(R=z.complete)?void 0:R.bind(z)}this.__isAsync&&(f=c0(f),d&&(d=c0(d)),m&&(m=c0(m)));const v=super.subscribe({next:d,error:f,complete:m});return o instanceof ne.w0&&o.add(v),v}};function wm(){return this._results[Pf()]()}class Hi{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Pf(),c=Hi.prototype;c[l]||(c[l]=wm)}get changes(){return this._changes||(this._changes=new ii)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const d=ur(o);(this._changesDetected=!function(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(l&&(d=l(d),f=l(f)),f!==d)return!1}return!0}(c._results,d,l))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const UD=function(){return nh($n(),Qe())};let th=(()=>{class s{}return s.__NG_ELEMENT_ID__=UD,s})();const l1=th,ZD=class extends l1{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o){const l=this._declarationTContainer.tViews,c=qg(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(l)),Wd(l,c,o),new Xf(c)}};function nh(s,o){return 4&s.type?new ZD(o,s,Mu(s,o)):null}const hs=function(){return d0($n(),Qe())};let ih=(()=>{class s{}return s.__NG_ELEMENT_ID__=hs,s})();const u1=ih,u0=class extends u1{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return Mu(this._hostTNode,this._hostLView)}get injector(){return new fi(this._hostTNode,this._hostLView)}get parentInjector(){const o=Pi(this._hostTNode,this._hostLView);if(lg(o)){const l=Kl(o,this._hostLView),c=cl(o);return new fi(l[1].data[c+8],l)}return new fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Em(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){const d=o.createEmbeddedView(l||{});return this.insert(d,c),d}createComponent(o,l,c,d,f){const m=o&&!("function"==typeof o);let v;if(m)v=l;else{const z=l||{};v=z.index,c=z.injector,d=z.projectableNodes,f=z.ngModuleRef}const E=m?o:new e1(_n(o)),x=c||this.parentInjector;if(!f&&null==E.ngModule&&x){const z=x.get(Tl,null);z&&(f=z)}const R=E.create(x,d,void 0,f);return this.insert(R.hostView,v),R}insert(o,l){const c=o._lView,d=c[1];if(jn(c[3])){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const z=c[3],Y=new u0(z,z[6],z[3]);Y.detach(Y.indexOf(o))}}const f=this._adjustIndex(l),m=this._lContainer;!function(s,o,l,c){const d=10+c,f=l.length;c>0&&(l[d-1][4]=o),c<f-10?(o[4]=l[d],xr(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const m=o[17];null!==m&&l!==m&&function(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(m,o);const v=o[19];null!==v&&v.insertView(s),o[2]|=128}(d,c,m,f);const v=Ty(f,m),E=c[11],x=Tf(E,m[7]);return null!==x&&function(s,o,l,c,d,f){c[0]=d,c[6]=o,If(s,c,l,1,d,f)}(d,m[6],E,c,x,v),o.attachToViewContainerRef(),xr(Im(m),f,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Em(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=by(this._lContainer,l);c&&(gi(Im(this._lContainer),l),mi(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=by(this._lContainer,l);return c&&null!=gi(Im(this._lContainer),l)?new Xf(c):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Em(s){return s[8]}function Im(s){return s[8]||(s[8]=[])}function d0(s,o){let l;const c=o[s.index];if(jn(c))l=c;else{let d;if(8&s.type)d=Xn(c);else{const f=o[11];d=f.createComment("");const m=Xi(s,o);wu(f,Tf(f,m),d,function(s,o){return Nn(s)?s.nextSibling(o):o.nextSibling}(f,m),!1)}o[s.index]=l=LA(c,o,d,s),qy(o,l)}return new u0(l,s,o)}class f0{constructor(o){this.queryList=o,this.matches=null}clone(){return new f0(this.queryList)}setDirty(){this.queryList.setDirty()}}class mc{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,d=[];for(let f=0;f<c;f++){const m=l.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new mc(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==g1(o,l).matches&&this.queries[l].setDirty()}}class p0{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class ip{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const d=null!==l?l.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==l?l.push(f):l=[f])}return null!==l?new ip(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Am{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Am(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,l,VD(l,f)),this.matchTNodeWithReadOption(o,l,$t(l,o,f,!1,!1))}else c===th?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,$t(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===wl||d===ih||d===th&&4&l.type)this.addMatch(l.index,-2);else{const f=$t(l,o,d,!1,!1);null!==f&&this.addMatch(l.index,f)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function VD(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function xm(s,o,l,c){return-1===l?function(s,o){return 11&s.type?Mu(s,o):4&s.type?nh(s,o):null}(o,s):-2===l?function(s,o,l){return l===wl?Mu(o,s):l===th?nh(o,s):l===ih?d0(o,s):void 0}(s,o,c):zo(s,s[1],l,o)}function Dm(s,o,l,c){const d=o[19].queries[c];if(null===d.matches){const f=s.data,m=l.matches,v=[];for(let E=0;E<m.length;E+=2){const x=m[E];v.push(x<0?null:xm(o,f[x],m[E+1],l.metadata.read))}d.matches=v}return d.matches}function rp(s,o,l,c){const d=s.queries.getByIndex(l),f=d.matches;if(null!==f){const m=Dm(s,o,d,l);for(let v=0;v<f.length;v+=2){const E=f[v];if(E>0)c.push(m[v/2]);else{const x=f[v+1],R=o[-E];for(let z=10;z<R.length;z++){const Y=R[z];Y[17]===Y[3]&&rp(Y[1],Y,x,c)}if(null!==R[9]){const z=R[9];for(let Y=0;Y<z.length;Y++){const ce=z[Y];rp(ce[1],ce,x,c)}}}}}return c}function f1(s){const o=Qe(),l=vn(),c=va();nu(c+1);const d=g1(l,c);if(s.dirty&&Nl(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?rp(l,o,c,[]):Dm(l,o,d,c);s.reset(f,GT),s.notifyOnChanges()}return!0}return!1}function Sm(s,o,l,c){const d=vn();if(d.firstCreatePass){const f=$n();(function(s,o,l){null===s.queries&&(s.queries=new ip),s.queries.track(new Am(o,l))})(d,new p0(o,l,c),f.index),function(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(d,s),2==(2&l)&&(d.staticContentQueries=!0)}!function(s,o,l){const c=new Hi(4==(4&l));Uy(s,o,c,c.destroy),null===o[19]&&(o[19]=new mc),o[19].queries.push(new f0(c))}(d,Qe(),l)}function m0(){return s=Qe(),o=va(),s[19].queries[o].queryList;var s,o}function g1(s,o){return s.queries.getByIndex(o)}const Nu=new Qn("Application Initializer");let Fu=(()=>{class s{constructor(l){this.appInits=l,this.resolve=vm,this.reject=vm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Jw(f))l.push(f);else if(Xw(f)){const m=new Promise((v,E)=>{f.subscribe({complete:v,error:E})});l.push(m)}}Promise.all(l).then(()=>{c()}).catch(d=>{this.reject(d)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(it(Nu,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();const k1=new Qn("AppId"),$m={provide:k1,useFactory:function(){return`${dp()}${dp()}${dp()}`},deps:[]};function dp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const P0=new Qn("Platform Initializer"),R0=new Qn("Platform ID"),L0=new Qn("appBootstrapListener");let ah=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();const hp=new Qn("LocaleId"),fp=new Qn("DefaultCurrencyCode");class N0{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}const F0=function(s){return new n0(s)},Zu=F0,Wm=function(s){return Promise.resolve(F0(s))},B0=function(s){const o=F0(s),c=na(jt(s).declarations).reduce((d,f)=>{const m=_n(f);return m&&d.push(new e1(m)),d},[]);return new N0(o,c)},_i=B0,tS=function(s){return Promise.resolve(B0(s))};let Bu=(()=>{class s{constructor(){this.compileModuleSync=Zu,this.compileModuleAsync=Wm,this.compileModuleAndAllComponentsSync=_i,this.compileModuleAndAllComponentsAsync=tS}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();const P1=(()=>Promise.resolve(0))();function q0(s){"undefined"==typeof Zone?P1.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Gs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ii(!1),this.onMicrotaskEmpty=new ii(!1),this.onStable=new ii(!1),this.onError=new ii(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&l,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=Ht.requestAnimationFrame,o=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ht,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Gm(s),s.isCheckStableRunning=!0,Vu(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Gm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,d,f,m,v)=>{try{return H0(s),l.invokeTask(d,f,m,v)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),qu(s)}},onInvoke:(l,c,d,f,m,v,E)=>{try{return H0(s),l.invoke(d,f,m,v,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),qu(s)}},onHasTask:(l,c,d,f)=>{l.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Gm(s),Vu(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(l,c,d,f)=>(l.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,o,rS,vm,vm);try{return f.runTask(m,l,c)}finally{f.cancelTask(m)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const rS={};function Vu(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Gm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function H0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function qu(s){s._nesting--,Vu(s)}class sS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ii,this.onMicrotaskEmpty=new ii,this.onStable=new ii,this.onError=new ii}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,d){return o.apply(l,c)}}let L1=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gs.assertNotInAngularZone(),q0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())q0(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:f,updateCb:d})}whenStable(l,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,d){return[]}}return s.\u0275fac=function(l){return new(l||s)(it(Gs))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),j0=(()=>{class s{constructor(){this._applications=new Map,Km.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return Km.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();class oS{addToWindow(o){}findTestabilityInTree(o,l,c){return null}}function N1(s){Km=s}let Km=new oS,Ym=!0,Qm=!1;function Jm(){return Qm=!0,Ym}function F1(){if(Qm)throw new Error("Cannot enable prod mode after platform setup.");Ym=!1}let Ks;const uh=new Qn("AllowMultipleToken");class uS{constructor(o,l){this.name=o,this.token=l}}function W0(s,o,l=[]){const c=`Platform: ${o}`,d=new Qn(c);return(f=[])=>{let m=U1();if(!m||m.injector.get(uh,!1))if(s)s(l.concat(f).concat({provide:d,useValue:!0}));else{const v=l.concat(f).concat({provide:d,useValue:!0},{provide:Kg,useValue:"platform"});!function(s){if(Ks&&!Ks.destroyed&&!Ks.injector.get(uh,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ks=s.get(Z1);const o=s.get(P0,null);o&&o.forEach(l=>l())}(ci.create({providers:v,name:c}))}return function(s){const o=U1();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function U1(){return Ks&&!Ks.destroyed?Ks:null}let Z1=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const v=function(s,o){let l;return l="noop"===s?new sS:("zone.js"===s?void 0:s)||new Gs({enableLongStackTrace:Jm(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),E=[{provide:Gs,useValue:v}];return v.run(()=>{const x=ci.create({providers:E,parent:this.injector,name:l.moduleType.name}),R=l.create(x),z=R.injector.get(Hd,null);if(!z)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const Y=v.onError.subscribe({next:ce=>{z.handleError(ce)}});R.onDestroy(()=>{e_(this._modules,R),Y.unsubscribe()})}),function(s,o,l){try{const c=l();return Jw(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(z,v,()=>{const Y=R.injector.get(Fu);return Y.runInitializers(),Y.donePromise.then(()=>(function(s){Ct(s,"Expected localeId to be defined"),"string"==typeof s&&(ui=s.toLowerCase().replace(/_/g,"-"))}(R.injector.get(hp,jf)||jf),this._moduleDoBootstrap(R),R))})})}bootstrapModule(l,c=[]){const d=G0({},c);return function(s,o,l){const c=new n0(l);return Promise.resolve(c)}(0,0,l).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(l){const c=l.injector.get(vc);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${Le(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(it(ci))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();function G0(s,o){return Array.isArray(o)?o.reduce(G0,s):Lt(Lt({},s),o)}let vc=(()=>{class s{constructor(l,c,d,f,m){this._zone=l,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new H.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),E=new H.y(x=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Gs.assertNotInAngularZone(),q0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{R.unsubscribe(),z.unsubscribe()}});this.isStable=(0,xe.T)(v,E.pipe((0,ke.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=l instanceof qT?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(d.componentType);const f=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Tl),v=d.create(ci.NULL,[],c||d.selector,f),E=v.location.nativeElement,x=v.injector.get(L1,null),R=x&&v.injector.get(j0);return x&&R&&R.registerApplication(E,x),v.onDestroy(()=>{this.detachView(v.hostView),e_(this.components,v),R&&R.unregisterApplication(E)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;e_(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(L0,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(it(Gs),it(ci),it(Hd),it(fc),it(Fu))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();function e_(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}const fS=function(s){return function(s,o,l){if(ho(s)&&!l){const c=En(s.index,o);return new Xf(c,c)}return 47&s.type?new Xf(o[16],o):null}($n(),Qe(),16==(16&s))};let $1=(()=>{class s{}return s.__NG_ELEMENT_ID__=fS,s})();const J1=function(s){return null};class at{constructor(){}supports(o){return Jg(o)}create(o){return new vp(o)}}const $i=(s,o)=>o;class vp{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||$i}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,d=0,f=null;for(;l||c;){const m=!c||l&&l.currentIndex<eE(c,d,f)?l:c,v=eE(m,d,f),E=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(l=l._next,null==m.previousIndex)d++;else{f||(f=[]);const x=v-d,R=E-d;if(x!=R){for(let Y=0;Y<x;Y++){const ce=Y<f.length?f[Y]:f[Y]=0,ve=ce+Y;R<=ve&&ve<x&&(f[Y]=ce+1)}f[m.previousIndex]=R-x}}v!==E&&o(m,v,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Jg(o))throw new Error(`Error trying to diff '${Le(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,m,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let v=0;v<this.length;v++)f=o[v],m=this._trackByFn(v,f),null!==l&&Object.is(l.trackById,m)?(c&&(l=this._verifyReinsertion(l,f,m,v)),Object.is(l.item,f)||this._addIdentityChange(l,f)):(l=this._mismatch(l,f,m,v),c=!0),l=l._next}else d=0,function(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Pf()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,v=>{m=this._trackByFn(d,v),null!==l&&Object.is(l.trackById,m)?(c&&(l=this._verifyReinsertion(l,v,m,d)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,m,d),c=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,f,d)):o=this._addAfter(new rb(l,c),f,d),o}_verifyReinsertion(o,l,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const d=null===l?this._itHead:l._next;return o._next=d,o._prev=l,null===d?this._itTail=o:d._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Gt),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gt),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class rb{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Nt{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class Gt{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new Nt,this.map.set(l,c)),c.add(o)}get(o,l){const d=this.map.get(o);return d?d.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eE(s,o,l){const c=s.previousIndex;if(null===c)return c;let d=0;return l&&c<l.length&&(d=l[c]),c+o+d}class gt{constructor(){}supports(o){return o instanceof Map||Fw(o)}create(){return new Be}}class Be{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Fw(o)))throw new Error(`Error trying to diff '${Le(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const f=this._getOrCreateRecordForKey(d,c);l=this._insertBeforeOrAppend(l,f)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,l);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const c=new tt(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class tt{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ir(){return new bp([new at])}let bp=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const d=c.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||ir()),deps:[[s,new Ni,new Vi]]}}find(l){const c=this.factories.find(d=>d.supports(l));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(s){return s.name||typeof s}(l)}'`)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:ir}),s})();function tE(){return new r_([new gt])}let r_=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const d=c.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||tE()),deps:[[s,new Ni,new Vi]]}}find(l){const c=this.factories.find(d=>d.supports(l));if(c)return c;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:tE}),s})();const bS=[new gt],nE=new bp([new at]),wS=new r_(bS),Ys=W0(null,"core",[{provide:R0,useValue:"unknown"},{provide:Z1,deps:[ci]},{provide:j0,deps:[]},{provide:ah,deps:[]}]),rE=[{provide:vc,useClass:vc,deps:[Gs,ci,Hd,fc,Fu]},{provide:jR,deps:[Gs],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:Fu,useClass:Fu,deps:[[new Vi,Nu]]},{provide:Bu,useClass:Bu,deps:[]},$m,{provide:bp,useFactory:function(){return nE},deps:[]},{provide:r_,useFactory:function(){return wS},deps:[]},{provide:hp,useFactory:function(s){return s||"undefined"!=typeof $localize&&$localize.locale||jf},deps:[[new hr(hp),new Vi,new Ni]]},{provide:fp,useValue:"USD"}];let gn=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(it(vc))},s.\u0275mod=ze({type:s}),s.\u0275inj=yn({providers:rE}),s})()},6293:(vt,$e,Q)=>{"use strict";Q.d($e,{Z:()=>O});var r=Q(4213),ne=Q(1177),H=Q(1572),xe=Q(3855);class ke{constructor(K,j){this._delegate=K,this.firebase=j,(0,H._addComponent)(K,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(K,j=H._DEFAULT_ENTRY_NAME){var P;this._delegate.checkDestroyed();const S=this._delegate.container.getProvider(K);return!S.isInitialized()&&"EXPLICIT"===(null===(P=S.getComponent())||void 0===P?void 0:P.instantiationMode)&&S.initialize(),S.getImmediate({identifier:j})}_removeServiceInstance(K,j=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(j)}_addComponent(K){(0,H._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,H._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function Ze(){const W=function(W){const K={},j={__esModule:!0,initializeApp:function(X,ae={}){const G=H.initializeApp(X,ae);if((0,r.r3)(K,G.name))return K[G.name];const ee=new W(G,j);return K[G.name]=ee,ee},app:S,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function(X){const ae=X.name,G=ae.replace("-compat","");if(H._registerComponent(X)&&"PUBLIC"===X.type){const ee=(le=S())=>{if("function"!=typeof le[G])throw De.create("invalid-app-argument",{appName:ae});return le[G]()};void 0!==X.serviceProps&&(0,r.ZB)(ee,X.serviceProps),j[G]=ee,W.prototype[G]=function(...le){return this._getService.bind(this,ae).apply(this,X.multipleInstances?le:[])}}return"PUBLIC"===X.type?j[G]:null},removeApp:function(X){delete K[X]},useAsService:function(X,ae){return"serverAuth"===ae?null:ae},modularAPIs:H}};function S(X){if(!(0,r.r3)(K,X=X||H._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:X});return K[X]}return j.default=j,Object.defineProperty(j,"apps",{get:function(){return Object.keys(K).map(X=>K[X])}}),S.App=W,j}(ke);return W.INTERNAL=Object.assign(Object.assign({},W.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function(j){(0,r.ZB)(W,j)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),W}(),ue=new xe.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const W=self.firebase.SDK_VERSION;W&&W.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const O=de;(0,H.registerVersion)("@firebase/app-compat","0.1.11",undefined)},1572:(vt,$e,Q)=>{"use strict";Q.r($e),Q.d($e,{FirebaseError:()=>xe.ZR,SDK_VERSION:()=>si,_DEFAULT_ENTRY_NAME:()=>St,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>ln,_apps:()=>Ct,_clearComponents:()=>yn,_components:()=>_t,_getProvider:()=>an,_registerComponent:()=>Rn,_removeServiceInstance:()=>ki,deleteApp:()=>Et,getApp:()=>Je,getApps:()=>hn,initializeApp:()=>oi,onLog:()=>fn,registerVersion:()=>st,setLogLevel:()=>kn});var r=Q(8239),ne=Q(1177),H=Q(3855),xe=Q(4213);class ke{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function(kt){const J=kt.getComponent();return"VERSION"===(null==J?void 0:J.type)}(ye)){const N=ye.getImmediate();return`${N.library}/${N.version}`}return null}).filter(ye=>ye).join(" ")}}const De="@firebase/app",Ze=new H.Yd("@firebase/app"),St="[DEFAULT]",bt={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,_t=new Map;function Xt(kt,J){try{kt.container.addComponent(J)}catch(ye){Ze.debug(`Component ${J.name} failed to register with FirebaseApp ${kt.name}`,ye)}}function ln(kt,J){kt.container.addOrOverwriteComponent(J)}function Rn(kt){const J=kt.name;if(_t.has(J))return Ze.debug(`There were multiple attempts to register component ${J}.`),!1;_t.set(J,kt);for(const ye of Ct.values())Xt(ye,kt);return!0}function an(kt,J){return kt.container.getProvider(J)}function ki(kt,J,ye=St){an(kt,J).clearInstance(ye)}function yn(){_t.clear()}const en=new xe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Tn{constructor(J,ye,N){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},ye),this._name=ye.name,this._automaticDataCollectionEnabled=ye.automaticDataCollectionEnabled,this._container=N,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}const si="9.6.0";function oi(kt,J={}){"object"!=typeof J&&(J={name:J});const ye=Object.assign({name:St,automaticDataCollectionEnabled:!1},J),N=ye.name;if("string"!=typeof N||!N)throw en.create("bad-app-name",{appName:String(N)});const q=Ct.get(N);if(q){if((0,xe.vZ)(kt,q.options)&&(0,xe.vZ)(ye,q.config))return q;throw en.create("duplicate-app",{appName:N})}const te=new ne.H0(N);for(const Pe of _t.values())te.addComponent(Pe);const fe=new Tn(kt,ye,te);return Ct.set(N,fe),fe}function Je(kt=St){const J=Ct.get(kt);if(!J)throw en.create("no-app",{appName:kt});return J}function hn(){return Array.from(Ct.values())}function Et(kt){return ti.apply(this,arguments)}function ti(){return(ti=(0,r.Z)(function*(kt){const J=kt.name;Ct.has(J)&&(Ct.delete(J),yield Promise.all(kt.container.getProviders().map(ye=>ye.delete())),kt.isDeleted=!0)})).apply(this,arguments)}function st(kt,J,ye){var N;let q=null!==(N=bt[kt])&&void 0!==N?N:kt;ye&&(q+=`-${ye}`);const te=q.match(/\s|\//),fe=J.match(/\s|\//);if(te||fe){const Pe=[`Unable to register library "${q}" with version "${J}":`];return te&&Pe.push(`library name "${q}" contains illegal characters (whitespace or "/")`),te&&fe&&Pe.push("and"),fe&&Pe.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void Ze.warn(Pe.join(" "))}Rn(new ne.wA(`${q}-version`,()=>({library:q,version:J}),"VERSION"))}function fn(kt,J){if(null!==kt&&"function"!=typeof kt)throw en.create("invalid-log-argument");(0,H.Am)(kt,J)}function kn(kt){(0,H.Ub)(kt)}Rn(new ne.wA("platform-logger",J=>new ke(J),"PRIVATE")),st(De,"0.7.10",""),st(De,"0.7.10","esm2017"),st("fire-js","")},1177:(vt,$e,Q)=>{"use strict";Q.d($e,{wA:()=>H,H0:()=>Le});var r=Q(8239),ne=Q(4213);class H{constructor(de,ue,Ae){this.name=de,this.instanceFactory=ue,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const xe="[DEFAULT]";class ke{constructor(de,ue){this.name=de,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const ue=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(ue)){const Ae=new ne.BH;if(this.instancesDeferred.set(ue,Ae),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:ue});Ge&&Ae.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(ue).promise}getImmediate(de){var ue;const Ae=this.normalizeInstanceIdentifier(null==de?void 0:de.identifier),Ge=null!==(ue=null==de?void 0:de.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Ye){if(Ge)return null;throw Ye}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if("EAGER"===de.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:xe})}catch(ue){}for(const[ue,Ae]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(ue);try{const Ye=this.getOrInitializeService({instanceIdentifier:Ge});Ae.resolve(Ye)}catch(Ye){}}}}clearInstance(de=xe){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,r.Z)(function*(){const ue=Array.from(de.instances.values());yield Promise.all([...ue.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...ue.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=xe){return this.instances.has(de)}getOptions(de=xe){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:ue={}}=de,Ae=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Ae,options:ue});for(const[Ye,O]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Ye)&&O.resolve(Ge);return Ge}onInit(de,ue){var Ae;const Ge=this.normalizeInstanceIdentifier(ue),Ye=null!==(Ae=this.onInitCallbacks.get(Ge))&&void 0!==Ae?Ae:new Set;Ye.add(de),this.onInitCallbacks.set(Ge,Ye);const O=this.instances.get(Ge);return O&&de(O,Ge),()=>{Ye.delete(de)}}invokeOnInitCallbacks(de,ue){const Ae=this.onInitCallbacks.get(ue);if(Ae)for(const Ge of Ae)try{Ge(de,ue)}catch(Ye){}}getOrInitializeService({instanceIdentifier:de,options:ue={}}){let Ae=this.instances.get(de);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=de,Ze===xe?void 0:Ze),options:ue}),this.instances.set(de,Ae),this.instancesOptions.set(de,ue),this.invokeOnInitCallbacks(Ae,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,Ae)}catch(Ge){}var Ze;return Ae||null}normalizeInstanceIdentifier(de=xe){return this.component?this.component.multipleInstances?de:xe:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const ue=this.getProvider(de.name);if(ue.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);ue.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const ue=new ke(de,this);return this.providers.set(de,ue),ue}getProviders(){return Array.from(this.providers.values())}}},3855:(vt,$e,Q)=>{"use strict";Q.d($e,{in:()=>ne,Yd:()=>De,Ub:()=>Le,Am:()=>Ze});const r=[];var ne=(()=>{return(de=ne||(ne={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",ne;var de})();const H={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},xe=ne.INFO,ke={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Re=(de,ue,...Ae)=>{if(ue<de.logLevel)return;const Ge=(new Date).toISOString(),Ye=ke[ue];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Ye](`[${Ge}]  ${de.name}:`,...Ae)};class De{constructor(ue){this.name=ue,this._logLevel=xe,this._logHandler=Re,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in ne))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?H[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...ue),this._logHandler(this,ne.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...ue),this._logHandler(this,ne.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...ue),this._logHandler(this,ne.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...ue),this._logHandler(this,ne.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...ue),this._logHandler(this,ne.ERROR,...ue)}}function Le(de){r.forEach(ue=>{ue.setLogLevel(de)})}function Ze(de,ue){for(const Ae of r){let Ge=null;ue&&ue.level&&(Ge=H[ue.level]),Ae.userLogHandler=null===de?null:(Ye,O,...W)=>{const K=W.map(j=>{if(null==j)return null;if("string"==typeof j)return j;if("number"==typeof j||"boolean"==typeof j)return j.toString();if(j instanceof Error)return j.message;try{return JSON.stringify(j)}catch(P){return null}}).filter(j=>j).join(" ");O>=(null!=Ge?Ge:Ye.logLevel)&&de({level:ne[O].toLowerCase(),message:K,args:W,type:Ye.name})}}}},8239:(vt,$e,Q)=>{"use strict";function r(H,xe,ke,Re,De,Le,Ze){try{var de=H[Le](Ze),ue=de.value}catch(Ae){return void ke(Ae)}de.done?xe(ue):Promise.resolve(ue).then(Re,De)}function ne(H){return function(){var xe=this,ke=arguments;return new Promise(function(Re,De){var Le=H.apply(xe,ke);function Ze(ue){r(Le,Re,De,Ze,de,"next",ue)}function de(ue){r(Le,Re,De,Ze,de,"throw",ue)}Ze(void 0)})}}Q.d($e,{Z:()=>ne})}},vt=>{vt(vt.s=4229)}]);